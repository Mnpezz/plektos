var P3=Object.defineProperty;var VE=e=>{throw TypeError(e)};var O3=(e,t,n)=>t in e?P3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Qt=(e,t,n)=>O3(e,typeof t!="symbol"?t+"":t,n),mb=(e,t,n)=>t.has(e)||VE("Cannot "+n);var le=(e,t,n)=>(mb(e,t,"read from private field"),n?n.call(e):t.get(e)),Rt=(e,t,n)=>t.has(e)?VE("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),xt=(e,t,n,r)=>(mb(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ln=(e,t,n)=>(mb(e,t,"access private method"),n);var p0=(e,t,n,r)=>({set _(s){xt(e,t,s,n)},get _(){return le(e,t,r)}});function D3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gb={exports:{}},Gg={},vb={exports:{}},yn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function M3(){if(HE)return yn;HE=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),g=Symbol.iterator;function S(K){return K===null||typeof K!="object"?null:(K=g&&K[g]||K["@@iterator"],typeof K=="function"?K:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function N(K,X,Pe){this.props=K,this.context=X,this.refs=E,this.updater=Pe||k}N.prototype.isReactComponent={},N.prototype.setState=function(K,X){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,X,"setState")},N.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function O(){}O.prototype=N.prototype;function D(K,X,Pe){this.props=K,this.context=X,this.refs=E,this.updater=Pe||k}var M=D.prototype=new O;M.constructor=D,T(M,N.prototype),M.isPureReactComponent=!0;var z=Array.isArray,q=Object.prototype.hasOwnProperty,Y={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function ae(K,X,Pe){var Be,Fe={},Ze=null,Me=null;if(X!=null)for(Be in X.ref!==void 0&&(Me=X.ref),X.key!==void 0&&(Ze=""+X.key),X)q.call(X,Be)&&!Z.hasOwnProperty(Be)&&(Fe[Be]=X[Be]);var at=arguments.length-2;if(at===1)Fe.children=Pe;else if(1<at){for(var Oe=Array(at),wt=0;wt<at;wt++)Oe[wt]=arguments[wt+2];Fe.children=Oe}if(K&&K.defaultProps)for(Be in at=K.defaultProps,at)Fe[Be]===void 0&&(Fe[Be]=at[Be]);return{$$typeof:e,type:K,key:Ze,ref:Me,props:Fe,_owner:Y.current}}function te(K,X){return{$$typeof:e,type:K.type,key:X,ref:K.ref,props:K.props,_owner:K._owner}}function ye(K){return typeof K=="object"&&K!==null&&K.$$typeof===e}function Te(K){var X={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(Pe){return X[Pe]})}var Se=/\/+/g;function _e(K,X){return typeof K=="object"&&K!==null&&K.key!=null?Te(""+K.key):X.toString(36)}function Le(K,X,Pe,Be,Fe){var Ze=typeof K;(Ze==="undefined"||Ze==="boolean")&&(K=null);var Me=!1;if(K===null)Me=!0;else switch(Ze){case"string":case"number":Me=!0;break;case"object":switch(K.$$typeof){case e:case t:Me=!0}}if(Me)return Me=K,Fe=Fe(Me),K=Be===""?"."+_e(Me,0):Be,z(Fe)?(Pe="",K!=null&&(Pe=K.replace(Se,"$&/")+"/"),Le(Fe,X,Pe,"",function(wt){return wt})):Fe!=null&&(ye(Fe)&&(Fe=te(Fe,Pe+(!Fe.key||Me&&Me.key===Fe.key?"":(""+Fe.key).replace(Se,"$&/")+"/")+K)),X.push(Fe)),1;if(Me=0,Be=Be===""?".":Be+":",z(K))for(var at=0;at<K.length;at++){Ze=K[at];var Oe=Be+_e(Ze,at);Me+=Le(Ze,X,Pe,Oe,Fe)}else if(Oe=S(K),typeof Oe=="function")for(K=Oe.call(K),at=0;!(Ze=K.next()).done;)Ze=Ze.value,Oe=Be+_e(Ze,at++),Me+=Le(Ze,X,Pe,Oe,Fe);else if(Ze==="object")throw X=String(K),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Me}function ge(K,X,Pe){if(K==null)return K;var Be=[],Fe=0;return Le(K,Be,"","",function(Ze){return X.call(Pe,Ze,Fe++)}),Be}function me(K){if(K._status===-1){var X=K._result;X=X(),X.then(function(Pe){(K._status===0||K._status===-1)&&(K._status=1,K._result=Pe)},function(Pe){(K._status===0||K._status===-1)&&(K._status=2,K._result=Pe)}),K._status===-1&&(K._status=0,K._result=X)}if(K._status===1)return K._result.default;throw K._result}var de={current:null},Q={transition:null},J={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:Q,ReactCurrentOwner:Y};function xe(){throw Error("act(...) is not supported in production builds of React.")}return yn.Children={map:ge,forEach:function(K,X,Pe){ge(K,function(){X.apply(this,arguments)},Pe)},count:function(K){var X=0;return ge(K,function(){X++}),X},toArray:function(K){return ge(K,function(X){return X})||[]},only:function(K){if(!ye(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},yn.Component=N,yn.Fragment=n,yn.Profiler=s,yn.PureComponent=D,yn.StrictMode=r,yn.Suspense=p,yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,yn.act=xe,yn.cloneElement=function(K,X,Pe){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var Be=T({},K.props),Fe=K.key,Ze=K.ref,Me=K._owner;if(X!=null){if(X.ref!==void 0&&(Ze=X.ref,Me=Y.current),X.key!==void 0&&(Fe=""+X.key),K.type&&K.type.defaultProps)var at=K.type.defaultProps;for(Oe in X)q.call(X,Oe)&&!Z.hasOwnProperty(Oe)&&(Be[Oe]=X[Oe]===void 0&&at!==void 0?at[Oe]:X[Oe])}var Oe=arguments.length-2;if(Oe===1)Be.children=Pe;else if(1<Oe){at=Array(Oe);for(var wt=0;wt<Oe;wt++)at[wt]=arguments[wt+2];Be.children=at}return{$$typeof:e,type:K.type,key:Fe,ref:Ze,props:Be,_owner:Me}},yn.createContext=function(K){return K={$$typeof:c,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:i,_context:K},K.Consumer=K},yn.createElement=ae,yn.createFactory=function(K){var X=ae.bind(null,K);return X.type=K,X},yn.createRef=function(){return{current:null}},yn.forwardRef=function(K){return{$$typeof:u,render:K}},yn.isValidElement=ye,yn.lazy=function(K){return{$$typeof:y,_payload:{_status:-1,_result:K},_init:me}},yn.memo=function(K,X){return{$$typeof:m,type:K,compare:X===void 0?null:X}},yn.startTransition=function(K){var X=Q.transition;Q.transition={};try{K()}finally{Q.transition=X}},yn.unstable_act=xe,yn.useCallback=function(K,X){return de.current.useCallback(K,X)},yn.useContext=function(K){return de.current.useContext(K)},yn.useDebugValue=function(){},yn.useDeferredValue=function(K){return de.current.useDeferredValue(K)},yn.useEffect=function(K,X){return de.current.useEffect(K,X)},yn.useId=function(){return de.current.useId()},yn.useImperativeHandle=function(K,X,Pe){return de.current.useImperativeHandle(K,X,Pe)},yn.useInsertionEffect=function(K,X){return de.current.useInsertionEffect(K,X)},yn.useLayoutEffect=function(K,X){return de.current.useLayoutEffect(K,X)},yn.useMemo=function(K,X){return de.current.useMemo(K,X)},yn.useReducer=function(K,X,Pe){return de.current.useReducer(K,X,Pe)},yn.useRef=function(K){return de.current.useRef(K)},yn.useState=function(K){return de.current.useState(K)},yn.useSyncExternalStore=function(K,X,Pe){return de.current.useSyncExternalStore(K,X,Pe)},yn.useTransition=function(){return de.current.useTransition()},yn.version="18.3.1",yn}var qE;function Ax(){return qE||(qE=1,vb.exports=M3()),vb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function I3(){if(KE)return Gg;KE=1;var e=Ax(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(u,p,m){var y,g={},S=null,k=null;m!==void 0&&(S=""+m),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(k=p.ref);for(y in p)r.call(p,y)&&!i.hasOwnProperty(y)&&(g[y]=p[y]);if(u&&u.defaultProps)for(y in p=u.defaultProps,p)g[y]===void 0&&(g[y]=p[y]);return{$$typeof:t,type:u,key:S,ref:k,props:g,_owner:s.current}}return Gg.Fragment=n,Gg.jsx=c,Gg.jsxs=c,Gg}var YE;function L3(){return YE||(YE=1,gb.exports=I3()),gb.exports}var d=L3(),_=Ax();const Ve=Tx(_),k_=D3({__proto__:null,default:Ve},[_]);var m0={},yb={exports:{}},Lo={},xb={exports:{}},wb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GE;function F3(){return GE||(GE=1,function(e){function t(Q,J){var xe=Q.length;Q.push(J);e:for(;0<xe;){var K=xe-1>>>1,X=Q[K];if(0<s(X,J))Q[K]=J,Q[xe]=X,xe=K;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var J=Q[0],xe=Q.pop();if(xe!==J){Q[0]=xe;e:for(var K=0,X=Q.length,Pe=X>>>1;K<Pe;){var Be=2*(K+1)-1,Fe=Q[Be],Ze=Be+1,Me=Q[Ze];if(0>s(Fe,xe))Ze<X&&0>s(Me,Fe)?(Q[K]=Me,Q[Ze]=xe,K=Ze):(Q[K]=Fe,Q[Be]=xe,K=Be);else if(Ze<X&&0>s(Me,xe))Q[K]=Me,Q[Ze]=xe,K=Ze;else break e}}return J}function s(Q,J){var xe=Q.sortIndex-J.sortIndex;return xe!==0?xe:Q.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var p=[],m=[],y=1,g=null,S=3,k=!1,T=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(Q){for(var J=n(m);J!==null;){if(J.callback===null)r(m);else if(J.startTime<=Q)r(m),J.sortIndex=J.expirationTime,t(p,J);else break;J=n(m)}}function z(Q){if(E=!1,M(Q),!T)if(n(p)!==null)T=!0,me(q);else{var J=n(m);J!==null&&de(z,J.startTime-Q)}}function q(Q,J){T=!1,E&&(E=!1,O(ae),ae=-1),k=!0;var xe=S;try{for(M(J),g=n(p);g!==null&&(!(g.expirationTime>J)||Q&&!Te());){var K=g.callback;if(typeof K=="function"){g.callback=null,S=g.priorityLevel;var X=K(g.expirationTime<=J);J=e.unstable_now(),typeof X=="function"?g.callback=X:g===n(p)&&r(p),M(J)}else r(p);g=n(p)}if(g!==null)var Pe=!0;else{var Be=n(m);Be!==null&&de(z,Be.startTime-J),Pe=!1}return Pe}finally{g=null,S=xe,k=!1}}var Y=!1,Z=null,ae=-1,te=5,ye=-1;function Te(){return!(e.unstable_now()-ye<te)}function Se(){if(Z!==null){var Q=e.unstable_now();ye=Q;var J=!0;try{J=Z(!0,Q)}finally{J?_e():(Y=!1,Z=null)}}else Y=!1}var _e;if(typeof D=="function")_e=function(){D(Se)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,ge=Le.port2;Le.port1.onmessage=Se,_e=function(){ge.postMessage(null)}}else _e=function(){N(Se,0)};function me(Q){Z=Q,Y||(Y=!0,_e())}function de(Q,J){ae=N(function(){Q(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){T||k||(T=!0,me(q))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var J=3;break;default:J=S}var xe=S;S=J;try{return Q()}finally{S=xe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,J){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var xe=S;S=Q;try{return J()}finally{S=xe}},e.unstable_scheduleCallback=function(Q,J,xe){var K=e.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?K+xe:K):xe=K,Q){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=xe+X,Q={id:y++,callback:J,priorityLevel:Q,startTime:xe,expirationTime:X,sortIndex:-1},xe>K?(Q.sortIndex=xe,t(m,Q),n(p)===null&&Q===n(m)&&(E?(O(ae),ae=-1):E=!0,de(z,xe-K))):(Q.sortIndex=X,t(p,Q),T||k||(T=!0,me(q))),Q},e.unstable_shouldYield=Te,e.unstable_wrapCallback=function(Q){var J=S;return function(){var xe=S;S=J;try{return Q.apply(this,arguments)}finally{S=xe}}}}(wb)),wb}var ZE;function $3(){return ZE||(ZE=1,xb.exports=F3()),xb.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function B3(){if(QE)return Lo;QE=1;var e=Ax(),t=$3();function n(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,h=1;h<arguments.length;h++)a+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,a){c(o,a),c(o+"Capture",a)}function c(o,a){for(s[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},g={};function S(o){return p.call(g,o)?!0:p.call(y,o)?!1:m.test(o)?g[o]=!0:(y[o]=!0,!1)}function k(o,a,h,x){if(h!==null&&h.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return x?!1:h!==null?!h.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function T(o,a,h,x){if(a===null||typeof a>"u"||k(o,a,h,x))return!0;if(x)return!1;if(h!==null)switch(h.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function E(o,a,h,x,C,A,F){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=x,this.attributeNamespace=C,this.mustUseProperty=h,this.propertyName=o,this.type=a,this.sanitizeURL=A,this.removeEmptyString=F}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){N[o]=new E(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];N[a]=new E(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){N[o]=new E(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){N[o]=new E(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){N[o]=new E(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){N[o]=new E(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){N[o]=new E(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){N[o]=new E(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){N[o]=new E(o,5,!1,o.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function D(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(O,D);N[a]=new E(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(O,D);N[a]=new E(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(O,D);N[a]=new E(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){N[o]=new E(o,1,!1,o.toLowerCase(),null,!1,!1)}),N.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){N[o]=new E(o,1,!1,o.toLowerCase(),null,!0,!0)});function M(o,a,h,x){var C=N.hasOwnProperty(a)?N[a]:null;(C!==null?C.type!==0:x||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(T(a,h,C,x)&&(h=null),x||C===null?S(a)&&(h===null?o.removeAttribute(a):o.setAttribute(a,""+h)):C.mustUseProperty?o[C.propertyName]=h===null?C.type===3?!1:"":h:(a=C.attributeName,x=C.attributeNamespace,h===null?o.removeAttribute(a):(C=C.type,h=C===3||C===4&&h===!0?"":""+h,x?o.setAttributeNS(x,a,h):o.setAttribute(a,h))))}var z=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),Y=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),Te=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),ge=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),Q=Symbol.iterator;function J(o){return o===null||typeof o!="object"?null:(o=Q&&o[Q]||o["@@iterator"],typeof o=="function"?o:null)}var xe=Object.assign,K;function X(o){if(K===void 0)try{throw Error()}catch(h){var a=h.stack.trim().match(/\n( *(at )?)/);K=a&&a[1]||""}return`
`+K+o}var Pe=!1;function Be(o,a){if(!o||Pe)return"";Pe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Re){var x=Re}Reflect.construct(o,[],a)}else{try{a.call()}catch(Re){x=Re}o.call(a.prototype)}else{try{throw Error()}catch(Re){x=Re}o()}}catch(Re){if(Re&&x&&typeof Re.stack=="string"){for(var C=Re.stack.split(`
`),A=x.stack.split(`
`),F=C.length-1,ee=A.length-1;1<=F&&0<=ee&&C[F]!==A[ee];)ee--;for(;1<=F&&0<=ee;F--,ee--)if(C[F]!==A[ee]){if(F!==1||ee!==1)do if(F--,ee--,0>ee||C[F]!==A[ee]){var fe=`
`+C[F].replace(" at new "," at ");return o.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",o.displayName)),fe}while(1<=F&&0<=ee);break}}}finally{Pe=!1,Error.prepareStackTrace=h}return(o=o?o.displayName||o.name:"")?X(o):""}function Fe(o){switch(o.tag){case 5:return X(o.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return o=Be(o.type,!1),o;case 11:return o=Be(o.type.render,!1),o;case 1:return o=Be(o.type,!0),o;default:return""}}function Ze(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Z:return"Fragment";case Y:return"Portal";case te:return"Profiler";case ae:return"StrictMode";case _e:return"Suspense";case Le:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Te:return(o.displayName||"Context")+".Consumer";case ye:return(o._context.displayName||"Context")+".Provider";case Se:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case ge:return a=o.displayName||null,a!==null?a:Ze(o.type)||"Memo";case me:a=o._payload,o=o._init;try{return Ze(o(a))}catch{}}return null}function Me(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ze(a);case 8:return a===ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function at(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Oe(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function wt(o){var a=Oe(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),x=""+o[a];if(!o.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var C=h.get,A=h.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return C.call(this)},set:function(F){x=""+F,A.call(this,F)}}),Object.defineProperty(o,a,{enumerable:h.enumerable}),{getValue:function(){return x},setValue:function(F){x=""+F},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function At(o){o._valueTracker||(o._valueTracker=wt(o))}function ut(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var h=a.getValue(),x="";return o&&(x=Oe(o)?o.checked?"true":"false":o.value),o=x,o!==h?(a.setValue(o),!0):!1}function Gt(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function nn(o,a){var h=a.checked;return xe({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h??o._wrapperState.initialChecked})}function On(o,a){var h=a.defaultValue==null?"":a.defaultValue,x=a.checked!=null?a.checked:a.defaultChecked;h=at(a.value!=null?a.value:h),o._wrapperState={initialChecked:x,initialValue:h,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function cr(o,a){a=a.checked,a!=null&&M(o,"checked",a,!1)}function zn(o,a){cr(o,a);var h=at(a.value),x=a.type;if(h!=null)x==="number"?(h===0&&o.value===""||o.value!=h)&&(o.value=""+h):o.value!==""+h&&(o.value=""+h);else if(x==="submit"||x==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Ft(o,a.type,h):a.hasOwnProperty("defaultValue")&&Ft(o,a.type,at(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function Xe(o,a,h){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var x=a.type;if(!(x!=="submit"&&x!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,h||a===o.value||(o.value=a),o.defaultValue=a}h=o.name,h!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,h!==""&&(o.name=h)}function Ft(o,a,h){(a!=="number"||Gt(o.ownerDocument)!==o)&&(h==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+h&&(o.defaultValue=""+h))}var Zt=Array.isArray;function Vt(o,a,h,x){if(o=o.options,a){a={};for(var C=0;C<h.length;C++)a["$"+h[C]]=!0;for(h=0;h<o.length;h++)C=a.hasOwnProperty("$"+o[h].value),o[h].selected!==C&&(o[h].selected=C),C&&x&&(o[h].defaultSelected=!0)}else{for(h=""+at(h),a=null,C=0;C<o.length;C++){if(o[C].value===h){o[C].selected=!0,x&&(o[C].defaultSelected=!0);return}a!==null||o[C].disabled||(a=o[C])}a!==null&&(a.selected=!0)}}function ie(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return xe({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ve(o,a){var h=a.value;if(h==null){if(h=a.children,a=a.defaultValue,h!=null){if(a!=null)throw Error(n(92));if(Zt(h)){if(1<h.length)throw Error(n(93));h=h[0]}a=h}a==null&&(a=""),h=a}o._wrapperState={initialValue:at(h)}}function Ie(o,a){var h=at(a.value),x=at(a.defaultValue);h!=null&&(h=""+h,h!==o.value&&(o.value=h),a.defaultValue==null&&o.defaultValue!==h&&(o.defaultValue=h)),x!=null&&(o.defaultValue=""+x)}function Je(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function He(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ue(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?He(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var ct,Nt=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,h,x,C){MSApp.execUnsafeLocalFunction(function(){return o(a,h,x,C)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(ct=ct||document.createElement("div"),ct.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=ct.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function rn(o,a){if(a){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=a;return}}o.textContent=a}var fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mr=["Webkit","ms","Moz","O"];Object.keys(fn).forEach(function(o){mr.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),fn[a]=fn[o]})});function Qn(o,a,h){return a==null||typeof a=="boolean"||a===""?"":h||typeof a!="number"||a===0||fn.hasOwnProperty(o)&&fn[o]?(""+a).trim():a+"px"}function sr(o,a){o=o.style;for(var h in a)if(a.hasOwnProperty(h)){var x=h.indexOf("--")===0,C=Qn(h,a[h],x);h==="float"&&(h="cssFloat"),x?o.setProperty(h,C):o[h]=C}}var Tr=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ht(o,a){if(a){if(Tr[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function ws(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var os=null;function qo(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var dt=null,eo=null,Ms=null;function bs(o){if(o=us(o)){if(typeof dt!="function")throw Error(n(280));var a=o.stateNode;a&&(a=Ih(a),dt(o.stateNode,o.type,a))}}function Wl(o){eo?Ms?Ms.push(o):Ms=[o]:eo=o}function Lt(){if(eo){var o=eo,a=Ms;if(Ms=eo=null,bs(o),a)for(o=0;o<a.length;o++)bs(a[o])}}function bn(o,a){return o(a)}function Dn(){}var ur=!1;function gr(o,a,h){if(ur)return o(a,h);ur=!0;try{return bn(o,a,h)}finally{ur=!1,(eo!==null||Ms!==null)&&(Dn(),Lt())}}function Ur(o,a){var h=o.stateNode;if(h===null)return null;var x=Ih(h);if(x===null)return null;h=x[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,a,typeof h));return h}var zr=!1;if(u)try{var tn={};Object.defineProperty(tn,"passive",{get:function(){zr=!0}}),window.addEventListener("test",tn,tn),window.removeEventListener("test",tn,tn)}catch{zr=!1}function Rn(o,a,h,x,C,A,F,ee,fe){var Re=Array.prototype.slice.call(arguments,3);try{a.apply(h,Re)}catch(Ge){this.onError(Ge)}}var Vl=!1,Yi=null,Gi=!1,$a=null,Km={onError:function(o){Vl=!0,Yi=o}};function vi(o,a,h,x,C,A,F,ee,fe){Vl=!1,Yi=null,Rn.apply(Km,arguments)}function Ba(o,a,h,x,C,A,F,ee,fe){if(vi.apply(this,arguments),Vl){if(Vl){var Re=Yi;Vl=!1,Yi=null}else throw Error(n(198));Gi||(Gi=!0,$a=Re)}}function is(o){var a=o,h=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,(a.flags&4098)!==0&&(h=a.return),o=a.return;while(o)}return a.tag===3?h:null}function Ua(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function vh(o){if(is(o)!==o)throw Error(n(188))}function yi(o){var a=o.alternate;if(!a){if(a=is(o),a===null)throw Error(n(188));return a!==o?null:o}for(var h=o,x=a;;){var C=h.return;if(C===null)break;var A=C.alternate;if(A===null){if(x=C.return,x!==null){h=x;continue}break}if(C.child===A.child){for(A=C.child;A;){if(A===h)return vh(C),o;if(A===x)return vh(C),a;A=A.sibling}throw Error(n(188))}if(h.return!==x.return)h=C,x=A;else{for(var F=!1,ee=C.child;ee;){if(ee===h){F=!0,h=C,x=A;break}if(ee===x){F=!0,x=C,h=A;break}ee=ee.sibling}if(!F){for(ee=A.child;ee;){if(ee===h){F=!0,h=A,x=C;break}if(ee===x){F=!0,x=A,h=C;break}ee=ee.sibling}if(!F)throw Error(n(189))}}if(h.alternate!==x)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:a}function Dd(o){return o=yi(o),o!==null?xi(o):null}function xi(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=xi(o);if(a!==null)return a;o=o.sibling}return null}var Md=t.unstable_scheduleCallback,su=t.unstable_cancelCallback,qn=t.unstable_shouldYield,Zi=t.unstable_requestPaint,wn=t.unstable_now,yh=t.unstable_getCurrentPriorityLevel,wi=t.unstable_ImmediatePriority,Hl=t.unstable_UserBlockingPriority,Qi=t.unstable_NormalPriority,ou=t.unstable_LowPriority,Ko=t.unstable_IdlePriority,ql=null,_s=null;function xh(o){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(ql,o,void 0,(o.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Fd,Id=Math.log,Ld=Math.LN2;function Fd(o){return o>>>=0,o===0?32:31-(Id(o)/Ld|0)|0}var jn=64,bi=4194304;function yo(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Is(o,a){var h=o.pendingLanes;if(h===0)return 0;var x=0,C=o.suspendedLanes,A=o.pingedLanes,F=h&268435455;if(F!==0){var ee=F&~C;ee!==0?x=yo(ee):(A&=F,A!==0&&(x=yo(A)))}else F=h&~C,F!==0?x=yo(F):A!==0&&(x=yo(A));if(x===0)return 0;if(a!==0&&a!==x&&(a&C)===0&&(C=x&-x,A=a&-a,C>=A||C===16&&(A&4194240)!==0))return a;if((x&4)!==0&&(x|=h&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=x;0<a;)h=31-Ht(a),C=1<<h,x|=o[h],a&=~C;return x}function iu(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $d(o,a){for(var h=o.suspendedLanes,x=o.pingedLanes,C=o.expirationTimes,A=o.pendingLanes;0<A;){var F=31-Ht(A),ee=1<<F,fe=C[F];fe===-1?((ee&h)===0||(ee&x)!==0)&&(C[F]=iu(ee,a)):fe<=a&&(o.expiredLanes|=ee),A&=~ee}}function Xi(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function au(){var o=jn;return jn<<=1,(jn&4194240)===0&&(jn=64),o}function _i(o){for(var a=[],h=0;31>h;h++)a.push(o);return a}function za(o,a,h){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-Ht(a),o[a]=h}function Wa(o,a){var h=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var x=o.eventTimes;for(o=o.expirationTimes;0<h;){var C=31-Ht(h),A=1<<C;a[C]=0,x[C]=-1,o[C]=-1,h&=~A}}function Va(o,a){var h=o.entangledLanes|=a;for(o=o.entanglements;h;){var x=31-Ht(h),C=1<<x;C&a|o[x]&a&&(o[x]|=a),h&=~C}}var _n=0;function cn(o){return o&=-o,1<o?4<o?(o&268435455)!==0?16:536870912:4:1}var Kl,lu,wh,Gr,Si,Ji=!1,Ls=[],Yo=null,Go=null,Wn=null,Zr=new Map,Zo=new Map,Fs=[],Bd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qo(o,a){switch(o){case"focusin":case"focusout":Yo=null;break;case"dragenter":case"dragleave":Go=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Zr.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(a.pointerId)}}function ea(o,a,h,x,C,A){return o===null||o.nativeEvent!==A?(o={blockedOn:a,domEventName:h,eventSystemFlags:x,nativeEvent:A,targetContainers:[C]},a!==null&&(a=us(a),a!==null&&lu(a)),o):(o.eventSystemFlags|=x,a=o.targetContainers,C!==null&&a.indexOf(C)===-1&&a.push(C),o)}function xo(o,a,h,x,C){switch(a){case"focusin":return Yo=ea(Yo,o,a,h,x,C),!0;case"dragenter":return Go=ea(Go,o,a,h,x,C),!0;case"mouseover":return Wn=ea(Wn,o,a,h,x,C),!0;case"pointerover":var A=C.pointerId;return Zr.set(A,ea(Zr.get(A)||null,o,a,h,x,C)),!0;case"gotpointercapture":return A=C.pointerId,Zo.set(A,ea(Zo.get(A)||null,o,a,h,x,C)),!0}return!1}function cu(o){var a=Ni(o.target);if(a!==null){var h=is(a);if(h!==null){if(a=h.tag,a===13){if(a=Ua(h),a!==null){o.blockedOn=a,Si(o.priority,function(){wh(h)});return}}else if(a===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Yl(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var h=Ka(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(h===null){h=o.nativeEvent;var x=new h.constructor(h.type,h);os=x,h.target.dispatchEvent(x),os=null}else return a=us(h),a!==null&&lu(a),o.blockedOn=h,!1;a.shift()}return!0}function uu(o,a,h){Yl(o)&&h.delete(a)}function Gl(){Ji=!1,Yo!==null&&Yl(Yo)&&(Yo=null),Go!==null&&Yl(Go)&&(Go=null),Wn!==null&&Yl(Wn)&&(Wn=null),Zr.forEach(uu),Zo.forEach(uu)}function Sn(o,a){o.blockedOn===a&&(o.blockedOn=null,Ji||(Ji=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Gl)))}function En(o){function a(C){return Sn(C,o)}if(0<Ls.length){Sn(Ls[0],o);for(var h=1;h<Ls.length;h++){var x=Ls[h];x.blockedOn===o&&(x.blockedOn=null)}}for(Yo!==null&&Sn(Yo,o),Go!==null&&Sn(Go,o),Wn!==null&&Sn(Wn,o),Zr.forEach(a),Zo.forEach(a),h=0;h<Fs.length;h++)x=Fs[h],x.blockedOn===o&&(x.blockedOn=null);for(;0<Fs.length&&(h=Fs[0],h.blockedOn===null);)cu(h),h.blockedOn===null&&Fs.shift()}var Ha=z.ReactCurrentBatchConfig,Ei=!0;function Ym(o,a,h,x){var C=_n,A=Ha.transition;Ha.transition=null;try{_n=1,qa(o,a,h,x)}finally{_n=C,Ha.transition=A}}function Gm(o,a,h,x){var C=_n,A=Ha.transition;Ha.transition=null;try{_n=4,qa(o,a,h,x)}finally{_n=C,Ha.transition=A}}function qa(o,a,h,x){if(Ei){var C=Ka(o,a,h,x);if(C===null)Xm(o,a,x,ta,h),Qo(o,x);else if(xo(C,o,a,h,x))x.stopPropagation();else if(Qo(o,x),a&4&&-1<Bd.indexOf(o)){for(;C!==null;){var A=us(C);if(A!==null&&Kl(A),A=Ka(o,a,h,x),A===null&&Xm(o,a,x,ta,h),A===C)break;C=A}C!==null&&x.stopPropagation()}else Xm(o,a,x,null,h)}}var ta=null;function Ka(o,a,h,x){if(ta=null,o=qo(x),o=Ni(o),o!==null)if(a=is(o),a===null)o=null;else if(h=a.tag,h===13){if(o=Ua(a),o!==null)return o;o=null}else if(h===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return ta=o,null}function bh(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yh()){case wi:return 1;case Hl:return 4;case Qi:case ou:return 16;case Ko:return 536870912;default:return 16}default:return 16}}var Kn=null,Zl=null,$s=null;function Ql(){if($s)return $s;var o,a=Zl,h=a.length,x,C="value"in Kn?Kn.value:Kn.textContent,A=C.length;for(o=0;o<h&&a[o]===C[o];o++);var F=h-o;for(x=1;x<=F&&a[h-x]===C[A-x];x++);return $s=C.slice(o,1<x?1-x:void 0)}function na(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function _r(){return!0}function Ya(){return!1}function Ar(o){function a(h,x,C,A,F){this._reactName=h,this._targetInst=C,this.type=x,this.nativeEvent=A,this.target=F,this.currentTarget=null;for(var ee in o)o.hasOwnProperty(ee)&&(h=o[ee],this[ee]=h?h(A):A[ee]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?_r:Ya,this.isPropagationStopped=Ya,this}return xe(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),a}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=Ar(ki),Xo=xe({},ki,{view:0,detail:0}),fu=Ar(Xo),Rr,Xl,Sr,vr=xe({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tc,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Sr&&(Sr&&o.type==="mousemove"?(Rr=o.screenX-Sr.screenX,Xl=o.screenY-Sr.screenY):Xl=Rr=0,Sr=o),Rr)},movementY:function(o){return"movementY"in o?o.movementY:Xl}}),ra=Ar(vr),Bs=xe({},vr,{dataTransfer:0}),Jl=Ar(Bs),Ga=xe({},Xo,{relatedTarget:0}),In=Ar(Ga),Jo=xe({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Za=Ar(Jo),Ud=xe({},ki,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),ei=Ar(Ud),zd=xe({},ki,{data:0}),hu=Ar(zd),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qa(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=ec[o])?!!a[o]:!1}function tc(){return Qa}var nc=xe({},Xo,{key:function(o){if(o.key){var a=pu[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=na(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?mu[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tc,charCode:function(o){return o.type==="keypress"?na(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?na(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),_h=Ar(nc),rc=xe({},vr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xa=Ar(rc),Sh=xe({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tc}),Eh=Ar(Sh),Wd=xe({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),gu=Ar(Wd),kh=xe({},vr,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ch=Ar(kh),as=[9,13,27,32],sa=u&&"CompositionEvent"in window,wo=null;u&&"documentMode"in document&&(wo=document.documentMode);var Vd=u&&"TextEvent"in window&&!wo,Hd=u&&(!sa||wo&&8<wo&&11>=wo),Nh=" ",jh=!1;function sc(o,a){switch(o){case"keyup":return as.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bo(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Fn=!1;function ti(o,a){switch(o){case"compositionend":return bo(a);case"keypress":return a.which!==32?null:(jh=!0,Nh);case"textInput":return o=a.data,o===Nh&&jh?null:o;default:return null}}function Us(o,a){if(Fn)return o==="compositionend"||!sa&&sc(o,a)?(o=Ql(),$s=Zl=Kn=null,Fn=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Hd&&a.locale!=="ko"?null:a.data;default:return null}}var Zm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ja(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!Zm[o.type]:a==="textarea"}function vu(o,a,h,x){Wl(x),a=Ph(a,"onChange"),0<a.length&&(h=new du("onChange","change",null,h,x),o.push({event:h,listeners:a}))}var Er=null,_o=null;function el(o){by(o,0)}function to(o){var a=on(o);if(ut(a))return o}function Th(o,a){if(o==="change")return a}var v=!1;if(u){var b;if(u){var j="oninput"in document;if(!j){var P=document.createElement("div");P.setAttribute("oninput","return;"),j=typeof P.oninput=="function"}b=j}else b=!1;v=b&&(!document.documentMode||9<document.documentMode)}function I(){Er&&(Er.detachEvent("onpropertychange",U),_o=Er=null)}function U(o){if(o.propertyName==="value"&&to(_o)){var a=[];vu(a,_o,o,qo(o)),gr(el,a)}}function G(o,a,h){o==="focusin"?(I(),Er=a,_o=h,Er.attachEvent("onpropertychange",U)):o==="focusout"&&I()}function oe(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return to(_o)}function pe(o,a){if(o==="click")return to(a)}function $(o,a){if(o==="input"||o==="change")return to(a)}function H(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var B=typeof Object.is=="function"?Object.is:H;function re(o,a){if(B(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var h=Object.keys(o),x=Object.keys(a);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var C=h[x];if(!p.call(a,C)||!B(o[C],a[C]))return!1}return!0}function ne(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ue(o,a){var h=ne(o);o=0;for(var x;h;){if(h.nodeType===3){if(x=o+h.textContent.length,o<=a&&x>=a)return{node:h,offset:a-o};o=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=ne(h)}}function be(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?be(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function ce(){for(var o=window,a=Gt();a instanceof o.HTMLIFrameElement;){try{var h=typeof a.contentWindow.location.href=="string"}catch{h=!1}if(h)o=a.contentWindow;else break;a=Gt(o.document)}return a}function Ne(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function De(o){var a=ce(),h=o.focusedElem,x=o.selectionRange;if(a!==h&&h&&h.ownerDocument&&be(h.ownerDocument.documentElement,h)){if(x!==null&&Ne(h)){if(a=x.start,o=x.end,o===void 0&&(o=a),"selectionStart"in h)h.selectionStart=a,h.selectionEnd=Math.min(o,h.value.length);else if(o=(a=h.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var C=h.textContent.length,A=Math.min(x.start,C);x=x.end===void 0?A:Math.min(x.end,C),!o.extend&&A>x&&(C=x,x=A,A=C),C=ue(h,A);var F=ue(h,x);C&&F&&(o.rangeCount!==1||o.anchorNode!==C.node||o.anchorOffset!==C.offset||o.focusNode!==F.node||o.focusOffset!==F.offset)&&(a=a.createRange(),a.setStart(C.node,C.offset),o.removeAllRanges(),A>x?(o.addRange(a),o.extend(F.node,F.offset)):(a.setEnd(F.node,F.offset),o.addRange(a)))}}for(a=[],o=h;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<a.length;h++)o=a[h],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Ae=u&&"documentMode"in document&&11>=document.documentMode,$e=null,nt=null,st=null,et=!1;function ot(o,a,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;et||$e==null||$e!==Gt(x)||(x=$e,"selectionStart"in x&&Ne(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),st&&re(st,x)||(st=x,x=Ph(nt,"onSelect"),0<x.length&&(a=new du("onSelect","select",null,a,h),o.push({event:a,listeners:x}),a.target=$e)))}function Ke(o,a){var h={};return h[o.toLowerCase()]=a.toLowerCase(),h["Webkit"+o]="webkit"+a,h["Moz"+o]="moz"+a,h}var lt={animationend:Ke("Animation","AnimationEnd"),animationiteration:Ke("Animation","AnimationIteration"),animationstart:Ke("Animation","AnimationStart"),transitionend:Ke("Transition","TransitionEnd")},vt={},Bt={};u&&(Bt=document.createElement("div").style,"AnimationEvent"in window||(delete lt.animationend.animation,delete lt.animationiteration.animation,delete lt.animationstart.animation),"TransitionEvent"in window||delete lt.transitionend.transition);function en(o){if(vt[o])return vt[o];if(!lt[o])return o;var a=lt[o],h;for(h in a)if(a.hasOwnProperty(h)&&h in Bt)return vt[o]=a[h];return o}var sn=en("animationend"),ls=en("animationiteration"),$t=en("animationstart"),Yn=en("transitionend"),dr=new Map,tl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vn(o,a){dr.set(o,a),i(a,[o])}for(var So=0;So<tl.length;So++){var nl=tl[So],Ah=nl.toLowerCase(),wy=nl[0].toUpperCase()+nl.slice(1);Vn(Ah,"on"+wy)}Vn(sn,"onAnimationEnd"),Vn(ls,"onAnimationIteration"),Vn($t,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(Yn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oc=new Set("cancel close invalid load scroll toggle".split(" ").concat(oa));function qd(o,a,h){var x=o.type||"unknown-event";o.currentTarget=h,Ba(x,a,void 0,o),o.currentTarget=null}function by(o,a){a=(a&4)!==0;for(var h=0;h<o.length;h++){var x=o[h],C=x.event;x=x.listeners;e:{var A=void 0;if(a)for(var F=x.length-1;0<=F;F--){var ee=x[F],fe=ee.instance,Re=ee.currentTarget;if(ee=ee.listener,fe!==A&&C.isPropagationStopped())break e;qd(C,ee,Re),A=fe}else for(F=0;F<x.length;F++){if(ee=x[F],fe=ee.instance,Re=ee.currentTarget,ee=ee.listener,fe!==A&&C.isPropagationStopped())break e;qd(C,ee,Re),A=fe}}}if(Gi)throw o=$a,Gi=!1,$a=null,o}function Xn(o,a){var h=a[Mh];h===void 0&&(h=a[Mh]=new Set);var x=o+"__bubble";h.has(x)||(Rh(a,o,2,!1),h.add(x))}function Qm(o,a,h){var x=0;a&&(x|=4),Rh(h,o,x,a)}var ic="_reactListening"+Math.random().toString(36).slice(2);function rl(o){if(!o[ic]){o[ic]=!0,r.forEach(function(h){h!=="selectionchange"&&(oc.has(h)||Qm(h,!1,o),Qm(h,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[ic]||(a[ic]=!0,Qm("selectionchange",!1,a))}}function Rh(o,a,h,x){switch(bh(a)){case 1:var C=Ym;break;case 4:C=Gm;break;default:C=qa}h=C.bind(null,a,h,o),C=void 0,!zr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(C=!0),x?C!==void 0?o.addEventListener(a,h,{capture:!0,passive:C}):o.addEventListener(a,h,!0):C!==void 0?o.addEventListener(a,h,{passive:C}):o.addEventListener(a,h,!1)}function Xm(o,a,h,x,C){var A=x;if((a&1)===0&&(a&2)===0&&x!==null)e:for(;;){if(x===null)return;var F=x.tag;if(F===3||F===4){var ee=x.stateNode.containerInfo;if(ee===C||ee.nodeType===8&&ee.parentNode===C)break;if(F===4)for(F=x.return;F!==null;){var fe=F.tag;if((fe===3||fe===4)&&(fe=F.stateNode.containerInfo,fe===C||fe.nodeType===8&&fe.parentNode===C))return;F=F.return}for(;ee!==null;){if(F=Ni(ee),F===null)return;if(fe=F.tag,fe===5||fe===6){x=A=F;continue e}ee=ee.parentNode}}x=x.return}gr(function(){var Re=A,Ge=qo(h),tt=[];e:{var Ye=dr.get(o);if(Ye!==void 0){var yt=du,St=o;switch(o){case"keypress":if(na(h)===0)break e;case"keydown":case"keyup":yt=_h;break;case"focusin":St="focus",yt=In;break;case"focusout":St="blur",yt=In;break;case"beforeblur":case"afterblur":yt=In;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=ra;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=Jl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=Eh;break;case sn:case ls:case $t:yt=Za;break;case Yn:yt=gu;break;case"scroll":yt=fu;break;case"wheel":yt=Ch;break;case"copy":case"cut":case"paste":yt=ei;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=Xa}var Et=(a&4)!==0,xr=!Et&&o==="scroll",ke=Et?Ye!==null?Ye+"Capture":null:Ye;Et=[];for(var we=Re,je;we!==null;){je=we;var it=je.stateNode;if(je.tag===5&&it!==null&&(je=it,ke!==null&&(it=Ur(we,ke),it!=null&&Et.push(yu(we,it,je)))),xr)break;we=we.return}0<Et.length&&(Ye=new yt(Ye,St,null,h,Ge),tt.push({event:Ye,listeners:Et}))}}if((a&7)===0){e:{if(Ye=o==="mouseover"||o==="pointerover",yt=o==="mouseout"||o==="pointerout",Ye&&h!==os&&(St=h.relatedTarget||h.fromElement)&&(Ni(St)||St[no]))break e;if((yt||Ye)&&(Ye=Ge.window===Ge?Ge:(Ye=Ge.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,yt?(St=h.relatedTarget||h.toElement,yt=Re,St=St?Ni(St):null,St!==null&&(xr=is(St),St!==xr||St.tag!==5&&St.tag!==6)&&(St=null)):(yt=null,St=Re),yt!==St)){if(Et=ra,it="onMouseLeave",ke="onMouseEnter",we="mouse",(o==="pointerout"||o==="pointerover")&&(Et=Xa,it="onPointerLeave",ke="onPointerEnter",we="pointer"),xr=yt==null?Ye:on(yt),je=St==null?Ye:on(St),Ye=new Et(it,we+"leave",yt,h,Ge),Ye.target=xr,Ye.relatedTarget=je,it=null,Ni(Ge)===Re&&(Et=new Et(ke,we+"enter",St,h,Ge),Et.target=je,Et.relatedTarget=xr,it=Et),xr=it,yt&&St)t:{for(Et=yt,ke=St,we=0,je=Et;je;je=xu(je))we++;for(je=0,it=ke;it;it=xu(it))je++;for(;0<we-je;)Et=xu(Et),we--;for(;0<je-we;)ke=xu(ke),je--;for(;we--;){if(Et===ke||ke!==null&&Et===ke.alternate)break t;Et=xu(Et),ke=xu(ke)}Et=null}else Et=null;yt!==null&&kr(tt,Ye,yt,Et,!1),St!==null&&xr!==null&&kr(tt,xr,St,Et,!0)}}e:{if(Ye=Re?on(Re):window,yt=Ye.nodeName&&Ye.nodeName.toLowerCase(),yt==="select"||yt==="input"&&Ye.type==="file")var Ct=Th;else if(Ja(Ye))if(v)Ct=$;else{Ct=oe;var Dt=G}else(yt=Ye.nodeName)&&yt.toLowerCase()==="input"&&(Ye.type==="checkbox"||Ye.type==="radio")&&(Ct=pe);if(Ct&&(Ct=Ct(o,Re))){vu(tt,Ct,h,Ge);break e}Dt&&Dt(o,Ye,Re),o==="focusout"&&(Dt=Ye._wrapperState)&&Dt.controlled&&Ye.type==="number"&&Ft(Ye,"number",Ye.value)}switch(Dt=Re?on(Re):window,o){case"focusin":(Ja(Dt)||Dt.contentEditable==="true")&&($e=Dt,nt=Re,st=null);break;case"focusout":st=nt=$e=null;break;case"mousedown":et=!0;break;case"contextmenu":case"mouseup":case"dragend":et=!1,ot(tt,h,Ge);break;case"selectionchange":if(Ae)break;case"keydown":case"keyup":ot(tt,h,Ge)}var Ot;if(sa)e:{switch(o){case"compositionstart":var Ut="onCompositionStart";break e;case"compositionend":Ut="onCompositionEnd";break e;case"compositionupdate":Ut="onCompositionUpdate";break e}Ut=void 0}else Fn?sc(o,h)&&(Ut="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Ut="onCompositionStart");Ut&&(Hd&&h.locale!=="ko"&&(Fn||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Fn&&(Ot=Ql()):(Kn=Ge,Zl="value"in Kn?Kn.value:Kn.textContent,Fn=!0)),Dt=Ph(Re,Ut),0<Dt.length&&(Ut=new hu(Ut,o,null,h,Ge),tt.push({event:Ut,listeners:Dt}),Ot?Ut.data=Ot:(Ot=bo(h),Ot!==null&&(Ut.data=Ot)))),(Ot=Vd?ti(o,h):Us(o,h))&&(Re=Ph(Re,"onBeforeInput"),0<Re.length&&(Ge=new hu("onBeforeInput","beforeinput",null,h,Ge),tt.push({event:Ge,listeners:Re}),Ge.data=Ot))}by(tt,a)})}function yu(o,a,h){return{instance:o,listener:a,currentTarget:h}}function Ph(o,a){for(var h=a+"Capture",x=[];o!==null;){var C=o,A=C.stateNode;C.tag===5&&A!==null&&(C=A,A=Ur(o,h),A!=null&&x.unshift(yu(o,A,C)),A=Ur(o,a),A!=null&&x.push(yu(o,A,C))),o=o.return}return x}function xu(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function kr(o,a,h,x,C){for(var A=a._reactName,F=[];h!==null&&h!==x;){var ee=h,fe=ee.alternate,Re=ee.stateNode;if(fe!==null&&fe===x)break;ee.tag===5&&Re!==null&&(ee=Re,C?(fe=Ur(h,A),fe!=null&&F.unshift(yu(h,fe,ee))):C||(fe=Ur(h,A),fe!=null&&F.push(yu(h,fe,ee)))),h=h.return}F.length!==0&&o.push({event:a,listeners:F})}var cs=/\r\n?/g,Iw=/\u0000|\uFFFD/g;function _y(o){return(typeof o=="string"?o:""+o).replace(cs,`
`).replace(Iw,"")}function Kd(o,a,h){if(a=_y(a),_y(o)!==a&&h)throw Error(n(425))}function Oh(){}var Yd=null,ac=null;function Gd(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var sl=typeof setTimeout=="function"?setTimeout:void 0,Zd=typeof clearTimeout=="function"?clearTimeout:void 0,wu=typeof Promise=="function"?Promise:void 0,Dh=typeof queueMicrotask=="function"?queueMicrotask:typeof wu<"u"?function(o){return wu.resolve(null).then(o).catch(bu)}:sl;function bu(o){setTimeout(function(){throw o})}function Jm(o,a){var h=a,x=0;do{var C=h.nextSibling;if(o.removeChild(h),C&&C.nodeType===8)if(h=C.data,h==="/$"){if(x===0){o.removeChild(C),En(a);return}x--}else h!=="$"&&h!=="$?"&&h!=="$!"||x++;h=C}while(h);En(a)}function ol(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function Sy(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(a===0)return o;a--}else h==="/$"&&a++}o=o.previousSibling}return null}var _u=Math.random().toString(36).slice(2),Ci="__reactFiber$"+_u,il="__reactProps$"+_u,no="__reactContainer$"+_u,Mh="__reactEvents$"+_u,W="__reactListeners$"+_u,Su="__reactHandles$"+_u;function Ni(o){var a=o[Ci];if(a)return a;for(var h=o.parentNode;h;){if(a=h[no]||h[Ci]){if(h=a.alternate,a.child!==null||h!==null&&h.child!==null)for(o=Sy(o);o!==null;){if(h=o[Ci])return h;o=Sy(o)}return a}o=h,h=o.parentNode}return null}function us(o){return o=o[Ci]||o[no],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function on(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function Ih(o){return o[il]||null}var eg=[],Eu=-1;function zs(o){return{current:o}}function Jn(o){0>Eu||(o.current=eg[Eu],eg[Eu]=null,Eu--)}function Gn(o,a){Eu++,eg[Eu]=o.current,o.current=a}var al={},ds=zs(al),Ws=zs(!1),Ss=al;function ku(o,a){var h=o.type.contextTypes;if(!h)return al;var x=o.stateNode;if(x&&x.__reactInternalMemoizedUnmaskedChildContext===a)return x.__reactInternalMemoizedMaskedChildContext;var C={},A;for(A in h)C[A]=a[A];return x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=C),C}function Vs(o){return o=o.childContextTypes,o!=null}function Lh(){Jn(Ws),Jn(ds)}function Ey(o,a,h){if(ds.current!==al)throw Error(n(168));Gn(ds,a),Gn(Ws,h)}function ky(o,a,h){var x=o.stateNode;if(a=a.childContextTypes,typeof x.getChildContext!="function")return h;x=x.getChildContext();for(var C in x)if(!(C in a))throw Error(n(108,Me(o)||"Unknown",C));return xe({},h,x)}function Eo(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||al,Ss=ds.current,Gn(ds,o),Gn(Ws,Ws.current),!0}function Cy(o,a,h){var x=o.stateNode;if(!x)throw Error(n(169));h?(o=ky(o,a,Ss),x.__reactInternalMemoizedMergedChildContext=o,Jn(Ws),Jn(ds),Gn(ds,o)):Jn(Ws),Gn(Ws,h)}var ia=null,Fh=!1,tg=!1;function Ny(o){ia===null?ia=[o]:ia.push(o)}function lc(o){Fh=!0,Ny(o)}function ll(){if(!tg&&ia!==null){tg=!0;var o=0,a=_n;try{var h=ia;for(_n=1;o<h.length;o++){var x=h[o];do x=x(!0);while(x!==null)}ia=null,Fh=!1}catch(C){throw ia!==null&&(ia=ia.slice(o+1)),Md(wi,ll),C}finally{_n=a,tg=!1}}return null}var Cu=[],fs=0,$h=null,Bh=0,ko=[],Co=0,cc=null,ji=1,Ti="";function uc(o,a){Cu[fs++]=Bh,Cu[fs++]=$h,$h=o,Bh=a}function jy(o,a,h){ko[Co++]=ji,ko[Co++]=Ti,ko[Co++]=cc,cc=o;var x=ji;o=Ti;var C=32-Ht(x)-1;x&=~(1<<C),h+=1;var A=32-Ht(a)+C;if(30<A){var F=C-C%5;A=(x&(1<<F)-1).toString(32),x>>=F,C-=F,ji=1<<32-Ht(a)+C|h<<C|x,Ti=A+o}else ji=1<<A|h<<C|x,Ti=o}function Qd(o){o.return!==null&&(uc(o,1),jy(o,1,0))}function dc(o){for(;o===$h;)$h=Cu[--fs],Cu[fs]=null,Bh=Cu[--fs],Cu[fs]=null;for(;o===cc;)cc=ko[--Co],ko[Co]=null,Ti=ko[--Co],ko[Co]=null,ji=ko[--Co],ko[Co]=null}var hs=null,ro=null,er=!1,ni=null;function Ai(o,a){var h=Oo(5,null,null,0);h.elementType="DELETED",h.stateNode=a,h.return=o,a=o.deletions,a===null?(o.deletions=[h],o.flags|=16):a.push(h)}function Uh(o,a){switch(o.tag){case 5:var h=o.type;return a=a.nodeType!==1||h.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,hs=o,ro=ol(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,hs=o,ro=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(h=cc!==null?{id:ji,overflow:Ti}:null,o.memoizedState={dehydrated:a,treeContext:h,retryLane:1073741824},h=Oo(18,null,null,0),h.stateNode=a,h.return=o,o.child=h,hs=o,ro=null,!0):!1;default:return!1}}function aa(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Hs(o){if(er){var a=ro;if(a){var h=a;if(!Uh(o,a)){if(aa(o))throw Error(n(418));a=ol(h.nextSibling);var x=hs;a&&Uh(o,a)?Ai(x,h):(o.flags=o.flags&-4097|2,er=!1,hs=o)}}else{if(aa(o))throw Error(n(418));o.flags=o.flags&-4097|2,er=!1,hs=o}}}function Ty(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;hs=o}function Xd(o){if(o!==hs)return!1;if(!er)return Ty(o),er=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Gd(o.type,o.memoizedProps)),a&&(a=ro)){if(aa(o))throw ng(),Error(n(418));for(;a;)Ai(o,a),a=ol(a.nextSibling)}if(Ty(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"){if(a===0){ro=ol(o.nextSibling);break e}a--}else h!=="$"&&h!=="$!"&&h!=="$?"||a++}o=o.nextSibling}ro=null}}else ro=hs?ol(o.stateNode.nextSibling):null;return!0}function ng(){for(var o=ro;o;)o=ol(o.nextSibling)}function Ri(){ro=hs=null,er=!1}function Pi(o){ni===null?ni=[o]:ni.push(o)}var Ay=z.ReactCurrentBatchConfig;function Jd(o,a,h){if(o=h.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(n(309));var x=h.stateNode}if(!x)throw Error(n(147,o));var C=x,A=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===A?a.ref:(a=function(F){var ee=C.refs;F===null?delete ee[A]:ee[A]=F},a._stringRef=A,a)}if(typeof o!="string")throw Error(n(284));if(!h._owner)throw Error(n(290,o))}return o}function fc(o,a){throw o=Object.prototype.toString.call(a),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function Ry(o){var a=o._init;return a(o._payload)}function rg(o){function a(ke,we){if(o){var je=ke.deletions;je===null?(ke.deletions=[we],ke.flags|=16):je.push(we)}}function h(ke,we){if(!o)return null;for(;we!==null;)a(ke,we),we=we.sibling;return null}function x(ke,we){for(ke=new Map;we!==null;)we.key!==null?ke.set(we.key,we):ke.set(we.index,we),we=we.sibling;return ke}function C(ke,we){return ke=ci(ke,we),ke.index=0,ke.sibling=null,ke}function A(ke,we,je){return ke.index=je,o?(je=ke.alternate,je!==null?(je=je.index,je<we?(ke.flags|=2,we):je):(ke.flags|=2,we)):(ke.flags|=1048576,we)}function F(ke){return o&&ke.alternate===null&&(ke.flags|=2),ke}function ee(ke,we,je,it){return we===null||we.tag!==6?(we=Wg(je,ke.mode,it),we.return=ke,we):(we=C(we,je),we.return=ke,we)}function fe(ke,we,je,it){var Ct=je.type;return Ct===Z?Ge(ke,we,je.props.children,it,je.key):we!==null&&(we.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===me&&Ry(Ct)===we.type)?(it=C(we,je.props),it.ref=Jd(ke,we,je),it.return=ke,it):(it=_p(je.type,je.key,je.props,null,ke.mode,it),it.ref=Jd(ke,we,je),it.return=ke,it)}function Re(ke,we,je,it){return we===null||we.tag!==4||we.stateNode.containerInfo!==je.containerInfo||we.stateNode.implementation!==je.implementation?(we=Vg(je,ke.mode,it),we.return=ke,we):(we=C(we,je.children||[]),we.return=ke,we)}function Ge(ke,we,je,it,Ct){return we===null||we.tag!==7?(we=Sc(je,ke.mode,it,Ct),we.return=ke,we):(we=C(we,je),we.return=ke,we)}function tt(ke,we,je){if(typeof we=="string"&&we!==""||typeof we=="number")return we=Wg(""+we,ke.mode,je),we.return=ke,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case q:return je=_p(we.type,we.key,we.props,null,ke.mode,je),je.ref=Jd(ke,null,we),je.return=ke,je;case Y:return we=Vg(we,ke.mode,je),we.return=ke,we;case me:var it=we._init;return tt(ke,it(we._payload),je)}if(Zt(we)||J(we))return we=Sc(we,ke.mode,je,null),we.return=ke,we;fc(ke,we)}return null}function Ye(ke,we,je,it){var Ct=we!==null?we.key:null;if(typeof je=="string"&&je!==""||typeof je=="number")return Ct!==null?null:ee(ke,we,""+je,it);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case q:return je.key===Ct?fe(ke,we,je,it):null;case Y:return je.key===Ct?Re(ke,we,je,it):null;case me:return Ct=je._init,Ye(ke,we,Ct(je._payload),it)}if(Zt(je)||J(je))return Ct!==null?null:Ge(ke,we,je,it,null);fc(ke,je)}return null}function yt(ke,we,je,it,Ct){if(typeof it=="string"&&it!==""||typeof it=="number")return ke=ke.get(je)||null,ee(we,ke,""+it,Ct);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case q:return ke=ke.get(it.key===null?je:it.key)||null,fe(we,ke,it,Ct);case Y:return ke=ke.get(it.key===null?je:it.key)||null,Re(we,ke,it,Ct);case me:var Dt=it._init;return yt(ke,we,je,Dt(it._payload),Ct)}if(Zt(it)||J(it))return ke=ke.get(je)||null,Ge(we,ke,it,Ct,null);fc(we,it)}return null}function St(ke,we,je,it){for(var Ct=null,Dt=null,Ot=we,Ut=we=0,Hr=null;Ot!==null&&Ut<je.length;Ut++){Ot.index>Ut?(Hr=Ot,Ot=null):Hr=Ot.sibling;var Tn=Ye(ke,Ot,je[Ut],it);if(Tn===null){Ot===null&&(Ot=Hr);break}o&&Ot&&Tn.alternate===null&&a(ke,Ot),we=A(Tn,we,Ut),Dt===null?Ct=Tn:Dt.sibling=Tn,Dt=Tn,Ot=Hr}if(Ut===je.length)return h(ke,Ot),er&&uc(ke,Ut),Ct;if(Ot===null){for(;Ut<je.length;Ut++)Ot=tt(ke,je[Ut],it),Ot!==null&&(we=A(Ot,we,Ut),Dt===null?Ct=Ot:Dt.sibling=Ot,Dt=Ot);return er&&uc(ke,Ut),Ct}for(Ot=x(ke,Ot);Ut<je.length;Ut++)Hr=yt(Ot,ke,Ut,je[Ut],it),Hr!==null&&(o&&Hr.alternate!==null&&Ot.delete(Hr.key===null?Ut:Hr.key),we=A(Hr,we,Ut),Dt===null?Ct=Hr:Dt.sibling=Hr,Dt=Hr);return o&&Ot.forEach(function(wl){return a(ke,wl)}),er&&uc(ke,Ut),Ct}function Et(ke,we,je,it){var Ct=J(je);if(typeof Ct!="function")throw Error(n(150));if(je=Ct.call(je),je==null)throw Error(n(151));for(var Dt=Ct=null,Ot=we,Ut=we=0,Hr=null,Tn=je.next();Ot!==null&&!Tn.done;Ut++,Tn=je.next()){Ot.index>Ut?(Hr=Ot,Ot=null):Hr=Ot.sibling;var wl=Ye(ke,Ot,Tn.value,it);if(wl===null){Ot===null&&(Ot=Hr);break}o&&Ot&&wl.alternate===null&&a(ke,Ot),we=A(wl,we,Ut),Dt===null?Ct=wl:Dt.sibling=wl,Dt=wl,Ot=Hr}if(Tn.done)return h(ke,Ot),er&&uc(ke,Ut),Ct;if(Ot===null){for(;!Tn.done;Ut++,Tn=je.next())Tn=tt(ke,Tn.value,it),Tn!==null&&(we=A(Tn,we,Ut),Dt===null?Ct=Tn:Dt.sibling=Tn,Dt=Tn);return er&&uc(ke,Ut),Ct}for(Ot=x(ke,Ot);!Tn.done;Ut++,Tn=je.next())Tn=yt(Ot,ke,Ut,Tn.value,it),Tn!==null&&(o&&Tn.alternate!==null&&Ot.delete(Tn.key===null?Ut:Tn.key),we=A(Tn,we,Ut),Dt===null?Ct=Tn:Dt.sibling=Tn,Dt=Tn);return o&&Ot.forEach(function(rb){return a(ke,rb)}),er&&uc(ke,Ut),Ct}function xr(ke,we,je,it){if(typeof je=="object"&&je!==null&&je.type===Z&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case q:e:{for(var Ct=je.key,Dt=we;Dt!==null;){if(Dt.key===Ct){if(Ct=je.type,Ct===Z){if(Dt.tag===7){h(ke,Dt.sibling),we=C(Dt,je.props.children),we.return=ke,ke=we;break e}}else if(Dt.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===me&&Ry(Ct)===Dt.type){h(ke,Dt.sibling),we=C(Dt,je.props),we.ref=Jd(ke,Dt,je),we.return=ke,ke=we;break e}h(ke,Dt);break}else a(ke,Dt);Dt=Dt.sibling}je.type===Z?(we=Sc(je.props.children,ke.mode,it,je.key),we.return=ke,ke=we):(it=_p(je.type,je.key,je.props,null,ke.mode,it),it.ref=Jd(ke,we,je),it.return=ke,ke=it)}return F(ke);case Y:e:{for(Dt=je.key;we!==null;){if(we.key===Dt)if(we.tag===4&&we.stateNode.containerInfo===je.containerInfo&&we.stateNode.implementation===je.implementation){h(ke,we.sibling),we=C(we,je.children||[]),we.return=ke,ke=we;break e}else{h(ke,we);break}else a(ke,we);we=we.sibling}we=Vg(je,ke.mode,it),we.return=ke,ke=we}return F(ke);case me:return Dt=je._init,xr(ke,we,Dt(je._payload),it)}if(Zt(je))return St(ke,we,je,it);if(J(je))return Et(ke,we,je,it);fc(ke,je)}return typeof je=="string"&&je!==""||typeof je=="number"?(je=""+je,we!==null&&we.tag===6?(h(ke,we.sibling),we=C(we,je),we.return=ke,ke=we):(h(ke,we),we=Wg(je,ke.mode,it),we.return=ke,ke=we),F(ke)):h(ke,we)}return xr}var fr=rg(!0),zh=rg(!1),ef=zs(null),so=null,cl=null,Nu=null;function la(){Nu=cl=so=null}function Wh(o){var a=ef.current;Jn(ef),o._currentValue=a}function Qr(o,a,h){for(;o!==null;){var x=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,x!==null&&(x.childLanes|=a)):x!==null&&(x.childLanes&a)!==a&&(x.childLanes|=a),o===h)break;o=o.return}}function ul(o,a){so=o,Nu=cl=null,o=o.dependencies,o!==null&&o.firstContext!==null&&((o.lanes&a)!==0&&(ks=!0),o.firstContext=null)}function No(o){var a=o._currentValue;if(Nu!==o)if(o={context:o,memoizedValue:a,next:null},cl===null){if(so===null)throw Error(n(308));cl=o,so.dependencies={lanes:0,firstContext:o}}else cl=cl.next=o;return a}var hc=null;function sg(o){hc===null?hc=[o]:hc.push(o)}function Vh(o,a,h,x){var C=a.interleaved;return C===null?(h.next=h,sg(a)):(h.next=C.next,C.next=h),a.interleaved=h,ca(o,x)}function ca(o,a){o.lanes|=a;var h=o.alternate;for(h!==null&&(h.lanes|=a),h=o,o=o.return;o!==null;)o.childLanes|=a,h=o.alternate,h!==null&&(h.childLanes|=a),h=o,o=o.return;return h.tag===3?h.stateNode:null}var jo=!1;function Hh(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Py(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ua(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function To(o,a,h){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(kn&2)!==0){var C=x.pending;return C===null?a.next=a:(a.next=C.next,C.next=a),x.pending=a,ca(o,h)}return C=x.interleaved,C===null?(a.next=a,sg(x)):(a.next=C.next,C.next=a),x.interleaved=a,ca(o,h)}function qh(o,a,h){if(a=a.updateQueue,a!==null&&(a=a.shared,(h&4194240)!==0)){var x=a.lanes;x&=o.pendingLanes,h|=x,a.lanes=h,Va(o,h)}}function Oy(o,a){var h=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var C=null,A=null;if(h=h.firstBaseUpdate,h!==null){do{var F={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};A===null?C=A=F:A=A.next=F,h=h.next}while(h!==null);A===null?C=A=a:A=A.next=a}else C=A=a;h={baseState:x.baseState,firstBaseUpdate:C,lastBaseUpdate:A,shared:x.shared,effects:x.effects},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=a:o.next=a,h.lastBaseUpdate=a}function ju(o,a,h,x){var C=o.updateQueue;jo=!1;var A=C.firstBaseUpdate,F=C.lastBaseUpdate,ee=C.shared.pending;if(ee!==null){C.shared.pending=null;var fe=ee,Re=fe.next;fe.next=null,F===null?A=Re:F.next=Re,F=fe;var Ge=o.alternate;Ge!==null&&(Ge=Ge.updateQueue,ee=Ge.lastBaseUpdate,ee!==F&&(ee===null?Ge.firstBaseUpdate=Re:ee.next=Re,Ge.lastBaseUpdate=fe))}if(A!==null){var tt=C.baseState;F=0,Ge=Re=fe=null,ee=A;do{var Ye=ee.lane,yt=ee.eventTime;if((x&Ye)===Ye){Ge!==null&&(Ge=Ge.next={eventTime:yt,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var St=o,Et=ee;switch(Ye=a,yt=h,Et.tag){case 1:if(St=Et.payload,typeof St=="function"){tt=St.call(yt,tt,Ye);break e}tt=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=Et.payload,Ye=typeof St=="function"?St.call(yt,tt,Ye):St,Ye==null)break e;tt=xe({},tt,Ye);break e;case 2:jo=!0}}ee.callback!==null&&ee.lane!==0&&(o.flags|=64,Ye=C.effects,Ye===null?C.effects=[ee]:Ye.push(ee))}else yt={eventTime:yt,lane:Ye,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Ge===null?(Re=Ge=yt,fe=tt):Ge=Ge.next=yt,F|=Ye;if(ee=ee.next,ee===null){if(ee=C.shared.pending,ee===null)break;Ye=ee,ee=Ye.next,Ye.next=null,C.lastBaseUpdate=Ye,C.shared.pending=null}}while(!0);if(Ge===null&&(fe=tt),C.baseState=fe,C.firstBaseUpdate=Re,C.lastBaseUpdate=Ge,a=C.shared.interleaved,a!==null){C=a;do F|=C.lane,C=C.next;while(C!==a)}else A===null&&(C.shared.lanes=0);ml|=F,o.lanes=F,o.memoizedState=tt}}function og(o,a,h){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var x=o[a],C=x.callback;if(C!==null){if(x.callback=null,x=h,typeof C!="function")throw Error(n(191,C));C.call(x)}}}var tf={},Oi=zs(tf),nf=zs(tf),Tu=zs(tf);function da(o){if(o===tf)throw Error(n(174));return o}function ig(o,a){switch(Gn(Tu,a),Gn(nf,o),Gn(Oi,tf),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ue(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=Ue(a,o)}Jn(Oi),Gn(Oi,a)}function dl(){Jn(Oi),Jn(nf),Jn(Tu)}function ag(o){da(Tu.current);var a=da(Oi.current),h=Ue(a,o.type);a!==h&&(Gn(nf,o),Gn(Oi,h))}function Kh(o){nf.current===o&&(Jn(Oi),Jn(nf))}var tr=zs(0);function pc(o){for(var a=o;a!==null;){if(a.tag===13){var h=a.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var lg=[];function Yh(){for(var o=0;o<lg.length;o++)lg[o]._workInProgressVersionPrimary=null;lg.length=0}var rf=z.ReactCurrentDispatcher,cg=z.ReactCurrentBatchConfig,fl=0,or=null,yr=null,Pr=null,Au=!1,sf=!1,mc=0,hn=0;function ps(){throw Error(n(321))}function ug(o,a){if(a===null)return!1;for(var h=0;h<a.length&&h<o.length;h++)if(!B(o[h],a[h]))return!1;return!0}function gc(o,a,h,x,C,A){if(fl=A,or=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,rf.current=o===null||o.memoizedState===null?Fw:tp,o=h(x,C),sf){A=0;do{if(sf=!1,mc=0,25<=A)throw Error(n(301));A+=1,Pr=yr=null,a.updateQueue=null,rf.current=Du,o=h(x,C)}while(sf)}if(rf.current=ep,a=yr!==null&&yr.next!==null,fl=0,Pr=yr=or=null,Au=!1,a)throw Error(n(300));return o}function Gh(){var o=mc!==0;return mc=0,o}function Di(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?or.memoizedState=Pr=o:Pr=Pr.next=o,Pr}function Ao(){if(yr===null){var o=or.alternate;o=o!==null?o.memoizedState:null}else o=yr.next;var a=Pr===null?or.memoizedState:Pr.next;if(a!==null)Pr=a,yr=o;else{if(o===null)throw Error(n(310));yr=o,o={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},Pr===null?or.memoizedState=Pr=o:Pr=Pr.next=o}return Pr}function ms(o,a){return typeof a=="function"?a(o):a}function dg(o){var a=Ao(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=yr,C=x.baseQueue,A=h.pending;if(A!==null){if(C!==null){var F=C.next;C.next=A.next,A.next=F}x.baseQueue=C=A,h.pending=null}if(C!==null){A=C.next,x=x.baseState;var ee=F=null,fe=null,Re=A;do{var Ge=Re.lane;if((fl&Ge)===Ge)fe!==null&&(fe=fe.next={lane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),x=Re.hasEagerState?Re.eagerState:o(x,Re.action);else{var tt={lane:Ge,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null};fe===null?(ee=fe=tt,F=x):fe=fe.next=tt,or.lanes|=Ge,ml|=Ge}Re=Re.next}while(Re!==null&&Re!==A);fe===null?F=x:fe.next=ee,B(x,a.memoizedState)||(ks=!0),a.memoizedState=x,a.baseState=F,a.baseQueue=fe,h.lastRenderedState=x}if(o=h.interleaved,o!==null){C=o;do A=C.lane,or.lanes|=A,ml|=A,C=C.next;while(C!==o)}else C===null&&(h.lanes=0);return[a.memoizedState,h.dispatch]}function Ru(o){var a=Ao(),h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var x=h.dispatch,C=h.pending,A=a.memoizedState;if(C!==null){h.pending=null;var F=C=C.next;do A=o(A,F.action),F=F.next;while(F!==C);B(A,a.memoizedState)||(ks=!0),a.memoizedState=A,a.baseQueue===null&&(a.baseState=A),h.lastRenderedState=A}return[A,x]}function Zh(){}function fg(o,a){var h=or,x=Ao(),C=a(),A=!B(x.memoizedState,C);if(A&&(x.memoizedState=C,ks=!0),x=x.queue,Mi(fa.bind(null,h,x,o),[o]),x.getSnapshot!==a||A||Pr!==null&&Pr.memoizedState.tag&1){if(h.flags|=2048,Pu(9,qs.bind(null,h,x,C,a),void 0,null),Vr===null)throw Error(n(349));(fl&30)!==0||hg(h,a,C)}return C}function hg(o,a,h){o.flags|=16384,o={getSnapshot:a,value:h},a=or.updateQueue,a===null?(a={lastEffect:null,stores:null},or.updateQueue=a,a.stores=[o]):(h=a.stores,h===null?a.stores=[o]:h.push(o))}function qs(o,a,h,x){a.value=h,a.getSnapshot=x,Qh(a)&&pg(o)}function fa(o,a,h){return h(function(){Qh(a)&&pg(o)})}function Qh(o){var a=o.getSnapshot;o=o.value;try{var h=a();return!B(o,h)}catch{return!0}}function pg(o){var a=ca(o,1);a!==null&&li(a,o,1,-1)}function of(o){var a=Di();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:o},a.queue=o,o=o.dispatch=$y.bind(null,or,o),[a.memoizedState,o]}function Pu(o,a,h,x){return o={tag:o,create:a,destroy:h,deps:x,next:null},a=or.updateQueue,a===null?(a={lastEffect:null,stores:null},or.updateQueue=a,a.lastEffect=o.next=o):(h=a.lastEffect,h===null?a.lastEffect=o.next=o:(x=h.next,h.next=o,o.next=x,a.lastEffect=o)),o}function Xh(){return Ao().memoizedState}function af(o,a,h,x){var C=Di();or.flags|=o,C.memoizedState=Pu(1|a,h,void 0,x===void 0?null:x)}function Ou(o,a,h,x){var C=Ao();x=x===void 0?null:x;var A=void 0;if(yr!==null){var F=yr.memoizedState;if(A=F.destroy,x!==null&&ug(x,F.deps)){C.memoizedState=Pu(a,h,A,x);return}}or.flags|=o,C.memoizedState=Pu(1|a,h,A,x)}function Jh(o,a){return af(8390656,8,o,a)}function Mi(o,a){return Ou(2048,8,o,a)}function Dy(o,a){return Ou(4,2,o,a)}function ha(o,a){return Ou(4,4,o,a)}function mg(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function gg(o,a,h){return h=h!=null?h.concat([o]):null,Ou(4,4,mg.bind(null,a,o),h)}function lf(){}function My(o,a){var h=Ao();a=a===void 0?null:a;var x=h.memoizedState;return x!==null&&a!==null&&ug(a,x[1])?x[0]:(h.memoizedState=[o,a],o)}function Iy(o,a){var h=Ao();a=a===void 0?null:a;var x=h.memoizedState;return x!==null&&a!==null&&ug(a,x[1])?x[0]:(o=o(),h.memoizedState=[o,a],o)}function Ly(o,a,h){return(fl&21)===0?(o.baseState&&(o.baseState=!1,ks=!0),o.memoizedState=h):(B(h,a)||(h=au(),or.lanes|=h,ml|=h,o.baseState=!0),a)}function Fy(o,a){var h=_n;_n=h!==0&&4>h?h:4,o(!0);var x=cg.transition;cg.transition={};try{o(!1),a()}finally{_n=h,cg.transition=x}}function vg(){return Ao().memoizedState}function Lw(o,a,h){var x=yl(o);if(h={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null},yg(o))Es(a,h);else if(h=Vh(o,a,h,x),h!==null){var C=js();li(h,o,x,C),ri(h,a,x)}}function $y(o,a,h){var x=yl(o),C={lane:x,action:h,hasEagerState:!1,eagerState:null,next:null};if(yg(o))Es(a,C);else{var A=o.alternate;if(o.lanes===0&&(A===null||A.lanes===0)&&(A=a.lastRenderedReducer,A!==null))try{var F=a.lastRenderedState,ee=A(F,h);if(C.hasEagerState=!0,C.eagerState=ee,B(ee,F)){var fe=a.interleaved;fe===null?(C.next=C,sg(a)):(C.next=fe.next,fe.next=C),a.interleaved=C;return}}catch{}finally{}h=Vh(o,a,C,x),h!==null&&(C=js(),li(h,o,x,C),ri(h,a,x))}}function yg(o){var a=o.alternate;return o===or||a!==null&&a===or}function Es(o,a){sf=Au=!0;var h=o.pending;h===null?a.next=a:(a.next=h.next,h.next=a),o.pending=a}function ri(o,a,h){if((h&4194240)!==0){var x=a.lanes;x&=o.pendingLanes,h|=x,a.lanes=h,Va(o,h)}}var ep={readContext:No,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Fw={readContext:No,useCallback:function(o,a){return Di().memoizedState=[o,a===void 0?null:a],o},useContext:No,useEffect:Jh,useImperativeHandle:function(o,a,h){return h=h!=null?h.concat([o]):null,af(4194308,4,mg.bind(null,a,o),h)},useLayoutEffect:function(o,a){return af(4194308,4,o,a)},useInsertionEffect:function(o,a){return af(4,2,o,a)},useMemo:function(o,a){var h=Di();return a=a===void 0?null:a,o=o(),h.memoizedState=[o,a],o},useReducer:function(o,a,h){var x=Di();return a=h!==void 0?h(a):a,x.memoizedState=x.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},x.queue=o,o=o.dispatch=Lw.bind(null,or,o),[x.memoizedState,o]},useRef:function(o){var a=Di();return o={current:o},a.memoizedState=o},useState:of,useDebugValue:lf,useDeferredValue:function(o){return Di().memoizedState=o},useTransition:function(){var o=of(!1),a=o[0];return o=Fy.bind(null,o[1]),Di().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,h){var x=or,C=Di();if(er){if(h===void 0)throw Error(n(407));h=h()}else{if(h=a(),Vr===null)throw Error(n(349));(fl&30)!==0||hg(x,a,h)}C.memoizedState=h;var A={value:h,getSnapshot:a};return C.queue=A,Jh(fa.bind(null,x,A,o),[o]),x.flags|=2048,Pu(9,qs.bind(null,x,A,h,a),void 0,null),h},useId:function(){var o=Di(),a=Vr.identifierPrefix;if(er){var h=Ti,x=ji;h=(x&~(1<<32-Ht(x)-1)).toString(32)+h,a=":"+a+"R"+h,h=mc++,0<h&&(a+="H"+h.toString(32)),a+=":"}else h=hn++,a=":"+a+"r"+h.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},tp={readContext:No,useCallback:My,useContext:No,useEffect:Mi,useImperativeHandle:gg,useInsertionEffect:Dy,useLayoutEffect:ha,useMemo:Iy,useReducer:dg,useRef:Xh,useState:function(){return dg(ms)},useDebugValue:lf,useDeferredValue:function(o){var a=Ao();return Ly(a,yr.memoizedState,o)},useTransition:function(){var o=dg(ms)[0],a=Ao().memoizedState;return[o,a]},useMutableSource:Zh,useSyncExternalStore:fg,useId:vg,unstable_isNewReconciler:!1},Du={readContext:No,useCallback:My,useContext:No,useEffect:Mi,useImperativeHandle:gg,useInsertionEffect:Dy,useLayoutEffect:ha,useMemo:Iy,useReducer:Ru,useRef:Xh,useState:function(){return Ru(ms)},useDebugValue:lf,useDeferredValue:function(o){var a=Ao();return yr===null?a.memoizedState=o:Ly(a,yr.memoizedState,o)},useTransition:function(){var o=Ru(ms)[0],a=Ao().memoizedState;return[o,a]},useMutableSource:Zh,useSyncExternalStore:fg,useId:vg,unstable_isNewReconciler:!1};function Ro(o,a){if(o&&o.defaultProps){a=xe({},a),o=o.defaultProps;for(var h in o)a[h]===void 0&&(a[h]=o[h]);return a}return a}function np(o,a,h,x){a=o.memoizedState,h=h(x,a),h=h==null?a:xe({},a,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var rp={isMounted:function(o){return(o=o._reactInternals)?is(o)===o:!1},enqueueSetState:function(o,a,h){o=o._reactInternals;var x=js(),C=yl(o),A=ua(x,C);A.payload=a,h!=null&&(A.callback=h),a=To(o,A,C),a!==null&&(li(a,o,C,x),qh(a,o,C))},enqueueReplaceState:function(o,a,h){o=o._reactInternals;var x=js(),C=yl(o),A=ua(x,C);A.tag=1,A.payload=a,h!=null&&(A.callback=h),a=To(o,A,C),a!==null&&(li(a,o,C,x),qh(a,o,C))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var h=js(),x=yl(o),C=ua(h,x);C.tag=2,a!=null&&(C.callback=a),a=To(o,C,x),a!==null&&(li(a,o,x,h),qh(a,o,x))}};function xg(o,a,h,x,C,A,F){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,A,F):a.prototype&&a.prototype.isPureReactComponent?!re(h,x)||!re(C,A):!0}function vc(o,a,h){var x=!1,C=al,A=a.contextType;return typeof A=="object"&&A!==null?A=No(A):(C=Vs(a)?Ss:ds.current,x=a.contextTypes,A=(x=x!=null)?ku(o,C):al),a=new a(h,A),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=rp,o.stateNode=a,a._reactInternals=o,x&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=C,o.__reactInternalMemoizedMaskedChildContext=A),a}function Mu(o,a,h,x){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(h,x),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(h,x),a.state!==o&&rp.enqueueReplaceState(a,a.state,null)}function wg(o,a,h,x){var C=o.stateNode;C.props=h,C.state=o.memoizedState,C.refs={},Hh(o);var A=a.contextType;typeof A=="object"&&A!==null?C.context=No(A):(A=Vs(a)?Ss:ds.current,C.context=ku(o,A)),C.state=o.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(np(o,a,A,h),C.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(a=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),a!==C.state&&rp.enqueueReplaceState(C,C.state,null),ju(o,h,C,x),C.state=o.memoizedState),typeof C.componentDidMount=="function"&&(o.flags|=4194308)}function yc(o,a){try{var h="",x=a;do h+=Fe(x),x=x.return;while(x);var C=h}catch(A){C=`
Error generating stack: `+A.message+`
`+A.stack}return{value:o,source:a,stack:C,digest:null}}function sp(o,a,h){return{value:o,source:null,stack:h??null,digest:a??null}}function Iu(o,a){try{console.error(a.value)}catch(h){setTimeout(function(){throw h})}}var By=typeof WeakMap=="function"?WeakMap:Map;function cf(o,a,h){h=ua(-1,h),h.tag=3,h.payload={element:null};var x=a.value;return h.callback=function(){mp||(mp=!0,Ig=x),Iu(o,a)},h}function op(o,a,h){h=ua(-1,h),h.tag=3;var x=o.type.getDerivedStateFromError;if(typeof x=="function"){var C=a.value;h.payload=function(){return x(C)},h.callback=function(){Iu(o,a)}}var A=o.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(h.callback=function(){Iu(o,a),typeof x!="function"&&(gl===null?gl=new Set([this]):gl.add(this));var F=a.stack;this.componentDidCatch(a.value,{componentStack:F!==null?F:""})}),h}function uf(o,a,h){var x=o.pingCache;if(x===null){x=o.pingCache=new By;var C=new Set;x.set(a,C)}else C=x.get(a),C===void 0&&(C=new Set,x.set(a,C));C.has(h)||(C.add(h),o=qw.bind(null,o,a,h),a.then(o,o))}function Uy(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function bg(o,a,h,x,C){return(o.mode&1)===0?(o===a?o.flags|=65536:(o.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(a=ua(-1,1),a.tag=2,To(h,a,1))),h.lanes|=1),o):(o.flags|=65536,o.lanes=C,o)}var ip=z.ReactCurrentOwner,ks=!1;function Xr(o,a,h,x){a.child=o===null?zh(a,null,h,x):fr(a,o.child,h,x)}function zy(o,a,h,x,C){h=h.render;var A=a.ref;return ul(a,C),x=gc(o,a,h,x,A,C),h=Gh(),o!==null&&!ks?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~C,si(o,a,C)):(er&&h&&Qd(a),a.flags|=1,Xr(o,a,x,C),a.child)}function _g(o,a,h,x,C){if(o===null){var A=h.type;return typeof A=="function"&&!bp(A)&&A.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(a.tag=15,a.type=A,Ii(o,a,A,x,C)):(o=_p(h.type,null,x,a,a.mode,C),o.ref=a.ref,o.return=a,a.child=o)}if(A=o.child,(o.lanes&C)===0){var F=A.memoizedProps;if(h=h.compare,h=h!==null?h:re,h(F,x)&&o.ref===a.ref)return si(o,a,C)}return a.flags|=1,o=ci(A,x),o.ref=a.ref,o.return=a,a.child=o}function Ii(o,a,h,x,C){if(o!==null){var A=o.memoizedProps;if(re(A,x)&&o.ref===a.ref)if(ks=!1,a.pendingProps=x=A,(o.lanes&C)!==0)(o.flags&131072)!==0&&(ks=!0);else return a.lanes=o.lanes,si(o,a,C)}return kg(o,a,h,x,C)}function Sg(o,a,h){var x=a.pendingProps,C=x.children,A=o!==null?o.memoizedState:null;if(x.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gn(Bu,io),io|=h;else{if((h&1073741824)===0)return o=A!==null?A.baseLanes|h:h,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Gn(Bu,io),io|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},x=A!==null?A.baseLanes:h,Gn(Bu,io),io|=x}else A!==null?(x=A.baseLanes|h,a.memoizedState=null):x=h,Gn(Bu,io),io|=x;return Xr(o,a,C,h),a.child}function Eg(o,a){var h=a.ref;(o===null&&h!==null||o!==null&&o.ref!==h)&&(a.flags|=512,a.flags|=2097152)}function kg(o,a,h,x,C){var A=Vs(h)?Ss:ds.current;return A=ku(a,A),ul(a,C),h=gc(o,a,h,x,A,C),x=Gh(),o!==null&&!ks?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~C,si(o,a,C)):(er&&x&&Qd(a),a.flags|=1,Xr(o,a,h,C),a.child)}function Cg(o,a,h,x,C){if(Vs(h)){var A=!0;Eo(a)}else A=!1;if(ul(a,C),a.stateNode===null)lp(o,a),vc(a,h,x),wg(a,h,x,C),x=!0;else if(o===null){var F=a.stateNode,ee=a.memoizedProps;F.props=ee;var fe=F.context,Re=h.contextType;typeof Re=="object"&&Re!==null?Re=No(Re):(Re=Vs(h)?Ss:ds.current,Re=ku(a,Re));var Ge=h.getDerivedStateFromProps,tt=typeof Ge=="function"||typeof F.getSnapshotBeforeUpdate=="function";tt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ee!==x||fe!==Re)&&Mu(a,F,x,Re),jo=!1;var Ye=a.memoizedState;F.state=Ye,ju(a,x,F,C),fe=a.memoizedState,ee!==x||Ye!==fe||Ws.current||jo?(typeof Ge=="function"&&(np(a,h,Ge,x),fe=a.memoizedState),(ee=jo||xg(a,h,ee,x,Ye,fe,Re))?(tt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(a.flags|=4194308)):(typeof F.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=x,a.memoizedState=fe),F.props=x,F.state=fe,F.context=Re,x=ee):(typeof F.componentDidMount=="function"&&(a.flags|=4194308),x=!1)}else{F=a.stateNode,Py(o,a),ee=a.memoizedProps,Re=a.type===a.elementType?ee:Ro(a.type,ee),F.props=Re,tt=a.pendingProps,Ye=F.context,fe=h.contextType,typeof fe=="object"&&fe!==null?fe=No(fe):(fe=Vs(h)?Ss:ds.current,fe=ku(a,fe));var yt=h.getDerivedStateFromProps;(Ge=typeof yt=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ee!==tt||Ye!==fe)&&Mu(a,F,x,fe),jo=!1,Ye=a.memoizedState,F.state=Ye,ju(a,x,F,C);var St=a.memoizedState;ee!==tt||Ye!==St||Ws.current||jo?(typeof yt=="function"&&(np(a,h,yt,x),St=a.memoizedState),(Re=jo||xg(a,h,Re,x,Ye,St,fe)||!1)?(Ge||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(x,St,fe),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(x,St,fe)),typeof F.componentDidUpdate=="function"&&(a.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof F.componentDidUpdate!="function"||ee===o.memoizedProps&&Ye===o.memoizedState||(a.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ee===o.memoizedProps&&Ye===o.memoizedState||(a.flags|=1024),a.memoizedProps=x,a.memoizedState=St),F.props=x,F.state=St,F.context=fe,x=Re):(typeof F.componentDidUpdate!="function"||ee===o.memoizedProps&&Ye===o.memoizedState||(a.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ee===o.memoizedProps&&Ye===o.memoizedState||(a.flags|=1024),x=!1)}return Ng(o,a,h,x,A,C)}function Ng(o,a,h,x,C,A){Eg(o,a);var F=(a.flags&128)!==0;if(!x&&!F)return C&&Cy(a,h,!1),si(o,a,A);x=a.stateNode,ip.current=a;var ee=F&&typeof h.getDerivedStateFromError!="function"?null:x.render();return a.flags|=1,o!==null&&F?(a.child=fr(a,o.child,null,A),a.child=fr(a,null,ee,A)):Xr(o,a,ee,A),a.memoizedState=x.state,C&&Cy(a,h,!0),a.child}function Wy(o){var a=o.stateNode;a.pendingContext?Ey(o,a.pendingContext,a.pendingContext!==a.context):a.context&&Ey(o,a.context,!1),ig(o,a.containerInfo)}function Li(o,a,h,x,C){return Ri(),Pi(C),a.flags|=256,Xr(o,a,h,x),a.child}var df={dehydrated:null,treeContext:null,retryLane:0};function ff(o){return{baseLanes:o,cachePool:null,transitions:null}}function ap(o,a,h){var x=a.pendingProps,C=tr.current,A=!1,F=(a.flags&128)!==0,ee;if((ee=F)||(ee=o!==null&&o.memoizedState===null?!1:(C&2)!==0),ee?(A=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(C|=1),Gn(tr,C&1),o===null)return Hs(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?((a.mode&1)===0?a.lanes=1:o.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(F=x.children,o=x.fallback,A?(x=a.mode,A=a.child,F={mode:"hidden",children:F},(x&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=F):A=Sp(F,x,0,null),o=Sc(o,x,h,null),A.return=a,o.return=a,A.sibling=o,a.child=A,a.child.memoizedState=ff(h),a.memoizedState=df,o):Lu(a,F));if(C=o.memoizedState,C!==null&&(ee=C.dehydrated,ee!==null))return Mt(o,a,F,x,ee,C,h);if(A){A=x.fallback,F=a.mode,C=o.child,ee=C.sibling;var fe={mode:"hidden",children:x.children};return(F&1)===0&&a.child!==C?(x=a.child,x.childLanes=0,x.pendingProps=fe,a.deletions=null):(x=ci(C,fe),x.subtreeFlags=C.subtreeFlags&14680064),ee!==null?A=ci(ee,A):(A=Sc(A,F,h,null),A.flags|=2),A.return=a,x.return=a,x.sibling=A,a.child=x,x=A,A=a.child,F=o.child.memoizedState,F=F===null?ff(h):{baseLanes:F.baseLanes|h,cachePool:null,transitions:F.transitions},A.memoizedState=F,A.childLanes=o.childLanes&~h,a.memoizedState=df,x}return A=o.child,o=A.sibling,x=ci(A,{mode:"visible",children:x.children}),(a.mode&1)===0&&(x.lanes=h),x.return=a,x.sibling=null,o!==null&&(h=a.deletions,h===null?(a.deletions=[o],a.flags|=16):h.push(o)),a.child=x,a.memoizedState=null,x}function Lu(o,a){return a=Sp({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function pa(o,a,h,x){return x!==null&&Pi(x),fr(a,o.child,null,h),o=Lu(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function Mt(o,a,h,x,C,A,F){if(h)return a.flags&256?(a.flags&=-257,x=sp(Error(n(422))),pa(o,a,F,x)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(A=x.fallback,C=a.mode,x=Sp({mode:"visible",children:x.children},C,0,null),A=Sc(A,C,F,null),A.flags|=2,x.return=a,A.return=a,x.sibling=A,a.child=x,(a.mode&1)!==0&&fr(a,o.child,null,F),a.child.memoizedState=ff(F),a.memoizedState=df,A);if((a.mode&1)===0)return pa(o,a,F,null);if(C.data==="$!"){if(x=C.nextSibling&&C.nextSibling.dataset,x)var ee=x.dgst;return x=ee,A=Error(n(419)),x=sp(A,x,void 0),pa(o,a,F,x)}if(ee=(F&o.childLanes)!==0,ks||ee){if(x=Vr,x!==null){switch(F&-F){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(x.suspendedLanes|F))!==0?0:C,C!==0&&C!==A.retryLane&&(A.retryLane=C,ca(o,C),li(x,o,C,-1))}return zg(),x=sp(Error(n(421))),pa(o,a,F,x)}return C.data==="$?"?(a.flags|=128,a.child=o.child,a=Kw.bind(null,o),C._reactRetry=a,null):(o=A.treeContext,ro=ol(C.nextSibling),hs=a,er=!0,ni=null,o!==null&&(ko[Co++]=ji,ko[Co++]=Ti,ko[Co++]=cc,ji=o.id,Ti=o.overflow,cc=a),a=Lu(a,x.children),a.flags|=4096,a)}function hf(o,a,h){o.lanes|=a;var x=o.alternate;x!==null&&(x.lanes|=a),Qr(o.return,a,h)}function pf(o,a,h,x,C){var A=o.memoizedState;A===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:C}:(A.isBackwards=a,A.rendering=null,A.renderingStartTime=0,A.last=x,A.tail=h,A.tailMode=C)}function hl(o,a,h){var x=a.pendingProps,C=x.revealOrder,A=x.tail;if(Xr(o,a,x.children,h),x=tr.current,(x&2)!==0)x=x&1|2,a.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&hf(o,h,a);else if(o.tag===19)hf(o,h,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}x&=1}if(Gn(tr,x),(a.mode&1)===0)a.memoizedState=null;else switch(C){case"forwards":for(h=a.child,C=null;h!==null;)o=h.alternate,o!==null&&pc(o)===null&&(C=h),h=h.sibling;h=C,h===null?(C=a.child,a.child=null):(C=h.sibling,h.sibling=null),pf(a,!1,C,h,A);break;case"backwards":for(h=null,C=a.child,a.child=null;C!==null;){if(o=C.alternate,o!==null&&pc(o)===null){a.child=C;break}o=C.sibling,C.sibling=h,h=C,C=o}pf(a,!0,h,null,A);break;case"together":pf(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function lp(o,a){(a.mode&1)===0&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function si(o,a,h){if(o!==null&&(a.dependencies=o.dependencies),ml|=a.lanes,(h&a.childLanes)===0)return null;if(o!==null&&a.child!==o.child)throw Error(n(153));if(a.child!==null){for(o=a.child,h=ci(o,o.pendingProps),a.child=h,h.return=a;o.sibling!==null;)o=o.sibling,h=h.sibling=ci(o,o.pendingProps),h.return=a;h.sibling=null}return a.child}function Vy(o,a,h){switch(a.tag){case 3:Wy(a),Ri();break;case 5:ag(a);break;case 1:Vs(a.type)&&Eo(a);break;case 4:ig(a,a.stateNode.containerInfo);break;case 10:var x=a.type._context,C=a.memoizedProps.value;Gn(ef,x._currentValue),x._currentValue=C;break;case 13:if(x=a.memoizedState,x!==null)return x.dehydrated!==null?(Gn(tr,tr.current&1),a.flags|=128,null):(h&a.child.childLanes)!==0?ap(o,a,h):(Gn(tr,tr.current&1),o=si(o,a,h),o!==null?o.sibling:null);Gn(tr,tr.current&1);break;case 19:if(x=(h&a.childLanes)!==0,(o.flags&128)!==0){if(x)return hl(o,a,h);a.flags|=128}if(C=a.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Gn(tr,tr.current),x)break;return null;case 22:case 23:return a.lanes=0,Sg(o,a,h)}return si(o,a,h)}var Jr,jg,Hy,Tg;Jr=function(o,a){for(var h=a.child;h!==null;){if(h.tag===5||h.tag===6)o.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===a)break;for(;h.sibling===null;){if(h.return===null||h.return===a)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},jg=function(){},Hy=function(o,a,h,x){var C=o.memoizedProps;if(C!==x){o=a.stateNode,da(Oi.current);var A=null;switch(h){case"input":C=nn(o,C),x=nn(o,x),A=[];break;case"select":C=xe({},C,{value:void 0}),x=xe({},x,{value:void 0}),A=[];break;case"textarea":C=ie(o,C),x=ie(o,x),A=[];break;default:typeof C.onClick!="function"&&typeof x.onClick=="function"&&(o.onclick=Oh)}ht(h,x);var F;h=null;for(Re in C)if(!x.hasOwnProperty(Re)&&C.hasOwnProperty(Re)&&C[Re]!=null)if(Re==="style"){var ee=C[Re];for(F in ee)ee.hasOwnProperty(F)&&(h||(h={}),h[F]="")}else Re!=="dangerouslySetInnerHTML"&&Re!=="children"&&Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&Re!=="autoFocus"&&(s.hasOwnProperty(Re)?A||(A=[]):(A=A||[]).push(Re,null));for(Re in x){var fe=x[Re];if(ee=C!=null?C[Re]:void 0,x.hasOwnProperty(Re)&&fe!==ee&&(fe!=null||ee!=null))if(Re==="style")if(ee){for(F in ee)!ee.hasOwnProperty(F)||fe&&fe.hasOwnProperty(F)||(h||(h={}),h[F]="");for(F in fe)fe.hasOwnProperty(F)&&ee[F]!==fe[F]&&(h||(h={}),h[F]=fe[F])}else h||(A||(A=[]),A.push(Re,h)),h=fe;else Re==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,ee=ee?ee.__html:void 0,fe!=null&&ee!==fe&&(A=A||[]).push(Re,fe)):Re==="children"?typeof fe!="string"&&typeof fe!="number"||(A=A||[]).push(Re,""+fe):Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&(s.hasOwnProperty(Re)?(fe!=null&&Re==="onScroll"&&Xn("scroll",o),A||ee===fe||(A=[])):(A=A||[]).push(Re,fe))}h&&(A=A||[]).push("style",h);var Re=A;(a.updateQueue=Re)&&(a.flags|=4)}},Tg=function(o,a,h,x){h!==x&&(a.flags|=4)};function mf(o,a){if(!er)switch(o.tailMode){case"hidden":a=o.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function es(o){var a=o.alternate!==null&&o.alternate.child===o.child,h=0,x=0;if(a)for(var C=o.child;C!==null;)h|=C.lanes|C.childLanes,x|=C.subtreeFlags&14680064,x|=C.flags&14680064,C.return=o,C=C.sibling;else for(C=o.child;C!==null;)h|=C.lanes|C.childLanes,x|=C.subtreeFlags,x|=C.flags,C.return=o,C=C.sibling;return o.subtreeFlags|=x,o.childLanes=h,a}function $w(o,a,h){var x=a.pendingProps;switch(dc(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return es(a),null;case 1:return Vs(a.type)&&Lh(),es(a),null;case 3:return x=a.stateNode,dl(),Jn(Ws),Jn(ds),Yh(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Xd(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,ni!==null&&($g(ni),ni=null))),jg(o,a),es(a),null;case 5:Kh(a);var C=da(Tu.current);if(h=a.type,o!==null&&a.stateNode!=null)Hy(o,a,h,x,C),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!x){if(a.stateNode===null)throw Error(n(166));return es(a),null}if(o=da(Oi.current),Xd(a)){x=a.stateNode,h=a.type;var A=a.memoizedProps;switch(x[Ci]=a,x[il]=A,o=(a.mode&1)!==0,h){case"dialog":Xn("cancel",x),Xn("close",x);break;case"iframe":case"object":case"embed":Xn("load",x);break;case"video":case"audio":for(C=0;C<oa.length;C++)Xn(oa[C],x);break;case"source":Xn("error",x);break;case"img":case"image":case"link":Xn("error",x),Xn("load",x);break;case"details":Xn("toggle",x);break;case"input":On(x,A),Xn("invalid",x);break;case"select":x._wrapperState={wasMultiple:!!A.multiple},Xn("invalid",x);break;case"textarea":ve(x,A),Xn("invalid",x)}ht(h,A),C=null;for(var F in A)if(A.hasOwnProperty(F)){var ee=A[F];F==="children"?typeof ee=="string"?x.textContent!==ee&&(A.suppressHydrationWarning!==!0&&Kd(x.textContent,ee,o),C=["children",ee]):typeof ee=="number"&&x.textContent!==""+ee&&(A.suppressHydrationWarning!==!0&&Kd(x.textContent,ee,o),C=["children",""+ee]):s.hasOwnProperty(F)&&ee!=null&&F==="onScroll"&&Xn("scroll",x)}switch(h){case"input":At(x),Xe(x,A,!0);break;case"textarea":At(x),Je(x);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(x.onclick=Oh)}x=C,a.updateQueue=x,x!==null&&(a.flags|=4)}else{F=C.nodeType===9?C:C.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=He(h)),o==="http://www.w3.org/1999/xhtml"?h==="script"?(o=F.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof x.is=="string"?o=F.createElement(h,{is:x.is}):(o=F.createElement(h),h==="select"&&(F=o,x.multiple?F.multiple=!0:x.size&&(F.size=x.size))):o=F.createElementNS(o,h),o[Ci]=a,o[il]=x,Jr(o,a,!1,!1),a.stateNode=o;e:{switch(F=ws(h,x),h){case"dialog":Xn("cancel",o),Xn("close",o),C=x;break;case"iframe":case"object":case"embed":Xn("load",o),C=x;break;case"video":case"audio":for(C=0;C<oa.length;C++)Xn(oa[C],o);C=x;break;case"source":Xn("error",o),C=x;break;case"img":case"image":case"link":Xn("error",o),Xn("load",o),C=x;break;case"details":Xn("toggle",o),C=x;break;case"input":On(o,x),C=nn(o,x),Xn("invalid",o);break;case"option":C=x;break;case"select":o._wrapperState={wasMultiple:!!x.multiple},C=xe({},x,{value:void 0}),Xn("invalid",o);break;case"textarea":ve(o,x),C=ie(o,x),Xn("invalid",o);break;default:C=x}ht(h,C),ee=C;for(A in ee)if(ee.hasOwnProperty(A)){var fe=ee[A];A==="style"?sr(o,fe):A==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,fe!=null&&Nt(o,fe)):A==="children"?typeof fe=="string"?(h!=="textarea"||fe!=="")&&rn(o,fe):typeof fe=="number"&&rn(o,""+fe):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(s.hasOwnProperty(A)?fe!=null&&A==="onScroll"&&Xn("scroll",o):fe!=null&&M(o,A,fe,F))}switch(h){case"input":At(o),Xe(o,x,!1);break;case"textarea":At(o),Je(o);break;case"option":x.value!=null&&o.setAttribute("value",""+at(x.value));break;case"select":o.multiple=!!x.multiple,A=x.value,A!=null?Vt(o,!!x.multiple,A,!1):x.defaultValue!=null&&Vt(o,!!x.multiple,x.defaultValue,!0);break;default:typeof C.onClick=="function"&&(o.onclick=Oh)}switch(h){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}}x&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return es(a),null;case 6:if(o&&a.stateNode!=null)Tg(o,a,o.memoizedProps,x);else{if(typeof x!="string"&&a.stateNode===null)throw Error(n(166));if(h=da(Tu.current),da(Oi.current),Xd(a)){if(x=a.stateNode,h=a.memoizedProps,x[Ci]=a,(A=x.nodeValue!==h)&&(o=hs,o!==null))switch(o.tag){case 3:Kd(x.nodeValue,h,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Kd(x.nodeValue,h,(o.mode&1)!==0)}A&&(a.flags|=4)}else x=(h.nodeType===9?h:h.ownerDocument).createTextNode(x),x[Ci]=a,a.stateNode=x}return es(a),null;case 13:if(Jn(tr),x=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(er&&ro!==null&&(a.mode&1)!==0&&(a.flags&128)===0)ng(),Ri(),a.flags|=98560,A=!1;else if(A=Xd(a),x!==null&&x.dehydrated!==null){if(o===null){if(!A)throw Error(n(318));if(A=a.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[Ci]=a}else Ri(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;es(a),A=!1}else ni!==null&&($g(ni),ni=null),A=!0;if(!A)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=h,a):(x=x!==null,x!==(o!==null&&o.memoizedState!==null)&&x&&(a.child.flags|=8192,(a.mode&1)!==0&&(o===null||(tr.current&1)!==0?Or===0&&(Or=3):zg())),a.updateQueue!==null&&(a.flags|=4),es(a),null);case 4:return dl(),jg(o,a),o===null&&rl(a.stateNode.containerInfo),es(a),null;case 10:return Wh(a.type._context),es(a),null;case 17:return Vs(a.type)&&Lh(),es(a),null;case 19:if(Jn(tr),A=a.memoizedState,A===null)return es(a),null;if(x=(a.flags&128)!==0,F=A.rendering,F===null)if(x)mf(A,!1);else{if(Or!==0||o!==null&&(o.flags&128)!==0)for(o=a.child;o!==null;){if(F=pc(o),F!==null){for(a.flags|=128,mf(A,!1),x=F.updateQueue,x!==null&&(a.updateQueue=x,a.flags|=4),a.subtreeFlags=0,x=h,h=a.child;h!==null;)A=h,o=x,A.flags&=14680066,F=A.alternate,F===null?(A.childLanes=0,A.lanes=o,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=F.childLanes,A.lanes=F.lanes,A.child=F.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=F.memoizedProps,A.memoizedState=F.memoizedState,A.updateQueue=F.updateQueue,A.type=F.type,o=F.dependencies,A.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),h=h.sibling;return Gn(tr,tr.current&1|2),a.child}o=o.sibling}A.tail!==null&&wn()>xc&&(a.flags|=128,x=!0,mf(A,!1),a.lanes=4194304)}else{if(!x)if(o=pc(F),o!==null){if(a.flags|=128,x=!0,h=o.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),mf(A,!0),A.tail===null&&A.tailMode==="hidden"&&!F.alternate&&!er)return es(a),null}else 2*wn()-A.renderingStartTime>xc&&h!==1073741824&&(a.flags|=128,x=!0,mf(A,!1),a.lanes=4194304);A.isBackwards?(F.sibling=a.child,a.child=F):(h=A.last,h!==null?h.sibling=F:a.child=F,A.last=F)}return A.tail!==null?(a=A.tail,A.rendering=a,A.tail=a.sibling,A.renderingStartTime=wn(),a.sibling=null,h=tr.current,Gn(tr,x?h&1|2:h&1),a):(es(a),null);case 22:case 23:return Ug(),x=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==x&&(a.flags|=8192),x&&(a.mode&1)!==0?(io&1073741824)!==0&&(es(a),a.subtreeFlags&6&&(a.flags|=8192)):es(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function Bw(o,a){switch(dc(a),a.tag){case 1:return Vs(a.type)&&Lh(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return dl(),Jn(Ws),Jn(ds),Yh(),o=a.flags,(o&65536)!==0&&(o&128)===0?(a.flags=o&-65537|128,a):null;case 5:return Kh(a),null;case 13:if(Jn(tr),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Ri()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return Jn(tr),null;case 4:return dl(),null;case 10:return Wh(a.type._context),null;case 22:case 23:return Ug(),null;case 24:return null;default:return null}}var cp=!1,nr=!1,Cs=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Fu(o,a){var h=o.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(x){ir(o,a,x)}else h.current=null}function gf(o,a,h){try{h()}catch(x){ir(o,a,x)}}var qy=!1;function Uw(o,a){if(Yd=Ei,o=ce(),Ne(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var C=x.anchorOffset,A=x.focusNode;x=x.focusOffset;try{h.nodeType,A.nodeType}catch{h=null;break e}var F=0,ee=-1,fe=-1,Re=0,Ge=0,tt=o,Ye=null;t:for(;;){for(var yt;tt!==h||C!==0&&tt.nodeType!==3||(ee=F+C),tt!==A||x!==0&&tt.nodeType!==3||(fe=F+x),tt.nodeType===3&&(F+=tt.nodeValue.length),(yt=tt.firstChild)!==null;)Ye=tt,tt=yt;for(;;){if(tt===o)break t;if(Ye===h&&++Re===C&&(ee=F),Ye===A&&++Ge===x&&(fe=F),(yt=tt.nextSibling)!==null)break;tt=Ye,Ye=tt.parentNode}tt=yt}h=ee===-1||fe===-1?null:{start:ee,end:fe}}else h=null}h=h||{start:0,end:0}}else h=null;for(ac={focusedElem:o,selectionRange:h},Ei=!1,bt=a;bt!==null;)if(a=bt,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,bt=o;else for(;bt!==null;){a=bt;try{var St=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(St!==null){var Et=St.memoizedProps,xr=St.memoizedState,ke=a.stateNode,we=ke.getSnapshotBeforeUpdate(a.elementType===a.type?Et:Ro(a.type,Et),xr);ke.__reactInternalSnapshotBeforeUpdate=we}break;case 3:var je=a.stateNode.containerInfo;je.nodeType===1?je.textContent="":je.nodeType===9&&je.documentElement&&je.removeChild(je.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(it){ir(a,a.return,it)}if(o=a.sibling,o!==null){o.return=a.return,bt=o;break}bt=a.return}return St=qy,qy=!1,St}function ma(o,a,h){var x=a.updateQueue;if(x=x!==null?x.lastEffect:null,x!==null){var C=x=x.next;do{if((C.tag&o)===o){var A=C.destroy;C.destroy=void 0,A!==void 0&&gf(a,h,A)}C=C.next}while(C!==x)}}function vf(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&o)===o){var x=h.create;h.destroy=x()}h=h.next}while(h!==a)}}function up(o){var a=o.ref;if(a!==null){var h=o.stateNode;switch(o.tag){case 5:o=h;break;default:o=h}typeof a=="function"?a(o):a.current=o}}function Ky(o){var a=o.alternate;a!==null&&(o.alternate=null,Ky(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Ci],delete a[il],delete a[Mh],delete a[W],delete a[Su])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Yy(o){return o.tag===5||o.tag===3||o.tag===4}function Gy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Yy(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Ag(o,a,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,a?h.nodeType===8?h.parentNode.insertBefore(o,a):h.insertBefore(o,a):(h.nodeType===8?(a=h.parentNode,a.insertBefore(o,h)):(a=h,a.appendChild(o)),h=h._reactRootContainer,h!=null||a.onclick!==null||(a.onclick=Oh));else if(x!==4&&(o=o.child,o!==null))for(Ag(o,a,h),o=o.sibling;o!==null;)Ag(o,a,h),o=o.sibling}function dp(o,a,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,a?h.insertBefore(o,a):h.appendChild(o);else if(x!==4&&(o=o.child,o!==null))for(dp(o,a,h),o=o.sibling;o!==null;)dp(o,a,h),o=o.sibling}var Wr=null,oi=!1;function Fi(o,a,h){for(h=h.child;h!==null;)Rg(o,a,h),h=h.sibling}function Rg(o,a,h){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(ql,h)}catch{}switch(h.tag){case 5:nr||Fu(h,a);case 6:var x=Wr,C=oi;Wr=null,Fi(o,a,h),Wr=x,oi=C,Wr!==null&&(oi?(o=Wr,h=h.stateNode,o.nodeType===8?o.parentNode.removeChild(h):o.removeChild(h)):Wr.removeChild(h.stateNode));break;case 18:Wr!==null&&(oi?(o=Wr,h=h.stateNode,o.nodeType===8?Jm(o.parentNode,h):o.nodeType===1&&Jm(o,h),En(o)):Jm(Wr,h.stateNode));break;case 4:x=Wr,C=oi,Wr=h.stateNode.containerInfo,oi=!0,Fi(o,a,h),Wr=x,oi=C;break;case 0:case 11:case 14:case 15:if(!nr&&(x=h.updateQueue,x!==null&&(x=x.lastEffect,x!==null))){C=x=x.next;do{var A=C,F=A.destroy;A=A.tag,F!==void 0&&((A&2)!==0||(A&4)!==0)&&gf(h,a,F),C=C.next}while(C!==x)}Fi(o,a,h);break;case 1:if(!nr&&(Fu(h,a),x=h.stateNode,typeof x.componentWillUnmount=="function"))try{x.props=h.memoizedProps,x.state=h.memoizedState,x.componentWillUnmount()}catch(ee){ir(h,a,ee)}Fi(o,a,h);break;case 21:Fi(o,a,h);break;case 22:h.mode&1?(nr=(x=nr)||h.memoizedState!==null,Fi(o,a,h),nr=x):Fi(o,a,h);break;default:Fi(o,a,h)}}function $u(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var h=o.stateNode;h===null&&(h=o.stateNode=new Cs),a.forEach(function(x){var C=Yw.bind(null,o,x);h.has(x)||(h.add(x),x.then(C,C))})}}function oo(o,a){var h=a.deletions;if(h!==null)for(var x=0;x<h.length;x++){var C=h[x];try{var A=o,F=a,ee=F;e:for(;ee!==null;){switch(ee.tag){case 5:Wr=ee.stateNode,oi=!1;break e;case 3:Wr=ee.stateNode.containerInfo,oi=!0;break e;case 4:Wr=ee.stateNode.containerInfo,oi=!0;break e}ee=ee.return}if(Wr===null)throw Error(n(160));Rg(A,F,C),Wr=null,oi=!1;var fe=C.alternate;fe!==null&&(fe.return=null),C.return=null}catch(Re){ir(C,a,Re)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Pg(a,o),a=a.sibling}function Pg(o,a){var h=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(oo(a,o),ii(o),x&4){try{ma(3,o,o.return),vf(3,o)}catch(Et){ir(o,o.return,Et)}try{ma(5,o,o.return)}catch(Et){ir(o,o.return,Et)}}break;case 1:oo(a,o),ii(o),x&512&&h!==null&&Fu(h,h.return);break;case 5:if(oo(a,o),ii(o),x&512&&h!==null&&Fu(h,h.return),o.flags&32){var C=o.stateNode;try{rn(C,"")}catch(Et){ir(o,o.return,Et)}}if(x&4&&(C=o.stateNode,C!=null)){var A=o.memoizedProps,F=h!==null?h.memoizedProps:A,ee=o.type,fe=o.updateQueue;if(o.updateQueue=null,fe!==null)try{ee==="input"&&A.type==="radio"&&A.name!=null&&cr(C,A),ws(ee,F);var Re=ws(ee,A);for(F=0;F<fe.length;F+=2){var Ge=fe[F],tt=fe[F+1];Ge==="style"?sr(C,tt):Ge==="dangerouslySetInnerHTML"?Nt(C,tt):Ge==="children"?rn(C,tt):M(C,Ge,tt,Re)}switch(ee){case"input":zn(C,A);break;case"textarea":Ie(C,A);break;case"select":var Ye=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!A.multiple;var yt=A.value;yt!=null?Vt(C,!!A.multiple,yt,!1):Ye!==!!A.multiple&&(A.defaultValue!=null?Vt(C,!!A.multiple,A.defaultValue,!0):Vt(C,!!A.multiple,A.multiple?[]:"",!1))}C[il]=A}catch(Et){ir(o,o.return,Et)}}break;case 6:if(oo(a,o),ii(o),x&4){if(o.stateNode===null)throw Error(n(162));C=o.stateNode,A=o.memoizedProps;try{C.nodeValue=A}catch(Et){ir(o,o.return,Et)}}break;case 3:if(oo(a,o),ii(o),x&4&&h!==null&&h.memoizedState.isDehydrated)try{En(a.containerInfo)}catch(Et){ir(o,o.return,Et)}break;case 4:oo(a,o),ii(o);break;case 13:oo(a,o),ii(o),C=o.child,C.flags&8192&&(A=C.memoizedState!==null,C.stateNode.isHidden=A,!A||C.alternate!==null&&C.alternate.memoizedState!==null||(Mg=wn())),x&4&&$u(o);break;case 22:if(Ge=h!==null&&h.memoizedState!==null,o.mode&1?(nr=(Re=nr)||Ge,oo(a,o),nr=Re):oo(a,o),ii(o),x&8192){if(Re=o.memoizedState!==null,(o.stateNode.isHidden=Re)&&!Ge&&(o.mode&1)!==0)for(bt=o,Ge=o.child;Ge!==null;){for(tt=bt=Ge;bt!==null;){switch(Ye=bt,yt=Ye.child,Ye.tag){case 0:case 11:case 14:case 15:ma(4,Ye,Ye.return);break;case 1:Fu(Ye,Ye.return);var St=Ye.stateNode;if(typeof St.componentWillUnmount=="function"){x=Ye,h=Ye.return;try{a=x,St.props=a.memoizedProps,St.state=a.memoizedState,St.componentWillUnmount()}catch(Et){ir(x,h,Et)}}break;case 5:Fu(Ye,Ye.return);break;case 22:if(Ye.memoizedState!==null){pl(tt);continue}}yt!==null?(yt.return=Ye,bt=yt):pl(tt)}Ge=Ge.sibling}e:for(Ge=null,tt=o;;){if(tt.tag===5){if(Ge===null){Ge=tt;try{C=tt.stateNode,Re?(A=C.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(ee=tt.stateNode,fe=tt.memoizedProps.style,F=fe!=null&&fe.hasOwnProperty("display")?fe.display:null,ee.style.display=Qn("display",F))}catch(Et){ir(o,o.return,Et)}}}else if(tt.tag===6){if(Ge===null)try{tt.stateNode.nodeValue=Re?"":tt.memoizedProps}catch(Et){ir(o,o.return,Et)}}else if((tt.tag!==22&&tt.tag!==23||tt.memoizedState===null||tt===o)&&tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===o)break e;for(;tt.sibling===null;){if(tt.return===null||tt.return===o)break e;Ge===tt&&(Ge=null),tt=tt.return}Ge===tt&&(Ge=null),tt.sibling.return=tt.return,tt=tt.sibling}}break;case 19:oo(a,o),ii(o),x&4&&$u(o);break;case 21:break;default:oo(a,o),ii(o)}}function ii(o){var a=o.flags;if(a&2){try{e:{for(var h=o.return;h!==null;){if(Yy(h)){var x=h;break e}h=h.return}throw Error(n(160))}switch(x.tag){case 5:var C=x.stateNode;x.flags&32&&(rn(C,""),x.flags&=-33);var A=Gy(o);dp(o,A,C);break;case 3:case 4:var F=x.stateNode.containerInfo,ee=Gy(o);Ag(o,ee,F);break;default:throw Error(n(161))}}catch(fe){ir(o,o.return,fe)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function fp(o,a,h){bt=o,Og(o)}function Og(o,a,h){for(var x=(o.mode&1)!==0;bt!==null;){var C=bt,A=C.child;if(C.tag===22&&x){var F=C.memoizedState!==null||cp;if(!F){var ee=C.alternate,fe=ee!==null&&ee.memoizedState!==null||nr;ee=cp;var Re=nr;if(cp=F,(nr=fe)&&!Re)for(bt=C;bt!==null;)F=bt,fe=F.child,F.tag===22&&F.memoizedState!==null?Zy(C):fe!==null?(fe.return=F,bt=fe):Zy(C);for(;A!==null;)bt=A,Og(A),A=A.sibling;bt=C,cp=ee,nr=Re}ai(o)}else(C.subtreeFlags&8772)!==0&&A!==null?(A.return=C,bt=A):ai(o)}}function ai(o){for(;bt!==null;){var a=bt;if((a.flags&8772)!==0){var h=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:nr||vf(5,a);break;case 1:var x=a.stateNode;if(a.flags&4&&!nr)if(h===null)x.componentDidMount();else{var C=a.elementType===a.type?h.memoizedProps:Ro(a.type,h.memoizedProps);x.componentDidUpdate(C,h.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var A=a.updateQueue;A!==null&&og(a,A,x);break;case 3:var F=a.updateQueue;if(F!==null){if(h=null,a.child!==null)switch(a.child.tag){case 5:h=a.child.stateNode;break;case 1:h=a.child.stateNode}og(a,F,h)}break;case 5:var ee=a.stateNode;if(h===null&&a.flags&4){h=ee;var fe=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":fe.autoFocus&&h.focus();break;case"img":fe.src&&(h.src=fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Re=a.alternate;if(Re!==null){var Ge=Re.memoizedState;if(Ge!==null){var tt=Ge.dehydrated;tt!==null&&En(tt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}nr||a.flags&512&&up(a)}catch(Ye){ir(a,a.return,Ye)}}if(a===o){bt=null;break}if(h=a.sibling,h!==null){h.return=a.return,bt=h;break}bt=a.return}}function pl(o){for(;bt!==null;){var a=bt;if(a===o){bt=null;break}var h=a.sibling;if(h!==null){h.return=a.return,bt=h;break}bt=a.return}}function Zy(o){for(;bt!==null;){var a=bt;try{switch(a.tag){case 0:case 11:case 15:var h=a.return;try{vf(4,a)}catch(fe){ir(a,h,fe)}break;case 1:var x=a.stateNode;if(typeof x.componentDidMount=="function"){var C=a.return;try{x.componentDidMount()}catch(fe){ir(a,C,fe)}}var A=a.return;try{up(a)}catch(fe){ir(a,A,fe)}break;case 5:var F=a.return;try{up(a)}catch(fe){ir(a,F,fe)}}}catch(fe){ir(a,a.return,fe)}if(a===o){bt=null;break}var ee=a.sibling;if(ee!==null){ee.return=a.return,bt=ee;break}bt=a.return}}var Qy=Math.ceil,hp=z.ReactCurrentDispatcher,Dg=z.ReactCurrentOwner,Po=z.ReactCurrentBatchConfig,kn=0,Vr=null,Cr=null,ts=0,io=0,Bu=zs(0),Or=0,yf=null,ml=0,xf=0,pp=0,wf=null,Ks=null,Mg=0,xc=1/0,ga=null,mp=!1,Ig=null,gl=null,gp=!1,vl=null,Ns=0,bf=0,Lg=null,vp=-1,_f=0;function js(){return(kn&6)!==0?wn():vp!==-1?vp:vp=wn()}function yl(o){return(o.mode&1)===0?1:(kn&2)!==0&&ts!==0?ts&-ts:Ay.transition!==null?(_f===0&&(_f=au()),_f):(o=_n,o!==0||(o=window.event,o=o===void 0?16:bh(o.type)),o)}function li(o,a,h,x){if(50<bf)throw bf=0,Lg=null,Error(n(185));za(o,h,x),((kn&2)===0||o!==Vr)&&(o===Vr&&((kn&2)===0&&(xf|=h),Or===4&&xl(o,ts)),Ys(o,x),h===1&&kn===0&&(a.mode&1)===0&&(xc=wn()+500,Fh&&ll()))}function Ys(o,a){var h=o.callbackNode;$d(o,a);var x=Is(o,o===Vr?ts:0);if(x===0)h!==null&&su(h),o.callbackNode=null,o.callbackPriority=0;else if(a=x&-x,o.callbackPriority!==a){if(h!=null&&su(h),a===1)o.tag===0?lc(Xy.bind(null,o)):Ny(Xy.bind(null,o)),Dh(function(){(kn&6)===0&&ll()}),h=null;else{switch(cn(x)){case 1:h=wi;break;case 4:h=Hl;break;case 16:h=Qi;break;case 536870912:h=Ko;break;default:h=Qi}h=o0(h,yp.bind(null,o))}o.callbackPriority=a,o.callbackNode=h}}function yp(o,a){if(vp=-1,_f=0,(kn&6)!==0)throw Error(n(327));var h=o.callbackNode;if(Uu()&&o.callbackNode!==h)return null;var x=Is(o,o===Vr?ts:0);if(x===0)return null;if((x&30)!==0||(x&o.expiredLanes)!==0||a)a=xp(o,x);else{a=x;var C=kn;kn|=2;var A=e0();(Vr!==o||ts!==a)&&(ga=null,xc=wn()+500,bc(o,a));do try{Vw();break}catch(ee){Jy(o,ee)}while(!0);la(),hp.current=A,kn=C,Cr!==null?a=0:(Vr=null,ts=0,a=Or)}if(a!==0){if(a===2&&(C=Xi(o),C!==0&&(x=C,a=Fg(o,C))),a===1)throw h=yf,bc(o,0),xl(o,x),Ys(o,wn()),h;if(a===6)xl(o,x);else{if(C=o.current.alternate,(x&30)===0&&!zw(C)&&(a=xp(o,x),a===2&&(A=Xi(o),A!==0&&(x=A,a=Fg(o,A))),a===1))throw h=yf,bc(o,0),xl(o,x),Ys(o,wn()),h;switch(o.finishedWork=C,o.finishedLanes=x,a){case 0:case 1:throw Error(n(345));case 2:_c(o,Ks,ga);break;case 3:if(xl(o,x),(x&130023424)===x&&(a=Mg+500-wn(),10<a)){if(Is(o,0)!==0)break;if(C=o.suspendedLanes,(C&x)!==x){js(),o.pingedLanes|=o.suspendedLanes&C;break}o.timeoutHandle=sl(_c.bind(null,o,Ks,ga),a);break}_c(o,Ks,ga);break;case 4:if(xl(o,x),(x&4194240)===x)break;for(a=o.eventTimes,C=-1;0<x;){var F=31-Ht(x);A=1<<F,F=a[F],F>C&&(C=F),x&=~A}if(x=C,x=wn()-x,x=(120>x?120:480>x?480:1080>x?1080:1920>x?1920:3e3>x?3e3:4320>x?4320:1960*Qy(x/1960))-x,10<x){o.timeoutHandle=sl(_c.bind(null,o,Ks,ga),x);break}_c(o,Ks,ga);break;case 5:_c(o,Ks,ga);break;default:throw Error(n(329))}}}return Ys(o,wn()),o.callbackNode===h?yp.bind(null,o):null}function Fg(o,a){var h=wf;return o.current.memoizedState.isDehydrated&&(bc(o,a).flags|=256),o=xp(o,a),o!==2&&(a=Ks,Ks=h,a!==null&&$g(a)),o}function $g(o){Ks===null?Ks=o:Ks.push.apply(Ks,o)}function zw(o){for(var a=o;;){if(a.flags&16384){var h=a.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var x=0;x<h.length;x++){var C=h[x],A=C.getSnapshot;C=C.value;try{if(!B(A(),C))return!1}catch{return!1}}}if(h=a.child,a.subtreeFlags&16384&&h!==null)h.return=a,a=h;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function xl(o,a){for(a&=~pp,a&=~xf,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var h=31-Ht(a),x=1<<h;o[h]=-1,a&=~x}}function Xy(o){if((kn&6)!==0)throw Error(n(327));Uu();var a=Is(o,0);if((a&1)===0)return Ys(o,wn()),null;var h=xp(o,a);if(o.tag!==0&&h===2){var x=Xi(o);x!==0&&(a=x,h=Fg(o,x))}if(h===1)throw h=yf,bc(o,0),xl(o,a),Ys(o,wn()),h;if(h===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,_c(o,Ks,ga),Ys(o,wn()),null}function Bg(o,a){var h=kn;kn|=1;try{return o(a)}finally{kn=h,kn===0&&(xc=wn()+500,Fh&&ll())}}function wc(o){vl!==null&&vl.tag===0&&(kn&6)===0&&Uu();var a=kn;kn|=1;var h=Po.transition,x=_n;try{if(Po.transition=null,_n=1,o)return o()}finally{_n=x,Po.transition=h,kn=a,(kn&6)===0&&ll()}}function Ug(){io=Bu.current,Jn(Bu)}function bc(o,a){o.finishedWork=null,o.finishedLanes=0;var h=o.timeoutHandle;if(h!==-1&&(o.timeoutHandle=-1,Zd(h)),Cr!==null)for(h=Cr.return;h!==null;){var x=h;switch(dc(x),x.tag){case 1:x=x.type.childContextTypes,x!=null&&Lh();break;case 3:dl(),Jn(Ws),Jn(ds),Yh();break;case 5:Kh(x);break;case 4:dl();break;case 13:Jn(tr);break;case 19:Jn(tr);break;case 10:Wh(x.type._context);break;case 22:case 23:Ug()}h=h.return}if(Vr=o,Cr=o=ci(o.current,null),ts=io=a,Or=0,yf=null,pp=xf=ml=0,Ks=wf=null,hc!==null){for(a=0;a<hc.length;a++)if(h=hc[a],x=h.interleaved,x!==null){h.interleaved=null;var C=x.next,A=h.pending;if(A!==null){var F=A.next;A.next=C,x.next=F}h.pending=x}hc=null}return o}function Jy(o,a){do{var h=Cr;try{if(la(),rf.current=ep,Au){for(var x=or.memoizedState;x!==null;){var C=x.queue;C!==null&&(C.pending=null),x=x.next}Au=!1}if(fl=0,Pr=yr=or=null,sf=!1,mc=0,Dg.current=null,h===null||h.return===null){Or=1,yf=a,Cr=null;break}e:{var A=o,F=h.return,ee=h,fe=a;if(a=ts,ee.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Re=fe,Ge=ee,tt=Ge.tag;if((Ge.mode&1)===0&&(tt===0||tt===11||tt===15)){var Ye=Ge.alternate;Ye?(Ge.updateQueue=Ye.updateQueue,Ge.memoizedState=Ye.memoizedState,Ge.lanes=Ye.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var yt=Uy(F);if(yt!==null){yt.flags&=-257,bg(yt,F,ee,A,a),yt.mode&1&&uf(A,Re,a),a=yt,fe=Re;var St=a.updateQueue;if(St===null){var Et=new Set;Et.add(fe),a.updateQueue=Et}else St.add(fe);break e}else{if((a&1)===0){uf(A,Re,a),zg();break e}fe=Error(n(426))}}else if(er&&ee.mode&1){var xr=Uy(F);if(xr!==null){(xr.flags&65536)===0&&(xr.flags|=256),bg(xr,F,ee,A,a),Pi(yc(fe,ee));break e}}A=fe=yc(fe,ee),Or!==4&&(Or=2),wf===null?wf=[A]:wf.push(A),A=F;do{switch(A.tag){case 3:A.flags|=65536,a&=-a,A.lanes|=a;var ke=cf(A,fe,a);Oy(A,ke);break e;case 1:ee=fe;var we=A.type,je=A.stateNode;if((A.flags&128)===0&&(typeof we.getDerivedStateFromError=="function"||je!==null&&typeof je.componentDidCatch=="function"&&(gl===null||!gl.has(je)))){A.flags|=65536,a&=-a,A.lanes|=a;var it=op(A,ee,a);Oy(A,it);break e}}A=A.return}while(A!==null)}n0(h)}catch(Ct){a=Ct,Cr===h&&h!==null&&(Cr=h=h.return);continue}break}while(!0)}function e0(){var o=hp.current;return hp.current=ep,o===null?ep:o}function zg(){(Or===0||Or===3||Or===2)&&(Or=4),Vr===null||(ml&268435455)===0&&(xf&268435455)===0||xl(Vr,ts)}function xp(o,a){var h=kn;kn|=2;var x=e0();(Vr!==o||ts!==a)&&(ga=null,bc(o,a));do try{Ww();break}catch(C){Jy(o,C)}while(!0);if(la(),kn=h,hp.current=x,Cr!==null)throw Error(n(261));return Vr=null,ts=0,Or}function Ww(){for(;Cr!==null;)t0(Cr)}function Vw(){for(;Cr!==null&&!qn();)t0(Cr)}function t0(o){var a=s0(o.alternate,o,io);o.memoizedProps=o.pendingProps,a===null?n0(o):Cr=a,Dg.current=null}function n0(o){var a=o;do{var h=a.alternate;if(o=a.return,(a.flags&32768)===0){if(h=$w(h,a,io),h!==null){Cr=h;return}}else{if(h=Bw(h,a),h!==null){h.flags&=32767,Cr=h;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Or=6,Cr=null;return}}if(a=a.sibling,a!==null){Cr=a;return}Cr=a=o}while(a!==null);Or===0&&(Or=5)}function _c(o,a,h){var x=_n,C=Po.transition;try{Po.transition=null,_n=1,Hw(o,a,h,x)}finally{Po.transition=C,_n=x}return null}function Hw(o,a,h,x){do Uu();while(vl!==null);if((kn&6)!==0)throw Error(n(327));h=o.finishedWork;var C=o.finishedLanes;if(h===null)return null;if(o.finishedWork=null,o.finishedLanes=0,h===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var A=h.lanes|h.childLanes;if(Wa(o,A),o===Vr&&(Cr=Vr=null,ts=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||gp||(gp=!0,o0(Qi,function(){return Uu(),null})),A=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||A){A=Po.transition,Po.transition=null;var F=_n;_n=1;var ee=kn;kn|=4,Dg.current=null,Uw(o,h),Pg(h,o),De(ac),Ei=!!Yd,ac=Yd=null,o.current=h,fp(h),Zi(),kn=ee,_n=F,Po.transition=A}else o.current=h;if(gp&&(gp=!1,vl=o,Ns=C),A=o.pendingLanes,A===0&&(gl=null),xh(h.stateNode),Ys(o,wn()),a!==null)for(x=o.onRecoverableError,h=0;h<a.length;h++)C=a[h],x(C.value,{componentStack:C.stack,digest:C.digest});if(mp)throw mp=!1,o=Ig,Ig=null,o;return(Ns&1)!==0&&o.tag!==0&&Uu(),A=o.pendingLanes,(A&1)!==0?o===Lg?bf++:(bf=0,Lg=o):bf=0,ll(),null}function Uu(){if(vl!==null){var o=cn(Ns),a=Po.transition,h=_n;try{if(Po.transition=null,_n=16>o?16:o,vl===null)var x=!1;else{if(o=vl,vl=null,Ns=0,(kn&6)!==0)throw Error(n(331));var C=kn;for(kn|=4,bt=o.current;bt!==null;){var A=bt,F=A.child;if((bt.flags&16)!==0){var ee=A.deletions;if(ee!==null){for(var fe=0;fe<ee.length;fe++){var Re=ee[fe];for(bt=Re;bt!==null;){var Ge=bt;switch(Ge.tag){case 0:case 11:case 15:ma(8,Ge,A)}var tt=Ge.child;if(tt!==null)tt.return=Ge,bt=tt;else for(;bt!==null;){Ge=bt;var Ye=Ge.sibling,yt=Ge.return;if(Ky(Ge),Ge===Re){bt=null;break}if(Ye!==null){Ye.return=yt,bt=Ye;break}bt=yt}}}var St=A.alternate;if(St!==null){var Et=St.child;if(Et!==null){St.child=null;do{var xr=Et.sibling;Et.sibling=null,Et=xr}while(Et!==null)}}bt=A}}if((A.subtreeFlags&2064)!==0&&F!==null)F.return=A,bt=F;else e:for(;bt!==null;){if(A=bt,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:ma(9,A,A.return)}var ke=A.sibling;if(ke!==null){ke.return=A.return,bt=ke;break e}bt=A.return}}var we=o.current;for(bt=we;bt!==null;){F=bt;var je=F.child;if((F.subtreeFlags&2064)!==0&&je!==null)je.return=F,bt=je;else e:for(F=we;bt!==null;){if(ee=bt,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:vf(9,ee)}}catch(Ct){ir(ee,ee.return,Ct)}if(ee===F){bt=null;break e}var it=ee.sibling;if(it!==null){it.return=ee.return,bt=it;break e}bt=ee.return}}if(kn=C,ll(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(ql,o)}catch{}x=!0}return x}finally{_n=h,Po.transition=a}}return!1}function wp(o,a,h){a=yc(h,a),a=cf(o,a,1),o=To(o,a,1),a=js(),o!==null&&(za(o,1,a),Ys(o,a))}function ir(o,a,h){if(o.tag===3)wp(o,o,h);else for(;a!==null;){if(a.tag===3){wp(a,o,h);break}else if(a.tag===1){var x=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(gl===null||!gl.has(x))){o=yc(h,o),o=op(a,o,1),a=To(a,o,1),o=js(),a!==null&&(za(a,1,o),Ys(a,o));break}}a=a.return}}function qw(o,a,h){var x=o.pingCache;x!==null&&x.delete(a),a=js(),o.pingedLanes|=o.suspendedLanes&h,Vr===o&&(ts&h)===h&&(Or===4||Or===3&&(ts&130023424)===ts&&500>wn()-Mg?bc(o,0):pp|=h),Ys(o,a)}function r0(o,a){a===0&&((o.mode&1)===0?a=1:(a=bi,bi<<=1,(bi&130023424)===0&&(bi=4194304)));var h=js();o=ca(o,a),o!==null&&(za(o,a,h),Ys(o,h))}function Kw(o){var a=o.memoizedState,h=0;a!==null&&(h=a.retryLane),r0(o,h)}function Yw(o,a){var h=0;switch(o.tag){case 13:var x=o.stateNode,C=o.memoizedState;C!==null&&(h=C.retryLane);break;case 19:x=o.stateNode;break;default:throw Error(n(314))}x!==null&&x.delete(a),r0(o,h)}var s0;s0=function(o,a,h){if(o!==null)if(o.memoizedProps!==a.pendingProps||Ws.current)ks=!0;else{if((o.lanes&h)===0&&(a.flags&128)===0)return ks=!1,Vy(o,a,h);ks=(o.flags&131072)!==0}else ks=!1,er&&(a.flags&1048576)!==0&&jy(a,Bh,a.index);switch(a.lanes=0,a.tag){case 2:var x=a.type;lp(o,a),o=a.pendingProps;var C=ku(a,ds.current);ul(a,h),C=gc(null,a,x,o,C,h);var A=Gh();return a.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Vs(x)?(A=!0,Eo(a)):A=!1,a.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Hh(a),C.updater=rp,a.stateNode=C,C._reactInternals=a,wg(a,x,o,h),a=Ng(null,a,x,!0,A,h)):(a.tag=0,er&&A&&Qd(a),Xr(null,a,C,h),a=a.child),a;case 16:x=a.elementType;e:{switch(lp(o,a),o=a.pendingProps,C=x._init,x=C(x._payload),a.type=x,C=a.tag=Zw(x),o=Ro(x,o),C){case 0:a=kg(null,a,x,o,h);break e;case 1:a=Cg(null,a,x,o,h);break e;case 11:a=zy(null,a,x,o,h);break e;case 14:a=_g(null,a,x,Ro(x.type,o),h);break e}throw Error(n(306,x,""))}return a;case 0:return x=a.type,C=a.pendingProps,C=a.elementType===x?C:Ro(x,C),kg(o,a,x,C,h);case 1:return x=a.type,C=a.pendingProps,C=a.elementType===x?C:Ro(x,C),Cg(o,a,x,C,h);case 3:e:{if(Wy(a),o===null)throw Error(n(387));x=a.pendingProps,A=a.memoizedState,C=A.element,Py(o,a),ju(a,x,null,h);var F=a.memoizedState;if(x=F.element,A.isDehydrated)if(A={element:x,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},a.updateQueue.baseState=A,a.memoizedState=A,a.flags&256){C=yc(Error(n(423)),a),a=Li(o,a,x,h,C);break e}else if(x!==C){C=yc(Error(n(424)),a),a=Li(o,a,x,h,C);break e}else for(ro=ol(a.stateNode.containerInfo.firstChild),hs=a,er=!0,ni=null,h=zh(a,null,x,h),a.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Ri(),x===C){a=si(o,a,h);break e}Xr(o,a,x,h)}a=a.child}return a;case 5:return ag(a),o===null&&Hs(a),x=a.type,C=a.pendingProps,A=o!==null?o.memoizedProps:null,F=C.children,Gd(x,C)?F=null:A!==null&&Gd(x,A)&&(a.flags|=32),Eg(o,a),Xr(o,a,F,h),a.child;case 6:return o===null&&Hs(a),null;case 13:return ap(o,a,h);case 4:return ig(a,a.stateNode.containerInfo),x=a.pendingProps,o===null?a.child=fr(a,null,x,h):Xr(o,a,x,h),a.child;case 11:return x=a.type,C=a.pendingProps,C=a.elementType===x?C:Ro(x,C),zy(o,a,x,C,h);case 7:return Xr(o,a,a.pendingProps,h),a.child;case 8:return Xr(o,a,a.pendingProps.children,h),a.child;case 12:return Xr(o,a,a.pendingProps.children,h),a.child;case 10:e:{if(x=a.type._context,C=a.pendingProps,A=a.memoizedProps,F=C.value,Gn(ef,x._currentValue),x._currentValue=F,A!==null)if(B(A.value,F)){if(A.children===C.children&&!Ws.current){a=si(o,a,h);break e}}else for(A=a.child,A!==null&&(A.return=a);A!==null;){var ee=A.dependencies;if(ee!==null){F=A.child;for(var fe=ee.firstContext;fe!==null;){if(fe.context===x){if(A.tag===1){fe=ua(-1,h&-h),fe.tag=2;var Re=A.updateQueue;if(Re!==null){Re=Re.shared;var Ge=Re.pending;Ge===null?fe.next=fe:(fe.next=Ge.next,Ge.next=fe),Re.pending=fe}}A.lanes|=h,fe=A.alternate,fe!==null&&(fe.lanes|=h),Qr(A.return,h,a),ee.lanes|=h;break}fe=fe.next}}else if(A.tag===10)F=A.type===a.type?null:A.child;else if(A.tag===18){if(F=A.return,F===null)throw Error(n(341));F.lanes|=h,ee=F.alternate,ee!==null&&(ee.lanes|=h),Qr(F,h,a),F=A.sibling}else F=A.child;if(F!==null)F.return=A;else for(F=A;F!==null;){if(F===a){F=null;break}if(A=F.sibling,A!==null){A.return=F.return,F=A;break}F=F.return}A=F}Xr(o,a,C.children,h),a=a.child}return a;case 9:return C=a.type,x=a.pendingProps.children,ul(a,h),C=No(C),x=x(C),a.flags|=1,Xr(o,a,x,h),a.child;case 14:return x=a.type,C=Ro(x,a.pendingProps),C=Ro(x.type,C),_g(o,a,x,C,h);case 15:return Ii(o,a,a.type,a.pendingProps,h);case 17:return x=a.type,C=a.pendingProps,C=a.elementType===x?C:Ro(x,C),lp(o,a),a.tag=1,Vs(x)?(o=!0,Eo(a)):o=!1,ul(a,h),vc(a,x,C),wg(a,x,C,h),Ng(null,a,x,!0,o,h);case 19:return hl(o,a,h);case 22:return Sg(o,a,h)}throw Error(n(156,a.tag))};function o0(o,a){return Md(o,a)}function Gw(o,a,h,x){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oo(o,a,h,x){return new Gw(o,a,h,x)}function bp(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Zw(o){if(typeof o=="function")return bp(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Se)return 11;if(o===ge)return 14}return 2}function ci(o,a){var h=o.alternate;return h===null?(h=Oo(o.tag,a,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=a,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&14680064,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,a=o.dependencies,h.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h}function _p(o,a,h,x,C,A){var F=2;if(x=o,typeof o=="function")bp(o)&&(F=1);else if(typeof o=="string")F=5;else e:switch(o){case Z:return Sc(h.children,C,A,a);case ae:F=8,C|=8;break;case te:return o=Oo(12,h,a,C|2),o.elementType=te,o.lanes=A,o;case _e:return o=Oo(13,h,a,C),o.elementType=_e,o.lanes=A,o;case Le:return o=Oo(19,h,a,C),o.elementType=Le,o.lanes=A,o;case de:return Sp(h,C,A,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case ye:F=10;break e;case Te:F=9;break e;case Se:F=11;break e;case ge:F=14;break e;case me:F=16,x=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return a=Oo(F,h,a,C),a.elementType=o,a.type=x,a.lanes=A,a}function Sc(o,a,h,x){return o=Oo(7,o,x,a),o.lanes=h,o}function Sp(o,a,h,x){return o=Oo(22,o,x,a),o.elementType=de,o.lanes=h,o.stateNode={isHidden:!1},o}function Wg(o,a,h){return o=Oo(6,o,null,a),o.lanes=h,o}function Vg(o,a,h){return a=Oo(4,o.children!==null?o.children:[],o.key,a),a.lanes=h,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function Qw(o,a,h,x,C){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_i(0),this.expirationTimes=_i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.identifierPrefix=x,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function Hg(o,a,h,x,C,A,F,ee,fe){return o=new Qw(o,a,h,ee,fe),a===1?(a=1,A===!0&&(a|=8)):a=0,A=Oo(3,null,null,a),o.current=A,A.stateNode=o,A.memoizedState={element:x,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hh(A),o}function Xw(o,a,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:x==null?null:""+x,children:o,containerInfo:a,implementation:h}}function i0(o){if(!o)return al;o=o._reactInternals;e:{if(is(o)!==o||o.tag!==1)throw Error(n(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Vs(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(o.tag===1){var h=o.type;if(Vs(h))return ky(o,h,a)}return a}function a0(o,a,h,x,C,A,F,ee,fe){return o=Hg(h,x,!0,o,C,A,F,ee,fe),o.context=i0(null),h=o.current,x=js(),C=yl(h),A=ua(x,C),A.callback=a??null,To(h,A,C),o.current.lanes=C,za(o,C,x),Ys(o,x),o}function Ep(o,a,h,x){var C=a.current,A=js(),F=yl(C);return h=i0(h),a.context===null?a.context=h:a.pendingContext=h,a=ua(A,F),a.payload={element:o},x=x===void 0?null:x,x!==null&&(a.callback=x),o=To(C,a,F),o!==null&&(li(o,C,F,A),qh(o,C,F)),F}function kp(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function l0(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<a?h:a}}function qg(o,a){l0(o,a),(o=o.alternate)&&l0(o,a)}function Jw(){return null}var c0=typeof reportError=="function"?reportError:function(o){console.error(o)};function Cp(o){this._internalRoot=o}Sf.prototype.render=Cp.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(n(409));Ep(o,a,null,null)},Sf.prototype.unmount=Cp.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;wc(function(){Ep(null,o,null,null)}),a[no]=null}};function Sf(o){this._internalRoot=o}Sf.prototype.unstable_scheduleHydration=function(o){if(o){var a=Gr();o={blockedOn:null,target:o,priority:a};for(var h=0;h<Fs.length&&a!==0&&a<Fs[h].priority;h++);Fs.splice(h,0,o),h===0&&cu(o)}};function Kg(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Np(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function u0(){}function eb(o,a,h,x,C){if(C){if(typeof x=="function"){var A=x;x=function(){var Re=kp(F);A.call(Re)}}var F=a0(a,x,o,0,null,!1,!1,"",u0);return o._reactRootContainer=F,o[no]=F.current,rl(o.nodeType===8?o.parentNode:o),wc(),F}for(;C=o.lastChild;)o.removeChild(C);if(typeof x=="function"){var ee=x;x=function(){var Re=kp(fe);ee.call(Re)}}var fe=Hg(o,0,!1,null,null,!1,!1,"",u0);return o._reactRootContainer=fe,o[no]=fe.current,rl(o.nodeType===8?o.parentNode:o),wc(function(){Ep(a,fe,h,x)}),fe}function Ec(o,a,h,x,C){var A=h._reactRootContainer;if(A){var F=A;if(typeof C=="function"){var ee=C;C=function(){var fe=kp(F);ee.call(fe)}}Ep(a,F,o,C)}else F=eb(h,a,o,C,x);return kp(F)}Kl=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var h=yo(a.pendingLanes);h!==0&&(Va(a,h|1),Ys(a,wn()),(kn&6)===0&&(xc=wn()+500,ll()))}break;case 13:wc(function(){var x=ca(o,1);if(x!==null){var C=js();li(x,o,1,C)}}),qg(o,1)}},lu=function(o){if(o.tag===13){var a=ca(o,134217728);if(a!==null){var h=js();li(a,o,134217728,h)}qg(o,134217728)}},wh=function(o){if(o.tag===13){var a=yl(o),h=ca(o,a);if(h!==null){var x=js();li(h,o,a,x)}qg(o,a)}},Gr=function(){return _n},Si=function(o,a){var h=_n;try{return _n=o,a()}finally{_n=h}},dt=function(o,a,h){switch(a){case"input":if(zn(o,h),a=h.name,h.type==="radio"&&a!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<h.length;a++){var x=h[a];if(x!==o&&x.form===o.form){var C=Ih(x);if(!C)throw Error(n(90));ut(x),zn(x,C)}}}break;case"textarea":Ie(o,h);break;case"select":a=h.value,a!=null&&Vt(o,!!h.multiple,a,!1)}},bn=Bg,Dn=wc;var tb={usingClientEntryPoint:!1,Events:[us,on,Ih,Wl,Lt,Bg]},Ef={findFiberByHostInstance:Ni,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nb={bundleType:Ef.bundleType,version:Ef.version,rendererPackageName:Ef.rendererPackageName,rendererConfig:Ef.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Dd(o),o===null?null:o.stateNode},findFiberByHostInstance:Ef.findFiberByHostInstance||Jw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jp.isDisabled&&jp.supportsFiber)try{ql=jp.inject(nb),_s=jp}catch{}}return Lo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tb,Lo.createPortal=function(o,a){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kg(a))throw Error(n(200));return Xw(o,a,null,h)},Lo.createRoot=function(o,a){if(!Kg(o))throw Error(n(299));var h=!1,x="",C=c0;return a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(x=a.identifierPrefix),a.onRecoverableError!==void 0&&(C=a.onRecoverableError)),a=Hg(o,1,!1,null,null,h,!1,x,C),o[no]=a.current,rl(o.nodeType===8?o.parentNode:o),new Cp(a)},Lo.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=Dd(a),o=o===null?null:o.stateNode,o},Lo.flushSync=function(o){return wc(o)},Lo.hydrate=function(o,a,h){if(!Np(a))throw Error(n(200));return Ec(null,o,a,!0,h)},Lo.hydrateRoot=function(o,a,h){if(!Kg(o))throw Error(n(405));var x=h!=null&&h.hydratedSources||null,C=!1,A="",F=c0;if(h!=null&&(h.unstable_strictMode===!0&&(C=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onRecoverableError!==void 0&&(F=h.onRecoverableError)),a=a0(a,null,o,1,h??null,C,!1,A,F),o[no]=a.current,rl(o),x)for(o=0;o<x.length;o++)h=x[o],C=h._getVersion,C=C(h._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[h,C]:a.mutableSourceEagerHydrationData.push(h,C);return new Sf(a)},Lo.render=function(o,a,h){if(!Np(a))throw Error(n(200));return Ec(null,o,a,!1,h)},Lo.unmountComponentAtNode=function(o){if(!Np(o))throw Error(n(40));return o._reactRootContainer?(wc(function(){Ec(null,null,o,!1,function(){o._reactRootContainer=null,o[no]=null})}),!0):!1},Lo.unstable_batchedUpdates=Bg,Lo.unstable_renderSubtreeIntoContainer=function(o,a,h,x){if(!Np(h))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Ec(o,a,h,!1,x)},Lo.version="18.3.1-next-f1338f8080-20240426",Lo}var XE;function yN(){if(XE)return yb.exports;XE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yb.exports=B3(),yb.exports}var JE;function U3(){if(JE)return m0;JE=1;var e=yN();return m0.createRoot=e.createRoot,m0.hydrateRoot=e.hydrateRoot,m0}var z3=U3();const W3=Tx(z3);var jm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xf=typeof window>"u"||"Deno"in globalThis;function zi(){}function V3(e,t){return typeof e=="function"?e(t):e}function f1(e){return typeof e=="number"&&e>=0&&e!==1/0}function xN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zp(e,t){return typeof e=="function"?e(t):e}function Sa(e,t){return typeof e=="function"?e(t):e}function ek(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:c,stale:u}=e;if(c){if(r){if(t.queryHash!==C_(c,t.options))return!1}else if(!yv(t.queryKey,c))return!1}if(n!=="all"){const p=t.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||i&&!i(t))}function tk(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Jf(t.options.mutationKey)!==Jf(i))return!1}else if(!yv(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function C_(e,t){return((t==null?void 0:t.queryKeyHashFn)||Jf)(e)}function Jf(e){return JSON.stringify(e,(t,n)=>h1(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function yv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>yv(e[n],t[n])):!1}function wN(e,t){if(e===t)return e;const n=nk(e)&&nk(t);if(n||h1(e)&&h1(t)){const r=n?e:Object.keys(e),s=r.length,i=n?t:Object.keys(t),c=i.length,u=n?[]:{};let p=0;for(let m=0;m<c;m++){const y=n?m:i[m];(!n&&r.includes(y)||n)&&e[y]===void 0&&t[y]===void 0?(u[y]=void 0,p++):(u[y]=wN(e[y],t[y]),u[y]===e[y]&&e[y]!==void 0&&p++)}return s===c&&p===s?e:u}return t}function B0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function nk(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function h1(e){if(!rk(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!rk(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rk(e){return Object.prototype.toString.call(e)==="[object Object]"}function H3(e){return new Promise(t=>{setTimeout(t,e)})}function p1(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?wN(e,t):t}function q3(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function K3(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var N_=Symbol();function bN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===N_?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Uf,Xu,Xp,iN,Y3=(iN=class extends jm{constructor(){super();Rt(this,Uf);Rt(this,Xu);Rt(this,Xp);xt(this,Xp,t=>{if(!Xf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){le(this,Xu)||this.setEventListener(le(this,Xp))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,Xu))==null||t.call(this),xt(this,Xu,void 0))}setEventListener(t){var n;xt(this,Xp,t),(n=le(this,Xu))==null||n.call(this),xt(this,Xu,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){le(this,Uf)!==t&&(xt(this,Uf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof le(this,Uf)=="boolean"?le(this,Uf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Uf=new WeakMap,Xu=new WeakMap,Xp=new WeakMap,iN),j_=new Y3,Jp,Ju,em,aN,G3=(aN=class extends jm{constructor(){super();Rt(this,Jp,!0);Rt(this,Ju);Rt(this,em);xt(this,em,t=>{if(!Xf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){le(this,Ju)||this.setEventListener(le(this,em))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,Ju))==null||t.call(this),xt(this,Ju,void 0))}setEventListener(t){var n;xt(this,em,t),(n=le(this,Ju))==null||n.call(this),xt(this,Ju,t(this.setOnline.bind(this)))}setOnline(t){le(this,Jp)!==t&&(xt(this,Jp,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return le(this,Jp)}},Jp=new WeakMap,Ju=new WeakMap,em=new WeakMap,aN),U0=new G3;function m1(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function Z3(e){return Math.min(1e3*2**e,3e4)}function _N(e){return(e??"online")==="online"?U0.isOnline():!0}var SN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function bb(e){return e instanceof SN}function EN(e){let t=!1,n=0,r=!1,s;const i=m1(),c=E=>{var N;r||(S(new SN(E)),(N=e.abort)==null||N.call(e))},u=()=>{t=!0},p=()=>{t=!1},m=()=>j_.isFocused()&&(e.networkMode==="always"||U0.isOnline())&&e.canRun(),y=()=>_N(e.networkMode)&&e.canRun(),g=E=>{var N;r||(r=!0,(N=e.onSuccess)==null||N.call(e,E),s==null||s(),i.resolve(E))},S=E=>{var N;r||(r=!0,(N=e.onError)==null||N.call(e,E),s==null||s(),i.reject(E))},k=()=>new Promise(E=>{var N;s=O=>{(r||m())&&E(O)},(N=e.onPause)==null||N.call(e)}).then(()=>{var E;s=void 0,r||(E=e.onContinue)==null||E.call(e)}),T=()=>{if(r)return;let E;const N=n===0?e.initialPromise:void 0;try{E=N??e.fn()}catch(O){E=Promise.reject(O)}Promise.resolve(E).then(g).catch(O=>{var Y;if(r)return;const D=e.retry??(Xf?0:3),M=e.retryDelay??Z3,z=typeof M=="function"?M(n,O):M,q=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,O);if(t||!q){S(O);return}n++,(Y=e.onFail)==null||Y.call(e,n,O),H3(z).then(()=>m()?void 0:k()).then(()=>{t?S(O):T()})})};return{promise:i,cancel:c,continue:()=>(s==null||s(),i),cancelRetry:u,continueRetry:p,canStart:y,start:()=>(y()?T():k().then(T),i)}}var Q3=e=>setTimeout(e,0);function X3(){let e=[],t=0,n=u=>{u()},r=u=>{u()},s=Q3;const i=u=>{t?e.push(u):s(()=>{n(u)})},c=()=>{const u=e;e=[],u.length&&s(()=>{r(()=>{u.forEach(p=>{n(p)})})})};return{batch:u=>{let p;t++;try{p=u()}finally{t--,t||c()}return p},batchCalls:u=>(...p)=>{i(()=>{u(...p)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var rs=X3(),zf,lN,kN=(lN=class{constructor(){Rt(this,zf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),f1(this.gcTime)&&xt(this,zf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Xf?1/0:5*60*1e3))}clearGcTimeout(){le(this,zf)&&(clearTimeout(le(this,zf)),xt(this,zf,void 0))}},zf=new WeakMap,lN),tm,nm,Ui,Wf,Gs,Wv,Vf,ba,Pc,cN,J3=(cN=class extends kN{constructor(t){super();Rt(this,ba);Rt(this,tm);Rt(this,nm);Rt(this,Ui);Rt(this,Wf);Rt(this,Gs);Rt(this,Wv);Rt(this,Vf);xt(this,Vf,!1),xt(this,Wv,t.defaultOptions),this.setOptions(t.options),this.observers=[],xt(this,Wf,t.client),xt(this,Ui,le(this,Wf).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,xt(this,tm,e4(this.options)),this.state=t.state??le(this,tm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=le(this,Gs))==null?void 0:t.promise}setOptions(t){this.options={...le(this,Wv),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&le(this,Ui).remove(this)}setData(t,n){const r=p1(this.state.data,t,this.options);return ln(this,ba,Pc).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ln(this,ba,Pc).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=le(this,Gs))==null?void 0:r.promise;return(s=le(this,Gs))==null||s.cancel(t),n?n.then(zi).catch(zi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(le(this,tm))}isActive(){return this.observers.some(t=>Sa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===N_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!xN(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=le(this,Gs))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=le(this,Gs))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),le(this,Ui).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(le(this,Gs)&&(le(this,Vf)?le(this,Gs).cancel({revert:!0}):le(this,Gs).cancelRetry()),this.scheduleGc()),le(this,Ui).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ln(this,ba,Pc).call(this,{type:"invalidate"})}fetch(t,n){var p,m,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(le(this,Gs))return le(this,Gs).continueRetry(),le(this,Gs).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(S=>S.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(xt(this,Vf,!0),r.signal)})},i=()=>{const g=bN(this.options,n),S={client:le(this,Wf),queryKey:this.queryKey,meta:this.meta};return s(S),xt(this,Vf,!1),this.options.persister?this.options.persister(g,S,this):g(S)},c={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:le(this,Wf),state:this.state,fetchFn:i};s(c),(p=this.options.behavior)==null||p.onFetch(c,this),xt(this,nm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=c.fetchOptions)==null?void 0:m.meta))&&ln(this,ba,Pc).call(this,{type:"fetch",meta:(y=c.fetchOptions)==null?void 0:y.meta});const u=g=>{var S,k,T,E;bb(g)&&g.silent||ln(this,ba,Pc).call(this,{type:"error",error:g}),bb(g)||((k=(S=le(this,Ui).config).onError)==null||k.call(S,g,this),(E=(T=le(this,Ui).config).onSettled)==null||E.call(T,this.state.data,g,this)),this.scheduleGc()};return xt(this,Gs,EN({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var S,k,T,E;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(N){u(N);return}(k=(S=le(this,Ui).config).onSuccess)==null||k.call(S,g,this),(E=(T=le(this,Ui).config).onSettled)==null||E.call(T,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,S)=>{ln(this,ba,Pc).call(this,{type:"failed",failureCount:g,error:S})},onPause:()=>{ln(this,ba,Pc).call(this,{type:"pause"})},onContinue:()=>{ln(this,ba,Pc).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),le(this,Gs).start()}},tm=new WeakMap,nm=new WeakMap,Ui=new WeakMap,Wf=new WeakMap,Gs=new WeakMap,Wv=new WeakMap,Vf=new WeakMap,ba=new WeakSet,Pc=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...CN(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return bb(s)&&s.revert&&le(this,nm)?{...le(this,nm),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),rs.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),le(this,Ui).notify({query:this,type:"updated",action:t})})},cN);function CN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:_N(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function e4(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var El,uN,t4=(uN=class extends jm{constructor(t={}){super();Rt(this,El);this.config=t,xt(this,El,new Map)}build(t,n,r){const s=n.queryKey,i=n.queryHash??C_(s,n);let c=this.get(i);return c||(c=new J3({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(c)),c}add(t){le(this,El).has(t.queryHash)||(le(this,El).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=le(this,El).get(t.queryHash);n&&(t.destroy(),n===t&&le(this,El).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){rs.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return le(this,El).get(t)}getAll(){return[...le(this,El).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ek(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ek(t,r)):n}notify(t){rs.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){rs.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){rs.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},El=new WeakMap,uN),kl,lo,Hf,Cl,Zu,dN,n4=(dN=class extends kN{constructor(t){super();Rt(this,Cl);Rt(this,kl);Rt(this,lo);Rt(this,Hf);this.mutationId=t.mutationId,xt(this,lo,t.mutationCache),xt(this,kl,[]),this.state=t.state||NN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){le(this,kl).includes(t)||(le(this,kl).push(t),this.clearGcTimeout(),le(this,lo).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){xt(this,kl,le(this,kl).filter(n=>n!==t)),this.scheduleGc(),le(this,lo).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){le(this,kl).length||(this.state.status==="pending"?this.scheduleGc():le(this,lo).remove(this))}continue(){var t;return((t=le(this,Hf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,c,u,p,m,y,g,S,k,T,E,N,O,D,M,z,q,Y,Z,ae;const n=()=>{ln(this,Cl,Zu).call(this,{type:"continue"})};xt(this,Hf,EN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(te,ye)=>{ln(this,Cl,Zu).call(this,{type:"failed",failureCount:te,error:ye})},onPause:()=>{ln(this,Cl,Zu).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>le(this,lo).canRun(this)}));const r=this.state.status==="pending",s=!le(this,Hf).canStart();try{if(r)n();else{ln(this,Cl,Zu).call(this,{type:"pending",variables:t,isPaused:s}),await((c=(i=le(this,lo).config).onMutate)==null?void 0:c.call(i,t,this));const ye=await((p=(u=this.options).onMutate)==null?void 0:p.call(u,t));ye!==this.state.context&&ln(this,Cl,Zu).call(this,{type:"pending",context:ye,variables:t,isPaused:s})}const te=await le(this,Hf).start();return await((y=(m=le(this,lo).config).onSuccess)==null?void 0:y.call(m,te,t,this.state.context,this)),await((S=(g=this.options).onSuccess)==null?void 0:S.call(g,te,t,this.state.context)),await((T=(k=le(this,lo).config).onSettled)==null?void 0:T.call(k,te,null,this.state.variables,this.state.context,this)),await((N=(E=this.options).onSettled)==null?void 0:N.call(E,te,null,t,this.state.context)),ln(this,Cl,Zu).call(this,{type:"success",data:te}),te}catch(te){try{throw await((D=(O=le(this,lo).config).onError)==null?void 0:D.call(O,te,t,this.state.context,this)),await((z=(M=this.options).onError)==null?void 0:z.call(M,te,t,this.state.context)),await((Y=(q=le(this,lo).config).onSettled)==null?void 0:Y.call(q,void 0,te,this.state.variables,this.state.context,this)),await((ae=(Z=this.options).onSettled)==null?void 0:ae.call(Z,void 0,te,t,this.state.context)),te}finally{ln(this,Cl,Zu).call(this,{type:"error",error:te})}}finally{le(this,lo).runNext(this)}}},kl=new WeakMap,lo=new WeakMap,Hf=new WeakMap,Cl=new WeakSet,Zu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),rs.batch(()=>{le(this,kl).forEach(r=>{r.onMutationUpdate(t)}),le(this,lo).notify({mutation:this,type:"updated",action:t})})},dN);function NN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Mc,_a,Vv,fN,r4=(fN=class extends jm{constructor(t={}){super();Rt(this,Mc);Rt(this,_a);Rt(this,Vv);this.config=t,xt(this,Mc,new Set),xt(this,_a,new Map),xt(this,Vv,0)}build(t,n,r){const s=new n4({mutationCache:this,mutationId:++p0(this,Vv)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){le(this,Mc).add(t);const n=g0(t);if(typeof n=="string"){const r=le(this,_a).get(n);r?r.push(t):le(this,_a).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(le(this,Mc).delete(t)){const n=g0(t);if(typeof n=="string"){const r=le(this,_a).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&le(this,_a).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=g0(t);if(typeof n=="string"){const r=le(this,_a).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=g0(t);if(typeof n=="string"){const s=(r=le(this,_a).get(n))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){rs.batch(()=>{le(this,Mc).forEach(t=>{this.notify({type:"removed",mutation:t})}),le(this,Mc).clear(),le(this,_a).clear()})}getAll(){return Array.from(le(this,Mc))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>tk(n,r))}findAll(t={}){return this.getAll().filter(n=>tk(t,n))}notify(t){rs.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return rs.batch(()=>Promise.all(t.map(n=>n.continue().catch(zi))))}},Mc=new WeakMap,_a=new WeakMap,Vv=new WeakMap,fN);function g0(e){var t;return(t=e.options.scope)==null?void 0:t.id}function sk(e){return{onFetch:(t,n)=>{var y,g,S,k,T;const r=t.options,s=(S=(g=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:g.fetchMore)==null?void 0:S.direction,i=((k=t.state.data)==null?void 0:k.pages)||[],c=((T=t.state.data)==null?void 0:T.pageParams)||[];let u={pages:[],pageParams:[]},p=0;const m=async()=>{let E=!1;const N=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(t.signal.aborted?E=!0:t.signal.addEventListener("abort",()=>{E=!0}),t.signal)})},O=bN(t.options,t.fetchOptions),D=async(M,z,q)=>{if(E)return Promise.reject();if(z==null&&M.pages.length)return Promise.resolve(M);const Y={client:t.client,queryKey:t.queryKey,pageParam:z,direction:q?"backward":"forward",meta:t.options.meta};N(Y);const Z=await O(Y),{maxPages:ae}=t.options,te=q?K3:q3;return{pages:te(M.pages,Z,ae),pageParams:te(M.pageParams,z,ae)}};if(s&&i.length){const M=s==="backward",z=M?s4:ok,q={pages:i,pageParams:c},Y=z(r,q);u=await D(q,Y,M)}else{const M=e??i.length;do{const z=p===0?c[0]??r.initialPageParam:ok(r,u);if(p>0&&z==null)break;u=await D(u,z),p++}while(p<M)}return u};t.options.persister?t.fetchFn=()=>{var E,N;return(N=(E=t.options).persister)==null?void 0:N.call(E,m,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=m}}}function ok(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function s4(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var jr,ed,td,rm,sm,nd,om,im,hN,jN=(hN=class{constructor(e={}){Rt(this,jr);Rt(this,ed);Rt(this,td);Rt(this,rm);Rt(this,sm);Rt(this,nd);Rt(this,om);Rt(this,im);xt(this,jr,e.queryCache||new t4),xt(this,ed,e.mutationCache||new r4),xt(this,td,e.defaultOptions||{}),xt(this,rm,new Map),xt(this,sm,new Map),xt(this,nd,0)}mount(){p0(this,nd)._++,le(this,nd)===1&&(xt(this,om,j_.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,jr).onFocus())})),xt(this,im,U0.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,jr).onOnline())})))}unmount(){var e,t;p0(this,nd)._--,le(this,nd)===0&&((e=le(this,om))==null||e.call(this),xt(this,om,void 0),(t=le(this,im))==null||t.call(this),xt(this,im,void 0))}isFetching(e){return le(this,jr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return le(this,ed).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=le(this,jr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=le(this,jr).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(zp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return le(this,jr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=le(this,jr).get(r.queryHash),i=s==null?void 0:s.state.data,c=V3(t,i);if(c!==void 0)return le(this,jr).build(this,r).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return rs.batch(()=>le(this,jr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=le(this,jr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=le(this,jr);rs.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=le(this,jr);return rs.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=rs.batch(()=>le(this,jr).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(zi).catch(zi)}invalidateQueries(e,t={}){return rs.batch(()=>(le(this,jr).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=rs.batch(()=>le(this,jr).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(zi)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(zi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=le(this,jr).build(this,t);return n.isStaleByTime(zp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(zi).catch(zi)}fetchInfiniteQuery(e){return e.behavior=sk(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(zi).catch(zi)}ensureInfiniteQueryData(e){return e.behavior=sk(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return U0.isOnline()?le(this,ed).resumePausedMutations():Promise.resolve()}getQueryCache(){return le(this,jr)}getMutationCache(){return le(this,ed)}getDefaultOptions(){return le(this,td)}setDefaultOptions(e){xt(this,td,e)}setQueryDefaults(e,t){le(this,rm).set(Jf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...le(this,rm).values()],n={};return t.forEach(r=>{yv(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){le(this,sm).set(Jf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...le(this,sm).values()],n={};return t.forEach(r=>{yv(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...le(this,td).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=C_(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===N_&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...le(this,td).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){le(this,jr).clear(),le(this,ed).clear()}},jr=new WeakMap,ed=new WeakMap,td=new WeakMap,rm=new WeakMap,sm=new WeakMap,nd=new WeakMap,om=new WeakMap,im=new WeakMap,hN),Fo,Nn,Hv,co,qf,am,rd,sd,qv,lm,cm,Kf,Yf,od,um,Un,lv,g1,v1,y1,x1,w1,b1,_1,TN,pN,o4=(pN=class extends jm{constructor(t,n){super();Rt(this,Un);Rt(this,Fo);Rt(this,Nn);Rt(this,Hv);Rt(this,co);Rt(this,qf);Rt(this,am);Rt(this,rd);Rt(this,sd);Rt(this,qv);Rt(this,lm);Rt(this,cm);Rt(this,Kf);Rt(this,Yf);Rt(this,od);Rt(this,um,new Set);this.options=n,xt(this,Fo,t),xt(this,sd,null),xt(this,rd,m1()),this.options.experimental_prefetchInRender||le(this,rd).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(le(this,Nn).addObserver(this),ik(le(this,Nn),this.options)?ln(this,Un,lv).call(this):this.updateResult(),ln(this,Un,x1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return S1(le(this,Nn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return S1(le(this,Nn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ln(this,Un,w1).call(this),ln(this,Un,b1).call(this),le(this,Nn).removeObserver(this)}setOptions(t){const n=this.options,r=le(this,Nn);if(this.options=le(this,Fo).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Sa(this.options.enabled,le(this,Nn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ln(this,Un,_1).call(this),le(this,Nn).setOptions(this.options),n._defaulted&&!B0(this.options,n)&&le(this,Fo).getQueryCache().notify({type:"observerOptionsUpdated",query:le(this,Nn),observer:this});const s=this.hasListeners();s&&ak(le(this,Nn),r,this.options,n)&&ln(this,Un,lv).call(this),this.updateResult(),s&&(le(this,Nn)!==r||Sa(this.options.enabled,le(this,Nn))!==Sa(n.enabled,le(this,Nn))||zp(this.options.staleTime,le(this,Nn))!==zp(n.staleTime,le(this,Nn)))&&ln(this,Un,g1).call(this);const i=ln(this,Un,v1).call(this);s&&(le(this,Nn)!==r||Sa(this.options.enabled,le(this,Nn))!==Sa(n.enabled,le(this,Nn))||i!==le(this,od))&&ln(this,Un,y1).call(this,i)}getOptimisticResult(t){const n=le(this,Fo).getQueryCache().build(le(this,Fo),t),r=this.createResult(n,t);return a4(this,r)&&(xt(this,co,r),xt(this,am,this.options),xt(this,qf,le(this,Nn).state)),r}getCurrentResult(){return le(this,co)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(t){le(this,um).add(t)}getCurrentQuery(){return le(this,Nn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=le(this,Fo).defaultQueryOptions(t),r=le(this,Fo).getQueryCache().build(le(this,Fo),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ln(this,Un,lv).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),le(this,co)))}createResult(t,n){var te;const r=le(this,Nn),s=this.options,i=le(this,co),c=le(this,qf),u=le(this,am),m=t!==r?t.state:le(this,Hv),{state:y}=t;let g={...y},S=!1,k;if(n._optimisticResults){const ye=this.hasListeners(),Te=!ye&&ik(t,n),Se=ye&&ak(t,r,n,s);(Te||Se)&&(g={...g,...CN(y.data,t.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:T,errorUpdatedAt:E,status:N}=g;k=g.data;let O=!1;if(n.placeholderData!==void 0&&k===void 0&&N==="pending"){let ye;i!=null&&i.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData)?(ye=i.data,O=!0):ye=typeof n.placeholderData=="function"?n.placeholderData((te=le(this,cm))==null?void 0:te.state.data,le(this,cm)):n.placeholderData,ye!==void 0&&(N="success",k=p1(i==null?void 0:i.data,ye,n),S=!0)}if(n.select&&k!==void 0&&!O)if(i&&k===(c==null?void 0:c.data)&&n.select===le(this,qv))k=le(this,lm);else try{xt(this,qv,n.select),k=n.select(k),k=p1(i==null?void 0:i.data,k,n),xt(this,lm,k),xt(this,sd,null)}catch(ye){xt(this,sd,ye)}le(this,sd)&&(T=le(this,sd),k=le(this,lm),E=Date.now(),N="error");const D=g.fetchStatus==="fetching",M=N==="pending",z=N==="error",q=M&&D,Y=k!==void 0,ae={status:N,fetchStatus:g.fetchStatus,isPending:M,isSuccess:N==="success",isError:z,isInitialLoading:q,isLoading:q,data:k,dataUpdatedAt:g.dataUpdatedAt,error:T,errorUpdatedAt:E,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>m.dataUpdateCount||g.errorUpdateCount>m.errorUpdateCount,isFetching:D,isRefetching:D&&!M,isLoadingError:z&&!Y,isPaused:g.fetchStatus==="paused",isPlaceholderData:S,isRefetchError:z&&Y,isStale:T_(t,n),refetch:this.refetch,promise:le(this,rd)};if(this.options.experimental_prefetchInRender){const ye=_e=>{ae.status==="error"?_e.reject(ae.error):ae.data!==void 0&&_e.resolve(ae.data)},Te=()=>{const _e=xt(this,rd,ae.promise=m1());ye(_e)},Se=le(this,rd);switch(Se.status){case"pending":t.queryHash===r.queryHash&&ye(Se);break;case"fulfilled":(ae.status==="error"||ae.data!==Se.value)&&Te();break;case"rejected":(ae.status!=="error"||ae.error!==Se.reason)&&Te();break}}return ae}updateResult(){const t=le(this,co),n=this.createResult(le(this,Nn),this.options);if(xt(this,qf,le(this,Nn).state),xt(this,am,this.options),le(this,qf).data!==void 0&&xt(this,cm,le(this,Nn)),B0(n,t))return;xt(this,co,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!le(this,um).size)return!0;const c=new Set(i??le(this,um));return this.options.throwOnError&&c.add("error"),Object.keys(le(this,co)).some(u=>{const p=u;return le(this,co)[p]!==t[p]&&c.has(p)})};ln(this,Un,TN).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ln(this,Un,x1).call(this)}},Fo=new WeakMap,Nn=new WeakMap,Hv=new WeakMap,co=new WeakMap,qf=new WeakMap,am=new WeakMap,rd=new WeakMap,sd=new WeakMap,qv=new WeakMap,lm=new WeakMap,cm=new WeakMap,Kf=new WeakMap,Yf=new WeakMap,od=new WeakMap,um=new WeakMap,Un=new WeakSet,lv=function(t){ln(this,Un,_1).call(this);let n=le(this,Nn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(zi)),n},g1=function(){ln(this,Un,w1).call(this);const t=zp(this.options.staleTime,le(this,Nn));if(Xf||le(this,co).isStale||!f1(t))return;const r=xN(le(this,co).dataUpdatedAt,t)+1;xt(this,Kf,setTimeout(()=>{le(this,co).isStale||this.updateResult()},r))},v1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(le(this,Nn)):this.options.refetchInterval)??!1},y1=function(t){ln(this,Un,b1).call(this),xt(this,od,t),!(Xf||Sa(this.options.enabled,le(this,Nn))===!1||!f1(le(this,od))||le(this,od)===0)&&xt(this,Yf,setInterval(()=>{(this.options.refetchIntervalInBackground||j_.isFocused())&&ln(this,Un,lv).call(this)},le(this,od)))},x1=function(){ln(this,Un,g1).call(this),ln(this,Un,y1).call(this,ln(this,Un,v1).call(this))},w1=function(){le(this,Kf)&&(clearTimeout(le(this,Kf)),xt(this,Kf,void 0))},b1=function(){le(this,Yf)&&(clearInterval(le(this,Yf)),xt(this,Yf,void 0))},_1=function(){const t=le(this,Fo).getQueryCache().build(le(this,Fo),this.options);if(t===le(this,Nn))return;const n=le(this,Nn);xt(this,Nn,t),xt(this,Hv,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},TN=function(t){rs.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(le(this,co))}),le(this,Fo).getQueryCache().notify({query:le(this,Nn),type:"observerResultsUpdated"})})},pN);function i4(e,t){return Sa(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ik(e,t){return i4(e,t)||e.state.data!==void 0&&S1(e,t,t.refetchOnMount)}function S1(e,t,n){if(Sa(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&T_(e,t)}return!1}function ak(e,t,n,r){return(e!==t||Sa(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&T_(e,n)}function T_(e,t){return Sa(t.enabled,e)!==!1&&e.isStaleByTime(zp(t.staleTime,e))}function a4(e,t){return!B0(e.getCurrentResult(),t)}var id,ad,$o,Ic,Vc,j0,E1,mN,l4=(mN=class extends jm{constructor(n,r){super();Rt(this,Vc);Rt(this,id);Rt(this,ad);Rt(this,$o);Rt(this,Ic);xt(this,id,n),this.setOptions(r),this.bindMethods(),ln(this,Vc,j0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=le(this,id).defaultMutationOptions(n),B0(this.options,r)||le(this,id).getMutationCache().notify({type:"observerOptionsUpdated",mutation:le(this,$o),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Jf(r.mutationKey)!==Jf(this.options.mutationKey)?this.reset():((s=le(this,$o))==null?void 0:s.state.status)==="pending"&&le(this,$o).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=le(this,$o))==null||n.removeObserver(this)}onMutationUpdate(n){ln(this,Vc,j0).call(this),ln(this,Vc,E1).call(this,n)}getCurrentResult(){return le(this,ad)}reset(){var n;(n=le(this,$o))==null||n.removeObserver(this),xt(this,$o,void 0),ln(this,Vc,j0).call(this),ln(this,Vc,E1).call(this)}mutate(n,r){var s;return xt(this,Ic,r),(s=le(this,$o))==null||s.removeObserver(this),xt(this,$o,le(this,id).getMutationCache().build(le(this,id),this.options)),le(this,$o).addObserver(this),le(this,$o).execute(n)}},id=new WeakMap,ad=new WeakMap,$o=new WeakMap,Ic=new WeakMap,Vc=new WeakSet,j0=function(){var r;const n=((r=le(this,$o))==null?void 0:r.state)??NN();xt(this,ad,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},E1=function(n){rs.batch(()=>{var r,s,i,c,u,p,m,y;if(le(this,Ic)&&this.hasListeners()){const g=le(this,ad).variables,S=le(this,ad).context;(n==null?void 0:n.type)==="success"?((s=(r=le(this,Ic)).onSuccess)==null||s.call(r,n.data,g,S),(c=(i=le(this,Ic)).onSettled)==null||c.call(i,n.data,null,g,S)):(n==null?void 0:n.type)==="error"&&((p=(u=le(this,Ic)).onError)==null||p.call(u,n.error,g,S),(y=(m=le(this,Ic)).onSettled)==null||y.call(m,void 0,n.error,g,S))}this.listeners.forEach(g=>{g(le(this,ad))})})},mN),AN=_.createContext(void 0),uh=e=>{const t=_.useContext(AN);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},RN=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),d.jsx(AN.Provider,{value:e,children:t})),PN=_.createContext(!1),c4=()=>_.useContext(PN);PN.Provider;function u4(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var d4=_.createContext(u4()),f4=()=>_.useContext(d4);function ON(e,t){return typeof e=="function"?e(...t):!!e}function k1(){}var h4=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},p4=e=>{_.useEffect(()=>{e.clearReset()},[e])},m4=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||ON(n,[e.error,r])),g4=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},v4=(e,t)=>e.isLoading&&e.isFetching&&!t,y4=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,lk=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function x4(e,t,n){var g,S,k,T,E;const r=uh(),s=c4(),i=f4(),c=r.defaultQueryOptions(e);(S=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||S.call(g,c),c._optimisticResults=s?"isRestoring":"optimistic",g4(c),h4(c,i),p4(i);const u=!r.getQueryCache().get(c.queryHash),[p]=_.useState(()=>new t(r,c)),m=p.getOptimisticResult(c),y=!s&&e.subscribed!==!1;if(_.useSyncExternalStore(_.useCallback(N=>{const O=y?p.subscribe(rs.batchCalls(N)):k1;return p.updateResult(),O},[p,y]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),_.useEffect(()=>{p.setOptions(c)},[c,p]),y4(c,m))throw lk(c,p,i);if(m4({result:m,errorResetBoundary:i,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw m.error;if((T=(k=r.getDefaultOptions().queries)==null?void 0:k._experimental_afterQuery)==null||T.call(k,c,m),c.experimental_prefetchInRender&&!Xf&&v4(m,s)){const N=u?lk(c,p,i):(E=r.getQueryCache().get(c.queryHash))==null?void 0:E.promise;N==null||N.catch(k1).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?m:p.trackResult(m)}function xs(e,t){return x4(e,o4)}function A_(e,t){const n=uh(),[r]=_.useState(()=>new l4(n,e));_.useEffect(()=>{r.setOptions(e)},[r,e]);const s=_.useSyncExternalStore(_.useCallback(c=>r.subscribe(rs.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=_.useCallback((c,u)=>{r.mutate(c,u).catch(k1)},[r]);if(s.error&&ON(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var Gv=yN();const DN=Tx(Gv);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xv.apply(this,arguments)}var ld;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ld||(ld={}));const ck="popstate";function w4(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:c,hash:u}=r.location;return C1("",{pathname:i,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:z0(s)}return _4(t,n,null,e)}function Yr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function MN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function b4(){return Math.random().toString(36).substr(2,8)}function uk(e,t){return{usr:e.state,key:e.key,idx:t}}function C1(e,t,n,r){return n===void 0&&(n=null),xv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tm(t):t,{state:n,key:t&&t.key||r||b4()})}function z0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Tm(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function _4(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,c=s.history,u=ld.Pop,p=null,m=y();m==null&&(m=0,c.replaceState(xv({},c.state,{idx:m}),""));function y(){return(c.state||{idx:null}).idx}function g(){u=ld.Pop;let N=y(),O=N==null?null:N-m;m=N,p&&p({action:u,location:E.location,delta:O})}function S(N,O){u=ld.Push;let D=C1(E.location,N,O);m=y()+1;let M=uk(D,m),z=E.createHref(D);try{c.pushState(M,"",z)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(z)}i&&p&&p({action:u,location:E.location,delta:1})}function k(N,O){u=ld.Replace;let D=C1(E.location,N,O);m=y();let M=uk(D,m),z=E.createHref(D);c.replaceState(M,"",z),i&&p&&p({action:u,location:E.location,delta:0})}function T(N){let O=s.location.origin!=="null"?s.location.origin:s.location.href,D=typeof N=="string"?N:z0(N);return D=D.replace(/ $/,"%20"),Yr(O,"No window.location.(origin|href) available to create URL for href: "+D),new URL(D,O)}let E={get action(){return u},get location(){return e(s,c)},listen(N){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(ck,g),p=N,()=>{s.removeEventListener(ck,g),p=null}},createHref(N){return t(s,N)},createURL:T,encodeLocation(N){let O=T(N);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:S,replace:k,go(N){return c.go(N)}};return E}var dk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dk||(dk={}));function S4(e,t,n){return n===void 0&&(n="/"),E4(e,t,n)}function E4(e,t,n,r){let s=typeof t=="string"?Tm(t):t,i=R_(s.pathname||"/",n);if(i==null)return null;let c=IN(e);k4(c);let u=null;for(let p=0;u==null&&p<c.length;++p){let m=L4(i);u=D4(c[p],m)}return u}function IN(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,c,u)=>{let p={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:c,route:i};p.relativePath.startsWith("/")&&(Yr(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let m=ud([r,p.relativePath]),y=n.concat(p);i.children&&i.children.length>0&&(Yr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),IN(i.children,t,y,m)),!(i.path==null&&!i.index)&&t.push({path:m,score:P4(m,i.index),routesMeta:y})};return e.forEach((i,c)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))s(i,c);else for(let p of LN(i.path))s(i,c,p)}),t}function LN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let c=LN(r.join("/")),u=[];return u.push(...c.map(p=>p===""?i:[i,p].join("/"))),s&&u.push(...c),u.map(p=>e.startsWith("/")&&p===""?"/":p)}function k4(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:O4(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const C4=/^:[\w-]+$/,N4=3,j4=2,T4=1,A4=10,R4=-2,fk=e=>e==="*";function P4(e,t){let n=e.split("/"),r=n.length;return n.some(fk)&&(r+=R4),t&&(r+=j4),n.filter(s=>!fk(s)).reduce((s,i)=>s+(C4.test(i)?N4:i===""?T4:A4),r)}function O4(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function D4(e,t,n){let{routesMeta:r}=e,s={},i="/",c=[];for(let u=0;u<r.length;++u){let p=r[u],m=u===r.length-1,y=i==="/"?t:t.slice(i.length)||"/",g=M4({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},y),S=p.route;if(!g)return null;Object.assign(s,g.params),c.push({params:s,pathname:ud([i,g.pathname]),pathnameBase:U4(ud([i,g.pathnameBase])),route:S}),g.pathnameBase!=="/"&&(i=ud([i,g.pathnameBase]))}return c}function M4(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=I4(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],c=i.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((m,y,g)=>{let{paramName:S,isOptional:k}=y;if(S==="*"){let E=u[g]||"";c=i.slice(0,i.length-E.length).replace(/(.)\/+$/,"$1")}const T=u[g];return k&&!T?m[S]=void 0:m[S]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:i,pathnameBase:c,pattern:e}}function I4(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),MN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,p)=>(r.push({paramName:u,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function L4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return MN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function R_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function F4(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Tm(e):e;return{pathname:n?n.startsWith("/")?n:$4(n,t):t,search:z4(r),hash:W4(s)}}function $4(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _b(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function B4(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function FN(e,t){let n=B4(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $N(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Tm(e):(s=xv({},e),Yr(!s.pathname||!s.pathname.includes("?"),_b("?","pathname","search",s)),Yr(!s.pathname||!s.pathname.includes("#"),_b("#","pathname","hash",s)),Yr(!s.search||!s.search.includes("#"),_b("#","search","hash",s)));let i=e===""||s.pathname==="",c=i?"/":s.pathname,u;if(c==null)u=n;else{let g=t.length-1;if(!r&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),g-=1;s.pathname=S.join("/")}u=g>=0?t[g]:"/"}let p=F4(s,u),m=c&&c!=="/"&&c.endsWith("/"),y=(i||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(m||y)&&(p.pathname+="/"),p}const ud=e=>e.join("/").replace(/\/\/+/g,"/"),U4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,W4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function V4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const BN=["post","put","patch","delete"];new Set(BN);const H4=["get",...BN];new Set(H4);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wv(){return wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wv.apply(this,arguments)}const P_=_.createContext(null),q4=_.createContext(null),dh=_.createContext(null),Rx=_.createContext(null),Cd=_.createContext({outlet:null,matches:[],isDataRoute:!1}),UN=_.createContext(null);function K4(e,t){let{relative:n}=t===void 0?{}:t;Zv()||Yr(!1);let{basename:r,navigator:s}=_.useContext(dh),{hash:i,pathname:c,search:u}=VN(e,{relative:n}),p=c;return r!=="/"&&(p=c==="/"?r:ud([r,c])),s.createHref({pathname:p,search:u,hash:i})}function Zv(){return _.useContext(Rx)!=null}function Qv(){return Zv()||Yr(!1),_.useContext(Rx).location}function zN(e){_.useContext(dh).static||_.useLayoutEffect(e)}function O_(){let{isDataRoute:e}=_.useContext(Cd);return e?iL():Y4()}function Y4(){Zv()||Yr(!1);let e=_.useContext(P_),{basename:t,future:n,navigator:r}=_.useContext(dh),{matches:s}=_.useContext(Cd),{pathname:i}=Qv(),c=JSON.stringify(FN(s,n.v7_relativeSplatPath)),u=_.useRef(!1);return zN(()=>{u.current=!0}),_.useCallback(function(m,y){if(y===void 0&&(y={}),!u.current)return;if(typeof m=="number"){r.go(m);return}let g=$N(m,JSON.parse(c),i,y.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ud([t,g.pathname])),(y.replace?r.replace:r.push)(g,y.state,y)},[t,r,c,i,e])}function WN(){let{matches:e}=_.useContext(Cd),t=e[e.length-1];return t?t.params:{}}function VN(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=_.useContext(dh),{matches:s}=_.useContext(Cd),{pathname:i}=Qv(),c=JSON.stringify(FN(s,r.v7_relativeSplatPath));return _.useMemo(()=>$N(e,JSON.parse(c),i,n==="path"),[e,c,i,n])}function G4(e,t){return Z4(e,t)}function Z4(e,t,n,r){Zv()||Yr(!1);let{navigator:s,static:i}=_.useContext(dh),{matches:c}=_.useContext(Cd),u=c[c.length-1],p=u?u.params:{};u&&u.pathname;let m=u?u.pathnameBase:"/";u&&u.route;let y=Qv(),g;if(t){var S;let O=typeof t=="string"?Tm(t):t;m==="/"||(S=O.pathname)!=null&&S.startsWith(m)||Yr(!1),g=O}else g=y;let k=g.pathname||"/",T=k;if(m!=="/"){let O=m.replace(/^\//,"").split("/");T="/"+k.replace(/^\//,"").split("/").slice(O.length).join("/")}let E=S4(e,{pathname:T}),N=tL(E&&E.map(O=>Object.assign({},O,{params:Object.assign({},p,O.params),pathname:ud([m,s.encodeLocation?s.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:ud([m,s.encodeLocation?s.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),c,n,r);return t&&N?_.createElement(Rx.Provider,{value:{location:wv({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:ld.Pop}},N):N}function Q4(){let e=oL(),t=V4(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),n?_.createElement("pre",{style:s},n):null,null)}const X4=_.createElement(Q4,null);class J4 extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?_.createElement(Cd.Provider,{value:this.props.routeContext},_.createElement(UN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eL(e){let{routeContext:t,match:n,children:r}=e,s=_.useContext(P_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Cd.Provider,{value:t},r)}function tL(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,u=(s=n)==null?void 0:s.errors;if(u!=null){let y=c.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);y>=0||Yr(!1),c=c.slice(0,Math.min(c.length,y+1))}let p=!1,m=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<c.length;y++){let g=c[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=y),g.route.id){let{loaderData:S,errors:k}=n,T=g.route.loader&&S[g.route.id]===void 0&&(!k||k[g.route.id]===void 0);if(g.route.lazy||T){p=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((y,g,S)=>{let k,T=!1,E=null,N=null;n&&(k=u&&g.route.id?u[g.route.id]:void 0,E=g.route.errorElement||X4,p&&(m<0&&S===0?(aL("route-fallback"),T=!0,N=null):m===S&&(T=!0,N=g.route.hydrateFallbackElement||null)));let O=t.concat(c.slice(0,S+1)),D=()=>{let M;return k?M=E:T?M=N:g.route.Component?M=_.createElement(g.route.Component,null):g.route.element?M=g.route.element:M=y,_.createElement(eL,{match:g,routeContext:{outlet:y,matches:O,isDataRoute:n!=null},children:M})};return n&&(g.route.ErrorBoundary||g.route.errorElement||S===0)?_.createElement(J4,{location:n.location,revalidation:n.revalidation,component:E,error:k,children:D(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):D()},null)}var HN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(HN||{}),qN=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qN||{});function nL(e){let t=_.useContext(P_);return t||Yr(!1),t}function rL(e){let t=_.useContext(q4);return t||Yr(!1),t}function sL(e){let t=_.useContext(Cd);return t||Yr(!1),t}function KN(e){let t=sL(),n=t.matches[t.matches.length-1];return n.route.id||Yr(!1),n.route.id}function oL(){var e;let t=_.useContext(UN),n=rL(),r=KN();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function iL(){let{router:e}=nL(HN.UseNavigateStable),t=KN(qN.UseNavigateStable),n=_.useRef(!1);return zN(()=>{n.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,wv({fromRouteId:t},i)))},[e,t])}const hk={};function aL(e,t,n){hk[e]||(hk[e]=!0)}function lL(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function jf(e){Yr(!1)}function cL(e){let{basename:t="/",children:n=null,location:r,navigationType:s=ld.Pop,navigator:i,static:c=!1,future:u}=e;Zv()&&Yr(!1);let p=t.replace(/^\/*/,"/"),m=_.useMemo(()=>({basename:p,navigator:i,static:c,future:wv({v7_relativeSplatPath:!1},u)}),[p,u,i,c]);typeof r=="string"&&(r=Tm(r));let{pathname:y="/",search:g="",hash:S="",state:k=null,key:T="default"}=r,E=_.useMemo(()=>{let N=R_(y,p);return N==null?null:{location:{pathname:N,search:g,hash:S,state:k,key:T},navigationType:s}},[p,y,g,S,k,T,s]);return E==null?null:_.createElement(dh.Provider,{value:m},_.createElement(Rx.Provider,{children:n,value:E}))}function uL(e){let{children:t,location:n}=e;return G4(N1(t),n)}new Promise(()=>{});function N1(e,t){t===void 0&&(t=[]);let n=[];return _.Children.forEach(e,(r,s)=>{if(!_.isValidElement(r))return;let i=[...t,s];if(r.type===_.Fragment){n.push.apply(n,N1(r.props.children,i));return}r.type!==jf&&Yr(!1),!r.props.index||!r.props.children||Yr(!1);let c={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=N1(r.props.children,i)),n.push(c)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j1.apply(this,arguments)}function dL(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function fL(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function hL(e,t){return e.button===0&&(!t||t==="_self")&&!fL(e)}const pL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mL="6";try{window.__reactRouterVersion=mL}catch{}const gL="startTransition",pk=k_[gL];function vL(e){let{basename:t,children:n,future:r,window:s}=e,i=_.useRef();i.current==null&&(i.current=w4({window:s,v5Compat:!0}));let c=i.current,[u,p]=_.useState({action:c.action,location:c.location}),{v7_startTransition:m}=r||{},y=_.useCallback(g=>{m&&pk?pk(()=>p(g)):p(g)},[p,m]);return _.useLayoutEffect(()=>c.listen(y),[c,y]),_.useEffect(()=>lL(r),[r]),_.createElement(cL,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:c,future:r})}const yL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pl=_.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:c,state:u,target:p,to:m,preventScrollReset:y,viewTransition:g}=t,S=dL(t,pL),{basename:k}=_.useContext(dh),T,E=!1;if(typeof m=="string"&&xL.test(m)&&(T=m,yL))try{let M=new URL(window.location.href),z=m.startsWith("//")?new URL(M.protocol+m):new URL(m),q=R_(z.pathname,k);z.origin===M.origin&&q!=null?m=q+z.search+z.hash:E=!0}catch{}let N=K4(m,{relative:s}),O=wL(m,{replace:c,state:u,target:p,preventScrollReset:y,relative:s,viewTransition:g});function D(M){r&&r(M),M.defaultPrevented||O(M)}return _.createElement("a",j1({},S,{href:T||N,onClick:E||i?r:D,ref:n,target:p}))});var mk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(mk||(mk={}));var gk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gk||(gk={}));function wL(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:c,viewTransition:u}=t===void 0?{}:t,p=O_(),m=Qv(),y=VN(e,{relative:c});return _.useCallback(g=>{if(hL(g,n)){g.preventDefault();let S=r!==void 0?r:z0(m)===z0(y);p(e,{replace:S,state:s,preventScrollReset:i,relative:c,viewTransition:u})}},[m,p,y,r,s,n,e,i,c,u])}class pv{constructor(t){Qt(this,"pubkey");Qt(this,"relays");Qt(this,"secret");const n=new URL(t),r=new URLSearchParams(n.search),s=n.hostname||n.pathname.slice(2),i=r.getAll("relay"),c=r.get("secret")??void 0;if(!s)throw new Error("Invalid bunker URI");this.pubkey=s,this.relays=i,this.secret=c}get href(){return this.toString()}toString(){return pv.toString(this)}static fromJSON(t){const n=pv.toString(t);return new pv(n)}static toString(t){const n=new URLSearchParams;for(const r of t.relays)n.append("relay",r);return t.secret&&n.set("secret",t.secret),`bunker://${t.pubkey}?${n.toString()}`}}function vk(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function YN(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function bL(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");vk(e.outputLen),vk(e.blockLen)}function W0(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function _L(e,t){YN(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Sb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const GN=e=>e instanceof Uint8Array,Eb=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),bl=(e,t)=>e<<32-t|e>>>t,SL=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!SL)throw new Error("Non little-endian hardware is not supported");function EL(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function D_(e){if(typeof e=="string"&&(e=EL(e)),!GN(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function kL(...e){const t=new Uint8Array(e.reduce((r,s)=>r+s.length,0));let n=0;return e.forEach(r=>{if(!GN(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}let ZN=class{clone(){return this._cloneInto()}};function CL(e){const t=r=>e().update(D_(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function QN(e=32){if(Sb&&typeof Sb.getRandomValues=="function")return Sb.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function NL(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),c=Number(n>>s&i),u=Number(n&i),p=r?4:0,m=r?0:4;e.setUint32(t+p,c,r),e.setUint32(t+m,u,r)}let jL=class extends ZN{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Eb(this.buffer)}update(t){W0(this);const{view:n,buffer:r,blockLen:s}=this;t=D_(t);const i=t.length;for(let c=0;c<i;){const u=Math.min(s-this.pos,i-c);if(u===s){const p=Eb(t);for(;s<=i-c;c+=s)this.process(p,c);continue}r.set(t.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){W0(this),_L(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let g=c;g<s;g++)n[g]=0;NL(r,s-8,BigInt(this.length*8),i),this.process(r,0);const u=Eb(t),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=p/4,y=this.get();if(m>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<m;g++)u.setUint32(4*g,y[g],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:c,pos:u}=this;return t.length=s,t.pos=u,t.finished=i,t.destroyed=c,s%n&&t.buffer.set(r),t}};const TL=(e,t,n)=>e&t^~e&n,AL=(e,t,n)=>e&t^e&n^t&n,RL=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Wu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vu=new Uint32Array(64);let PL=class extends jL{constructor(){super(64,32,8,!1),this.A=Wu[0]|0,this.B=Wu[1]|0,this.C=Wu[2]|0,this.D=Wu[3]|0,this.E=Wu[4]|0,this.F=Wu[5]|0,this.G=Wu[6]|0,this.H=Wu[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:c,G:u,H:p}=this;return[t,n,r,s,i,c,u,p]}set(t,n,r,s,i,c,u,p){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=c|0,this.G=u|0,this.H=p|0}process(t,n){for(let g=0;g<16;g++,n+=4)Vu[g]=t.getUint32(n,!1);for(let g=16;g<64;g++){const S=Vu[g-15],k=Vu[g-2],T=bl(S,7)^bl(S,18)^S>>>3,E=bl(k,17)^bl(k,19)^k>>>10;Vu[g]=E+Vu[g-7]+T+Vu[g-16]|0}let{A:r,B:s,C:i,D:c,E:u,F:p,G:m,H:y}=this;for(let g=0;g<64;g++){const S=bl(u,6)^bl(u,11)^bl(u,25),k=y+S+TL(u,p,m)+RL[g]+Vu[g]|0,E=(bl(r,2)^bl(r,13)^bl(r,22))+AL(r,s,i)|0;y=m,m=p,p=u,u=c+k|0,c=i,i=s,s=r,r=k+E|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,c=c+this.D|0,u=u+this.E|0,p=p+this.F|0,m=m+this.G|0,y=y+this.H|0,this.set(r,s,i,c,u,p,m,y)}roundClean(){Vu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const T1=CL(()=>new PL);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const XN=BigInt(0),Px=BigInt(1),OL=BigInt(2),Ox=e=>e instanceof Uint8Array,DL=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function hm(e){if(!Ox(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=DL[e[n]];return t}function JN(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function M_(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function pm(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const s=r*2,i=e.slice(s,s+2),c=Number.parseInt(i,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");n[r]=c}return n}function zo(e){return M_(hm(e))}function I_(e){if(!Ox(e))throw new Error("Uint8Array expected");return M_(hm(Uint8Array.from(e).reverse()))}function gd(e,t){return pm(e.toString(16).padStart(t*2,"0"))}function L_(e,t){return gd(e,t).reverse()}function ML(e){return pm(JN(e))}function Zs(e,t,n){let r;if(typeof t=="string")try{r=pm(t)}catch(i){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${i}`)}else if(Ox(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function eh(...e){const t=new Uint8Array(e.reduce((r,s)=>r+s.length,0));let n=0;return e.forEach(r=>{if(!Ox(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}function IL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function LL(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function FL(e){let t;for(t=0;e>XN;e>>=Px,t+=1);return t}function $L(e,t){return e>>BigInt(t)&Px}const BL=(e,t,n)=>e|(n?Px:XN)<<BigInt(t),F_=e=>(OL<<BigInt(e-1))-Px,kb=e=>new Uint8Array(e),yk=e=>Uint8Array.from(e);function e2(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=kb(e),s=kb(e),i=0;const c=()=>{r.fill(1),s.fill(0),i=0},u=(...g)=>n(s,r,...g),p=(g=kb())=>{s=u(yk([0]),g),r=u(),g.length!==0&&(s=u(yk([1]),g),r=u())},m=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const S=[];for(;g<t;){r=u();const k=r.slice();S.push(k),g+=r.length}return eh(...S)};return(g,S)=>{c(),p(g);let k;for(;!(k=S(m()));)p();return c(),k}}const UL={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Xv(e,t,n={}){const r=(s,i,c)=>{const u=UL[i];if(typeof u!="function")throw new Error(`Invalid validator "${i}", expected function`);const p=e[s];if(!(c&&p===void 0)&&!u(p,e))throw new Error(`Invalid param ${String(s)}=${p} (${typeof p}), expected ${i}`)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}const zL=Object.freeze(Object.defineProperty({__proto__:null,bitGet:$L,bitLen:FL,bitMask:F_,bitSet:BL,bytesToHex:hm,bytesToNumberBE:zo,bytesToNumberLE:I_,concatBytes:eh,createHmacDrbg:e2,ensureBytes:Zs,equalBytes:IL,hexToBytes:pm,hexToNumber:M_,numberToBytesBE:gd,numberToBytesLE:L_,numberToHexUnpadded:JN,numberToVarBytesBE:ML,utf8ToBytes:LL,validateObject:Xv},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ys=BigInt(0),Lr=BigInt(1),Af=BigInt(2),WL=BigInt(3),A1=BigInt(4),xk=BigInt(5),wk=BigInt(8);BigInt(9);BigInt(16);function As(e,t){const n=e%t;return n>=ys?n:t+n}function VL(e,t,n){if(n<=ys||t<ys)throw new Error("Expected power/modulo > 0");if(n===Lr)return ys;let r=Lr;for(;t>ys;)t&Lr&&(r=r*e%n),e=e*e%n,t>>=Lr;return r}function Bi(e,t,n){let r=e;for(;t-- >ys;)r*=r,r%=n;return r}function R1(e,t){if(e===ys||t<=ys)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=As(e,t),r=t,s=ys,i=Lr;for(;n!==ys;){const u=r/n,p=r%n,m=s-i*u;r=n,n=p,s=i,i=m}if(r!==Lr)throw new Error("invert: does not exist");return As(s,t)}function HL(e){const t=(e-Lr)/Af;let n,r,s;for(n=e-Lr,r=0;n%Af===ys;n/=Af,r++);for(s=Af;s<e&&VL(s,t,e)!==e-Lr;s++);if(r===1){const c=(e+Lr)/A1;return function(p,m){const y=p.pow(m,c);if(!p.eql(p.sqr(y),m))throw new Error("Cannot find square root");return y}}const i=(n+Lr)/Af;return function(u,p){if(u.pow(p,t)===u.neg(u.ONE))throw new Error("Cannot find square root");let m=r,y=u.pow(u.mul(u.ONE,s),n),g=u.pow(p,i),S=u.pow(p,n);for(;!u.eql(S,u.ONE);){if(u.eql(S,u.ZERO))return u.ZERO;let k=1;for(let E=u.sqr(S);k<m&&!u.eql(E,u.ONE);k++)E=u.sqr(E);const T=u.pow(y,Lr<<BigInt(m-k-1));y=u.sqr(T),g=u.mul(g,T),S=u.mul(S,y),m=k}return g}}function qL(e){if(e%A1===WL){const t=(e+Lr)/A1;return function(r,s){const i=r.pow(s,t);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(e%wk===xk){const t=(e-xk)/wk;return function(r,s){const i=r.mul(s,Af),c=r.pow(i,t),u=r.mul(s,c),p=r.mul(r.mul(u,Af),c),m=r.mul(u,r.sub(p,r.ONE));if(!r.eql(r.sqr(m),s))throw new Error("Cannot find square root");return m}}return HL(e)}const KL=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function YL(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=KL.reduce((r,s)=>(r[s]="function",r),t);return Xv(e,n)}function GL(e,t,n){if(n<ys)throw new Error("Expected power > 0");if(n===ys)return e.ONE;if(n===Lr)return t;let r=e.ONE,s=t;for(;n>ys;)n&Lr&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Lr;return r}function ZL(e,t){const n=new Array(t.length),r=t.reduce((i,c,u)=>e.is0(c)?i:(n[u]=i,e.mul(i,c)),e.ONE),s=e.inv(r);return t.reduceRight((i,c,u)=>e.is0(c)?i:(n[u]=e.mul(i,n[u]),e.mul(i,c)),s),n}function t2(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function QL(e,t,n=!1,r={}){if(e<=ys)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:i}=t2(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=qL(e),u=Object.freeze({ORDER:e,BITS:s,BYTES:i,MASK:F_(s),ZERO:ys,ONE:Lr,create:p=>As(p,e),isValid:p=>{if(typeof p!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof p}`);return ys<=p&&p<e},is0:p=>p===ys,isOdd:p=>(p&Lr)===Lr,neg:p=>As(-p,e),eql:(p,m)=>p===m,sqr:p=>As(p*p,e),add:(p,m)=>As(p+m,e),sub:(p,m)=>As(p-m,e),mul:(p,m)=>As(p*m,e),pow:(p,m)=>GL(u,p,m),div:(p,m)=>As(p*R1(m,e),e),sqrN:p=>p*p,addN:(p,m)=>p+m,subN:(p,m)=>p-m,mulN:(p,m)=>p*m,inv:p=>R1(p,e),sqrt:r.sqrt||(p=>c(u,p)),invertBatch:p=>ZL(u,p),cmov:(p,m,y)=>y?m:p,toBytes:p=>n?L_(p,i):gd(p,i),fromBytes:p=>{if(p.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${p.length}`);return n?I_(p):zo(p)}});return Object.freeze(u)}function n2(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function r2(e){const t=n2(e);return t+Math.ceil(t/2)}function XL(e,t,n=!1){const r=e.length,s=n2(t),i=r2(t);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const c=n?zo(e):I_(e),u=As(c,t-Lr)+Lr;return n?L_(u,s):gd(u,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const JL=BigInt(0),Cb=BigInt(1);function e5(e,t){const n=(s,i)=>{const c=i.negate();return s?c:i},r=s=>{const i=Math.ceil(t/s)+1,c=2**(s-1);return{windows:i,windowSize:c}};return{constTimeNegate:n,unsafeLadder(s,i){let c=e.ZERO,u=s;for(;i>JL;)i&Cb&&(c=c.add(u)),u=u.double(),i>>=Cb;return c},precomputeWindow(s,i){const{windows:c,windowSize:u}=r(i),p=[];let m=s,y=m;for(let g=0;g<c;g++){y=m,p.push(y);for(let S=1;S<u;S++)y=y.add(m),p.push(y);m=y.double()}return p},wNAF(s,i,c){const{windows:u,windowSize:p}=r(s);let m=e.ZERO,y=e.BASE;const g=BigInt(2**s-1),S=2**s,k=BigInt(s);for(let T=0;T<u;T++){const E=T*p;let N=Number(c&g);c>>=k,N>p&&(N-=S,c+=Cb);const O=E,D=E+Math.abs(N)-1,M=T%2!==0,z=N<0;N===0?y=y.add(n(M,i[O])):m=m.add(n(z,i[D]))}return{p:m,f:y}},wNAFCached(s,i,c,u){const p=s._WINDOW_SIZE||1;let m=i.get(s);return m||(m=this.precomputeWindow(s,p),p!==1&&i.set(s,u(m))),this.wNAF(p,m,c)}}}function s2(e){return YL(e.Fp),Xv(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...t2(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function t5(e){const t=s2(e);Xv(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:n5,hexToBytes:r5}=zL,Ff={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=Ff;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:n5(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=Ff,n=typeof e=="string"?r5(e):e;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:i}=Ff._parseInt(n.subarray(2)),{d:c,l:u}=Ff._parseInt(i);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:c}},hexFromSig(e){const t=m=>Number.parseInt(m[0],16)&8?"00"+m:m,n=m=>{const y=m.toString(16);return y.length&1?`0${y}`:y},r=t(n(e.s)),s=t(n(e.r)),i=r.length/2,c=s.length/2,u=n(i),p=n(c);return`30${n(c+i+4)}02${p}${s}02${u}${r}`}},Fc=BigInt(0),Wi=BigInt(1);BigInt(2);const bk=BigInt(3);BigInt(4);function s5(e){const t=t5(e),{Fp:n}=t,r=t.toBytes||((T,E,N)=>{const O=E.toAffine();return eh(Uint8Array.from([4]),n.toBytes(O.x),n.toBytes(O.y))}),s=t.fromBytes||(T=>{const E=T.subarray(1),N=n.fromBytes(E.subarray(0,n.BYTES)),O=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:N,y:O}});function i(T){const{a:E,b:N}=t,O=n.sqr(T),D=n.mul(O,T);return n.add(n.add(D,n.mul(T,E)),N)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function c(T){return typeof T=="bigint"&&Fc<T&&T<t.n}function u(T){if(!c(T))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function p(T){const{allowedPrivateKeyLengths:E,nByteLength:N,wrapPrivateKey:O,n:D}=t;if(E&&typeof T!="bigint"){if(T instanceof Uint8Array&&(T=hm(T)),typeof T!="string"||!E.includes(T.length))throw new Error("Invalid key");T=T.padStart(N*2,"0")}let M;try{M=typeof T=="bigint"?T:zo(Zs("private key",T,N))}catch{throw new Error(`private key must be ${N} bytes, hex or bigint, not ${typeof T}`)}return O&&(M=As(M,D)),u(M),M}const m=new Map;function y(T){if(!(T instanceof g))throw new Error("ProjectivePoint expected")}class g{constructor(E,N,O){if(this.px=E,this.py=N,this.pz=O,E==null||!n.isValid(E))throw new Error("x required");if(N==null||!n.isValid(N))throw new Error("y required");if(O==null||!n.isValid(O))throw new Error("z required")}static fromAffine(E){const{x:N,y:O}=E||{};if(!E||!n.isValid(N)||!n.isValid(O))throw new Error("invalid affine point");if(E instanceof g)throw new Error("projective point not allowed");const D=M=>n.eql(M,n.ZERO);return D(N)&&D(O)?g.ZERO:new g(N,O,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const N=n.invertBatch(E.map(O=>O.pz));return E.map((O,D)=>O.toAffine(N[D])).map(g.fromAffine)}static fromHex(E){const N=g.fromAffine(s(Zs("pointHex",E)));return N.assertValidity(),N}static fromPrivateKey(E){return g.BASE.multiply(p(E))}_setWindowSize(E){this._WINDOW_SIZE=E,m.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:E,y:N}=this.toAffine();if(!n.isValid(E)||!n.isValid(N))throw new Error("bad point: x or y not FE");const O=n.sqr(N),D=i(E);if(!n.eql(O,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){y(E);const{px:N,py:O,pz:D}=this,{px:M,py:z,pz:q}=E,Y=n.eql(n.mul(N,q),n.mul(M,D)),Z=n.eql(n.mul(O,q),n.mul(z,D));return Y&&Z}negate(){return new g(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:N}=t,O=n.mul(N,bk),{px:D,py:M,pz:z}=this;let q=n.ZERO,Y=n.ZERO,Z=n.ZERO,ae=n.mul(D,D),te=n.mul(M,M),ye=n.mul(z,z),Te=n.mul(D,M);return Te=n.add(Te,Te),Z=n.mul(D,z),Z=n.add(Z,Z),q=n.mul(E,Z),Y=n.mul(O,ye),Y=n.add(q,Y),q=n.sub(te,Y),Y=n.add(te,Y),Y=n.mul(q,Y),q=n.mul(Te,q),Z=n.mul(O,Z),ye=n.mul(E,ye),Te=n.sub(ae,ye),Te=n.mul(E,Te),Te=n.add(Te,Z),Z=n.add(ae,ae),ae=n.add(Z,ae),ae=n.add(ae,ye),ae=n.mul(ae,Te),Y=n.add(Y,ae),ye=n.mul(M,z),ye=n.add(ye,ye),ae=n.mul(ye,Te),q=n.sub(q,ae),Z=n.mul(ye,te),Z=n.add(Z,Z),Z=n.add(Z,Z),new g(q,Y,Z)}add(E){y(E);const{px:N,py:O,pz:D}=this,{px:M,py:z,pz:q}=E;let Y=n.ZERO,Z=n.ZERO,ae=n.ZERO;const te=t.a,ye=n.mul(t.b,bk);let Te=n.mul(N,M),Se=n.mul(O,z),_e=n.mul(D,q),Le=n.add(N,O),ge=n.add(M,z);Le=n.mul(Le,ge),ge=n.add(Te,Se),Le=n.sub(Le,ge),ge=n.add(N,D);let me=n.add(M,q);return ge=n.mul(ge,me),me=n.add(Te,_e),ge=n.sub(ge,me),me=n.add(O,D),Y=n.add(z,q),me=n.mul(me,Y),Y=n.add(Se,_e),me=n.sub(me,Y),ae=n.mul(te,ge),Y=n.mul(ye,_e),ae=n.add(Y,ae),Y=n.sub(Se,ae),ae=n.add(Se,ae),Z=n.mul(Y,ae),Se=n.add(Te,Te),Se=n.add(Se,Te),_e=n.mul(te,_e),ge=n.mul(ye,ge),Se=n.add(Se,_e),_e=n.sub(Te,_e),_e=n.mul(te,_e),ge=n.add(ge,_e),Te=n.mul(Se,ge),Z=n.add(Z,Te),Te=n.mul(me,ge),Y=n.mul(Le,Y),Y=n.sub(Y,Te),Te=n.mul(Le,Se),ae=n.mul(me,ae),ae=n.add(ae,Te),new g(Y,Z,ae)}subtract(E){return this.add(E.negate())}is0(){return this.equals(g.ZERO)}wNAF(E){return k.wNAFCached(this,m,E,N=>{const O=n.invertBatch(N.map(D=>D.pz));return N.map((D,M)=>D.toAffine(O[M])).map(g.fromAffine)})}multiplyUnsafe(E){const N=g.ZERO;if(E===Fc)return N;if(u(E),E===Wi)return this;const{endo:O}=t;if(!O)return k.unsafeLadder(this,E);let{k1neg:D,k1:M,k2neg:z,k2:q}=O.splitScalar(E),Y=N,Z=N,ae=this;for(;M>Fc||q>Fc;)M&Wi&&(Y=Y.add(ae)),q&Wi&&(Z=Z.add(ae)),ae=ae.double(),M>>=Wi,q>>=Wi;return D&&(Y=Y.negate()),z&&(Z=Z.negate()),Z=new g(n.mul(Z.px,O.beta),Z.py,Z.pz),Y.add(Z)}multiply(E){u(E);let N=E,O,D;const{endo:M}=t;if(M){const{k1neg:z,k1:q,k2neg:Y,k2:Z}=M.splitScalar(N);let{p:ae,f:te}=this.wNAF(q),{p:ye,f:Te}=this.wNAF(Z);ae=k.constTimeNegate(z,ae),ye=k.constTimeNegate(Y,ye),ye=new g(n.mul(ye.px,M.beta),ye.py,ye.pz),O=ae.add(ye),D=te.add(Te)}else{const{p:z,f:q}=this.wNAF(N);O=z,D=q}return g.normalizeZ([O,D])[0]}multiplyAndAddUnsafe(E,N,O){const D=g.BASE,M=(q,Y)=>Y===Fc||Y===Wi||!q.equals(D)?q.multiplyUnsafe(Y):q.multiply(Y),z=M(this,N).add(M(E,O));return z.is0()?void 0:z}toAffine(E){const{px:N,py:O,pz:D}=this,M=this.is0();E==null&&(E=M?n.ONE:n.inv(D));const z=n.mul(N,E),q=n.mul(O,E),Y=n.mul(D,E);if(M)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Y,n.ONE))throw new Error("invZ was invalid");return{x:z,y:q}}isTorsionFree(){const{h:E,isTorsionFree:N}=t;if(E===Wi)return!0;if(N)return N(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:N}=t;return E===Wi?this:N?N(g,this):this.multiplyUnsafe(t.h)}toRawBytes(E=!0){return this.assertValidity(),r(g,this,E)}toHex(E=!0){return hm(this.toRawBytes(E))}}g.BASE=new g(t.Gx,t.Gy,n.ONE),g.ZERO=new g(n.ZERO,n.ONE,n.ZERO);const S=t.nBitLength,k=e5(g,t.endo?Math.ceil(S/2):S);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:p,weierstrassEquation:i,isWithinCurveOrder:c}}function o5(e){const t=s2(e);return Xv(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function i5(e){const t=o5(e),{Fp:n,n:r}=t,s=n.BYTES+1,i=2*n.BYTES+1;function c(ge){return Fc<ge&&ge<n.ORDER}function u(ge){return As(ge,r)}function p(ge){return R1(ge,r)}const{ProjectivePoint:m,normPrivateKeyToScalar:y,weierstrassEquation:g,isWithinCurveOrder:S}=s5({...t,toBytes(ge,me,de){const Q=me.toAffine(),J=n.toBytes(Q.x),xe=eh;return de?xe(Uint8Array.from([me.hasEvenY()?2:3]),J):xe(Uint8Array.from([4]),J,n.toBytes(Q.y))},fromBytes(ge){const me=ge.length,de=ge[0],Q=ge.subarray(1);if(me===s&&(de===2||de===3)){const J=zo(Q);if(!c(J))throw new Error("Point is not on curve");const xe=g(J);let K=n.sqrt(xe);const X=(K&Wi)===Wi;return(de&1)===1!==X&&(K=n.neg(K)),{x:J,y:K}}else if(me===i&&de===4){const J=n.fromBytes(Q.subarray(0,n.BYTES)),xe=n.fromBytes(Q.subarray(n.BYTES,2*n.BYTES));return{x:J,y:xe}}else throw new Error(`Point of length ${me} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),k=ge=>hm(gd(ge,t.nByteLength));function T(ge){const me=r>>Wi;return ge>me}function E(ge){return T(ge)?u(-ge):ge}const N=(ge,me,de)=>zo(ge.slice(me,de));class O{constructor(me,de,Q){this.r=me,this.s=de,this.recovery=Q,this.assertValidity()}static fromCompact(me){const de=t.nByteLength;return me=Zs("compactSignature",me,de*2),new O(N(me,0,de),N(me,de,2*de))}static fromDER(me){const{r:de,s:Q}=Ff.toSig(Zs("DER",me));return new O(de,Q)}assertValidity(){if(!S(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!S(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(me){return new O(this.r,this.s,me)}recoverPublicKey(me){const{r:de,s:Q,recovery:J}=this,xe=Z(Zs("msgHash",me));if(J==null||![0,1,2,3].includes(J))throw new Error("recovery id invalid");const K=J===2||J===3?de+t.n:de;if(K>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const X=(J&1)===0?"02":"03",Pe=m.fromHex(X+k(K)),Be=p(K),Fe=u(-xe*Be),Ze=u(Q*Be),Me=m.BASE.multiplyAndAddUnsafe(Pe,Fe,Ze);if(!Me)throw new Error("point at infinify");return Me.assertValidity(),Me}hasHighS(){return T(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return pm(this.toDERHex())}toDERHex(){return Ff.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return pm(this.toCompactHex())}toCompactHex(){return k(this.r)+k(this.s)}}const D={isValidPrivateKey(ge){try{return y(ge),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const ge=r2(t.n);return XL(t.randomBytes(ge),t.n)},precompute(ge=8,me=m.BASE){return me._setWindowSize(ge),me.multiply(BigInt(3)),me}};function M(ge,me=!0){return m.fromPrivateKey(ge).toRawBytes(me)}function z(ge){const me=ge instanceof Uint8Array,de=typeof ge=="string",Q=(me||de)&&ge.length;return me?Q===s||Q===i:de?Q===2*s||Q===2*i:ge instanceof m}function q(ge,me,de=!0){if(z(ge))throw new Error("first arg must be private key");if(!z(me))throw new Error("second arg must be public key");return m.fromHex(me).multiply(y(ge)).toRawBytes(de)}const Y=t.bits2int||function(ge){const me=zo(ge),de=ge.length*8-t.nBitLength;return de>0?me>>BigInt(de):me},Z=t.bits2int_modN||function(ge){return u(Y(ge))},ae=F_(t.nBitLength);function te(ge){if(typeof ge!="bigint")throw new Error("bigint expected");if(!(Fc<=ge&&ge<ae))throw new Error(`bigint expected < 2^${t.nBitLength}`);return gd(ge,t.nByteLength)}function ye(ge,me,de=Te){if(["recovered","canonical"].some(Oe=>Oe in de))throw new Error("sign() legacy options not supported");const{hash:Q,randomBytes:J}=t;let{lowS:xe,prehash:K,extraEntropy:X}=de;xe==null&&(xe=!0),ge=Zs("msgHash",ge),K&&(ge=Zs("prehashed msgHash",Q(ge)));const Pe=Z(ge),Be=y(me),Fe=[te(Be),te(Pe)];if(X!=null){const Oe=X===!0?J(n.BYTES):X;Fe.push(Zs("extraEntropy",Oe))}const Ze=eh(...Fe),Me=Pe;function at(Oe){const wt=Y(Oe);if(!S(wt))return;const At=p(wt),ut=m.BASE.multiply(wt).toAffine(),Gt=u(ut.x);if(Gt===Fc)return;const nn=u(At*u(Me+Gt*Be));if(nn===Fc)return;let On=(ut.x===Gt?0:2)|Number(ut.y&Wi),cr=nn;return xe&&T(nn)&&(cr=E(nn),On^=1),new O(Gt,cr,On)}return{seed:Ze,k2sig:at}}const Te={lowS:t.lowS,prehash:!1},Se={lowS:t.lowS,prehash:!1};function _e(ge,me,de=Te){const{seed:Q,k2sig:J}=ye(ge,me,de),xe=t;return e2(xe.hash.outputLen,xe.nByteLength,xe.hmac)(Q,J)}m.BASE._setWindowSize(8);function Le(ge,me,de,Q=Se){var ut;const J=ge;if(me=Zs("msgHash",me),de=Zs("publicKey",de),"strict"in Q)throw new Error("options.strict was renamed to lowS");const{lowS:xe,prehash:K}=Q;let X,Pe;try{if(typeof J=="string"||J instanceof Uint8Array)try{X=O.fromDER(J)}catch(Gt){if(!(Gt instanceof Ff.Err))throw Gt;X=O.fromCompact(J)}else if(typeof J=="object"&&typeof J.r=="bigint"&&typeof J.s=="bigint"){const{r:Gt,s:nn}=J;X=new O(Gt,nn)}else throw new Error("PARSE");Pe=m.fromHex(de)}catch(Gt){if(Gt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(xe&&X.hasHighS())return!1;K&&(me=t.hash(me));const{r:Be,s:Fe}=X,Ze=Z(me),Me=p(Fe),at=u(Ze*Me),Oe=u(Be*Me),wt=(ut=m.BASE.multiplyAndAddUnsafe(Pe,at,Oe))==null?void 0:ut.toAffine();return wt?u(wt.x)===Be:!1}return{CURVE:t,getPublicKey:M,getSharedSecret:q,sign:_e,verify:Le,ProjectivePoint:m,Signature:O,utils:D}}let o2=class extends ZN{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,bL(t);const r=D_(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let c=0;c<i.length;c++)i[c]^=54;this.iHash.update(i),this.oHash=t.create();for(let c=0;c<i.length;c++)i[c]^=106;this.oHash.update(i),i.fill(0)}update(t){return W0(this),this.iHash.update(t),this}digestInto(t){W0(this),YN(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:c,outputLen:u}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=c,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const i2=(e,t,n)=>new o2(e,t).update(n).digest();i2.create=(e,t)=>new o2(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function a5(e){return{hash:e,hmac:(t,...n)=>i2(e,t,kL(...n)),randomBytes:QN}}function l5(e,t){const n=r=>i5({...e,...a5(r)});return Object.freeze({...n(t),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dx=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),V0=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),a2=BigInt(1),H0=BigInt(2),_k=(e,t)=>(e+t/H0)/t;function l2(e){const t=Dx,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),c=BigInt(23),u=BigInt(44),p=BigInt(88),m=e*e*e%t,y=m*m*e%t,g=Bi(y,n,t)*y%t,S=Bi(g,n,t)*y%t,k=Bi(S,H0,t)*m%t,T=Bi(k,s,t)*k%t,E=Bi(T,i,t)*T%t,N=Bi(E,u,t)*E%t,O=Bi(N,p,t)*N%t,D=Bi(O,u,t)*E%t,M=Bi(D,n,t)*y%t,z=Bi(M,c,t)*T%t,q=Bi(z,r,t)*m%t,Y=Bi(q,H0,t);if(!P1.eql(P1.sqr(Y),e))throw new Error("Cannot find square root");return Y}const P1=QL(Dx,void 0,void 0,{sqrt:l2}),Am=l5({a:BigInt(0),b:BigInt(7),Fp:P1,n:V0,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=V0,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-a2*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,c=BigInt("0x100000000000000000000000000000000"),u=_k(i*e,t),p=_k(-r*e,t);let m=As(e-u*n-p*s,t),y=As(-u*r-p*i,t);const g=m>c,S=y>c;if(g&&(m=t-m),S&&(y=t-y),m>c||y>c)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:g,k1:m,k2neg:S,k2:y}}}},T1),Mx=BigInt(0),c2=e=>typeof e=="bigint"&&Mx<e&&e<Dx,c5=e=>typeof e=="bigint"&&Mx<e&&e<V0,Sk={};function q0(e,...t){let n=Sk[e];if(n===void 0){const r=T1(Uint8Array.from(e,s=>s.charCodeAt(0)));n=eh(r,r),Sk[e]=n}return T1(eh(n,...t))}const $_=e=>e.toRawBytes(!0).slice(1),O1=e=>gd(e,32),Nb=e=>As(e,Dx),bv=e=>As(e,V0),B_=Am.ProjectivePoint,u5=(e,t,n)=>B_.BASE.multiplyAndAddUnsafe(e,t,n);function D1(e){let t=Am.utils.normPrivateKeyToScalar(e),n=B_.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:bv(-t),bytes:$_(n)}}function u2(e){if(!c2(e))throw new Error("bad x: need 0 < x < p");const t=Nb(e*e),n=Nb(t*e+BigInt(7));let r=l2(n);r%H0!==Mx&&(r=Nb(-r));const s=new B_(e,r,a2);return s.assertValidity(),s}function d2(...e){return bv(zo(q0("BIP0340/challenge",...e)))}function d5(e){return D1(e).bytes}function f5(e,t,n=QN(32)){const r=Zs("message",e),{bytes:s,scalar:i}=D1(t),c=Zs("auxRand",n,32),u=O1(i^zo(q0("BIP0340/aux",c))),p=q0("BIP0340/nonce",u,s,r),m=bv(zo(p));if(m===Mx)throw new Error("sign failed: k is zero");const{bytes:y,scalar:g}=D1(m),S=d2(y,s,r),k=new Uint8Array(64);if(k.set(y,0),k.set(O1(bv(g+S*i)),32),!f2(k,r,s))throw new Error("sign: Invalid signature produced");return k}function f2(e,t,n){const r=Zs("signature",e,64),s=Zs("message",t),i=Zs("publicKey",n,32);try{const c=u2(zo(i)),u=zo(r.subarray(0,32));if(!c2(u))return!1;const p=zo(r.subarray(32,64));if(!c5(p))return!1;const m=d2(O1(u),$_(c),s),y=u5(c,p,bv(-m));return!(!y||!y.hasEvenY()||y.toAffine().x!==u)}catch{return!1}}const Zg={getPublicKey:d5,sign:f5,verify:f2,utils:{randomPrivateKey:Am.utils.randomPrivateKey,lift_x:u2,pointToBytes:$_,numberToBytesBE:gd,bytesToNumberBE:zo,taggedHash:q0,mod:As}},jb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const U_=e=>e instanceof Uint8Array,Tb=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),_l=(e,t)=>e<<32-t|e>>>t,h5=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!h5)throw new Error("Non little-endian hardware is not supported");const p5=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function mo(e){if(!U_(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=p5[e[n]];return t}function mm(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(t/2);for(let r=0;r<n.length;r++){const s=r*2,i=e.slice(s,s+2),c=Number.parseInt(i,16);if(Number.isNaN(c)||c<0)throw new Error("Invalid byte sequence");n[r]=c}return n}function m5(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function _v(e){if(typeof e=="string"&&(e=m5(e)),!U_(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function Ix(...e){const t=new Uint8Array(e.reduce((r,s)=>r+s.length,0));let n=0;return e.forEach(r=>{if(!U_(r))throw new Error("Uint8Array expected");t.set(r,n),n+=r.length}),t}class h2{clone(){return this._cloneInto()}}function p2(e){const t=r=>e().update(_v(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function m2(e=32){if(jb&&typeof jb.getRandomValues=="function")return jb.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function M1(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function g5(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function g2(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function v5(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");M1(e.outputLen),M1(e.blockLen)}function y5(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function x5(e,t){g2(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const jl={number:M1,bool:g5,bytes:g2,hash:v5,exists:y5,output:x5};function w5(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),c=Number(n>>s&i),u=Number(n&i),p=r?4:0,m=r?0:4;e.setUint32(t+p,c,r),e.setUint32(t+m,u,r)}class b5 extends h2{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Tb(this.buffer)}update(t){jl.exists(this);const{view:n,buffer:r,blockLen:s}=this;t=_v(t);const i=t.length;for(let c=0;c<i;){const u=Math.min(s-this.pos,i-c);if(u===s){const p=Tb(t);for(;s<=i-c;c+=s)this.process(p,c);continue}r.set(t.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){jl.exists(this),jl.output(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:c}=this;n[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>s-c&&(this.process(r,0),c=0);for(let g=c;g<s;g++)n[g]=0;w5(r,s-8,BigInt(this.length*8),i),this.process(r,0);const u=Tb(t),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const m=p/4,y=this.get();if(m>y.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<m;g++)u.setUint32(4*g,y[g],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:c,pos:u}=this;return t.length=s,t.pos=u,t.finished=i,t.destroyed=c,s%n&&t.buffer.set(r),t}}const _5=(e,t,n)=>e&t^~e&n,S5=(e,t,n)=>e&t^e&n^t&n,E5=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Hu=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qu=new Uint32Array(64);class v2 extends b5{constructor(){super(64,32,8,!1),this.A=Hu[0]|0,this.B=Hu[1]|0,this.C=Hu[2]|0,this.D=Hu[3]|0,this.E=Hu[4]|0,this.F=Hu[5]|0,this.G=Hu[6]|0,this.H=Hu[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:c,G:u,H:p}=this;return[t,n,r,s,i,c,u,p]}set(t,n,r,s,i,c,u,p){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=c|0,this.G=u|0,this.H=p|0}process(t,n){for(let g=0;g<16;g++,n+=4)qu[g]=t.getUint32(n,!1);for(let g=16;g<64;g++){const S=qu[g-15],k=qu[g-2],T=_l(S,7)^_l(S,18)^S>>>3,E=_l(k,17)^_l(k,19)^k>>>10;qu[g]=E+qu[g-7]+T+qu[g-16]|0}let{A:r,B:s,C:i,D:c,E:u,F:p,G:m,H:y}=this;for(let g=0;g<64;g++){const S=_l(u,6)^_l(u,11)^_l(u,25),k=y+S+_5(u,p,m)+E5[g]+qu[g]|0,E=(_l(r,2)^_l(r,13)^_l(r,22))+S5(r,s,i)|0;y=m,m=p,p=u,u=c+k|0,c=i,i=s,s=r,r=k+E|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,c=c+this.D|0,u=u+this.E|0,p=p+this.F|0,m=m+this.G|0,y=y+this.H|0,this.set(r,s,i,c,u,p,m,y)}roundClean(){qu.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class k5 extends v2{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Rm=p2(()=>new v2);p2(()=>new k5);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Pm(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Zc(...e){const t=(s,i)=>c=>s(i(c)),n=Array.from(e).reverse().reduce((s,i)=>s?t(s,i.encode):i.encode,void 0),r=e.reduce((s,i)=>s?t(s,i.decode):i.decode,void 0);return{encode:n,decode:r}}function Qc(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(Pm(n),n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function Xc(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Lx(e,t="="){if(Pm(e),typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.decode: non-string input=${s}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function y2(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function Ek(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const s=[],i=Array.from(e);for(i.forEach(c=>{if(Pm(c),c<0||c>=t)throw new Error(`Wrong integer: ${c}`)});;){let c=0,u=!0;for(let p=r;p<i.length;p++){const m=i[p],y=t*c+m;if(!Number.isSafeInteger(y)||t*c/t!==c||y-m!==t*c)throw new Error("convertRadix: carry overflow");if(c=y%n,i[p]=Math.floor(y/n),!Number.isSafeInteger(i[p])||i[p]*n+c!==y)throw new Error("convertRadix: carry overflow");if(u)i[p]?u=!1:r=p;else continue}if(s.push(c),u)break}for(let c=0;c<e.length-1&&e[c]===0;c++)s.push(0);return s.reverse()}const x2=(e,t)=>t?x2(t,e%t):e,K0=(e,t)=>e+(t-x2(e,t));function I1(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(K0(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${K0(t,n)}`);let s=0,i=0;const c=2**n-1,u=[];for(const p of e){if(Pm(p),p>=2**t)throw new Error(`convertRadix2: invalid data word=${p} from=${t}`);if(s=s<<t|p,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=n;i-=n)u.push((s>>i-n&c)>>>0);s&=2**i-1}if(s=s<<n-i&c,!r&&i>=t)throw new Error("Excess padding");if(!r&&s)throw new Error(`Non-zero padding: ${s}`);return r&&i>0&&u.push(s>>>0),u}function C5(e){return Pm(e),{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return Ek(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(Ek(t,e,2**8))}}}function Nd(e,t=!1){if(Pm(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(K0(8,e)>32||K0(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!(n instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return I1(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(I1(n,e,8,t))}}}function kk(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}const N5=Zc(Nd(4),Qc("0123456789ABCDEF"),Xc("")),j5=Zc(Nd(5),Qc("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Lx(5),Xc(""));Zc(Nd(5),Qc("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Lx(5),Xc(""));Zc(Nd(5),Qc("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Xc(""),y2(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const Hc=Zc(Nd(6),Qc("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Lx(6),Xc("")),T5=Zc(Nd(6),Qc("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Lx(6),Xc("")),z_=e=>Zc(C5(58),Qc(e),Xc("")),L1=z_("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");z_("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");z_("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const Ck=[0,2,3,5,6,7,9,10,11],A5={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=L1.encode(r).padStart(Ck[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),s=Ck.indexOf(r.length),i=L1.decode(r);for(let c=0;c<i.length-s;c++)if(i[c]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(i.slice(i.length-s)))}return Uint8Array.from(t)}},F1=Zc(Qc("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Xc("")),Nk=[996825010,642813549,513874426,1027748829,705979059];function Qg(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<Nk.length;r++)(t>>r&1)===1&&(n^=Nk[r]);return n}function jk(e,t,n=1){const r=e.length;let s=1;for(let i=0;i<r;i++){const c=e.charCodeAt(i);if(c<33||c>126)throw new Error(`Invalid prefix (${e})`);s=Qg(s)^c>>5}s=Qg(s);for(let i=0;i<r;i++)s=Qg(s)^e.charCodeAt(i)&31;for(let i of t)s=Qg(s)^i;for(let i=0;i<6;i++)s=Qg(s);return s^=n,F1.encode(I1([s%2**30],30,5,!1))}function w2(e){const t=e==="bech32"?1:734539939,n=Nd(5),r=n.decode,s=n.encode,i=kk(r);function c(y,g,S=90){if(typeof y!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof y}`);if(!Array.isArray(g)||g.length&&typeof g[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof g}`);const k=y.length+7+g.length;if(S!==!1&&k>S)throw new TypeError(`Length ${k} exceeds limit ${S}`);return y=y.toLowerCase(),`${y}1${F1.encode(g)}${jk(y,g,t)}`}function u(y,g=90){if(typeof y!="string")throw new Error(`bech32.decode input should be string, not ${typeof y}`);if(y.length<8||g!==!1&&y.length>g)throw new TypeError(`Wrong string length: ${y.length} (${y}). Expected (8..${g})`);const S=y.toLowerCase();if(y!==S&&y!==y.toUpperCase())throw new Error("String must be lowercase or uppercase");y=S;const k=y.lastIndexOf("1");if(k===0||k===-1)throw new Error('Letter "1" must be present between prefix and data only');const T=y.slice(0,k),E=y.slice(k+1);if(E.length<6)throw new Error("Data must be at least 6 characters long");const N=F1.decode(E).slice(0,-6),O=jk(T,N,t);if(!E.endsWith(O))throw new Error(`Invalid checksum in ${y}: expected "${O}"`);return{prefix:T,words:N}}const p=kk(u);function m(y){const{prefix:g,words:S}=u(y,!1);return{prefix:g,words:S,bytes:r(S)}}return{encode:c,decode:u,decodeToBytes:m,decodeUnsafe:p,fromWords:r,fromWordsUnsafe:i,toWords:s}}const gm=w2("bech32");w2("bech32m");const R5={encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},P5=Zc(Nd(4),Qc("0123456789abcdef"),Xc(""),y2(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),O5={utf8:R5,hex:P5,base16:N5,base32:j5,base64:Hc,base64url:T5,base58:L1,base58xmr:A5};`${Object.keys(O5).join(", ")}`;function Ab(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Tk(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function D5(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Uc(e,...t){if(!D5(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */const Qs=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),M5=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!M5)throw new Error("Non little-endian hardware is not supported");function I5(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function L5(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}const F5=(e,t)=>(Object.assign(t,e),t),dd=16,$5=283;function W_(e){return e<<1^$5&-(e>>7)}function Bp(e,t){let n=0;for(;t>0;t>>=1)n^=e&-(t&1),e=W_(e);return n}const $1=(()=>{let e=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=W_(r))e[n]=r;const t=new Uint8Array(256);t[0]=99;for(let n=0;n<255;n++){let r=e[255-n];r|=r<<8,t[e[n]]=(r^r>>4^r>>5^r>>6^r>>7^99)&255}return t})(),B5=$1.map((e,t)=>$1.indexOf(t)),U5=e=>e<<24|e>>>8,Rb=e=>e<<8|e>>>24;function b2(e,t){if(e.length!==256)throw new Error("Wrong sbox length");const n=new Uint32Array(256).map((m,y)=>t(e[y])),r=n.map(Rb),s=r.map(Rb),i=s.map(Rb),c=new Uint32Array(256*256),u=new Uint32Array(256*256),p=new Uint16Array(256*256);for(let m=0;m<256;m++)for(let y=0;y<256;y++){const g=m*256+y;c[g]=n[m]^r[y],u[g]=s[m]^i[y],p[g]=e[m]<<8|e[y]}return{sbox:e,sbox2:p,T0:n,T1:r,T2:s,T3:i,T01:c,T23:u}}const V_=b2($1,e=>Bp(e,3)<<24|e<<16|e<<8|Bp(e,2)),_2=b2(B5,e=>Bp(e,11)<<24|Bp(e,13)<<16|Bp(e,9)<<8|Bp(e,14)),z5=(()=>{const e=new Uint8Array(16);for(let t=0,n=1;t<16;t++,n=W_(n))e[t]=n;return e})();function S2(e){Uc(e);const t=e.length;if(![16,24,32].includes(t))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${t}`);const{sbox2:n}=V_,r=Qs(e),s=r.length,i=u=>Tl(n,u,u,u,u),c=new Uint32Array(t+28);c.set(r);for(let u=s;u<c.length;u++){let p=c[u-1];u%s===0?p=i(U5(p))^z5[u/s-1]:s>6&&u%s===4&&(p=i(p)),c[u]=c[u-s]^p}return c}function W5(e){const t=S2(e),n=t.slice(),r=t.length,{sbox2:s}=V_,{T0:i,T1:c,T2:u,T3:p}=_2;for(let m=0;m<r;m+=4)for(let y=0;y<4;y++)n[m+y]=t[r-m-4+y];t.fill(0);for(let m=4;m<r-4;m++){const y=n[m],g=Tl(s,y,y,y,y);n[m]=i[g&255]^c[g>>>8&255]^u[g>>>16&255]^p[g>>>24]}return n}function cd(e,t,n,r,s,i){return e[n<<8&65280|r>>>8&255]^t[s>>>8&65280|i>>>24&255]}function Tl(e,t,n,r,s){return e[t&255|n&65280]|e[r>>>16&255|s>>>16&65280]<<16}function Ak(e,t,n,r,s){const{sbox2:i,T01:c,T23:u}=V_;let p=0;t^=e[p++],n^=e[p++],r^=e[p++],s^=e[p++];const m=e.length/4-2;for(let T=0;T<m;T++){const E=e[p++]^cd(c,u,t,n,r,s),N=e[p++]^cd(c,u,n,r,s,t),O=e[p++]^cd(c,u,r,s,t,n),D=e[p++]^cd(c,u,s,t,n,r);t=E,n=N,r=O,s=D}const y=e[p++]^Tl(i,t,n,r,s),g=e[p++]^Tl(i,n,r,s,t),S=e[p++]^Tl(i,r,s,t,n),k=e[p++]^Tl(i,s,t,n,r);return{s0:y,s1:g,s2:S,s3:k}}function V5(e,t,n,r,s){const{sbox2:i,T01:c,T23:u}=_2;let p=0;t^=e[p++],n^=e[p++],r^=e[p++],s^=e[p++];const m=e.length/4-2;for(let T=0;T<m;T++){const E=e[p++]^cd(c,u,t,s,r,n),N=e[p++]^cd(c,u,n,t,s,r),O=e[p++]^cd(c,u,r,n,t,s),D=e[p++]^cd(c,u,s,r,n,t);t=E,n=N,r=O,s=D}const y=e[p++]^Tl(i,t,s,r,n),g=e[p++]^Tl(i,n,t,s,r),S=e[p++]^Tl(i,r,n,t,s),k=e[p++]^Tl(i,s,r,n,t);return{s0:y,s1:g,s2:S,s3:k}}function E2(e,t){if(!t)return new Uint8Array(e);if(Uc(t),t.length<e)throw new Error(`aes: wrong destination length, expected at least ${e}, got: ${t.length}`);return t}function H5(e){if(Uc(e),e.length%dd!==0)throw new Error(`aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size ${dd}`)}function q5(e,t,n){let r=e.length;const s=r%dd;if(!t&&s!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");const i=Qs(e);if(t){let p=dd-s;p||(p=dd),r=r+p}const c=E2(r,n),u=Qs(c);return{b:i,o:u,out:c}}function K5(e,t){if(!t)return e;const n=e.length;if(!n)throw new Error("aes/pcks5: empty ciphertext not allowed");const r=e[n-1];if(r<=0||r>16)throw new Error(`aes/pcks5: wrong padding byte: ${r}`);const s=e.subarray(0,-r);for(let i=0;i<r;i++)if(e[n-i-1]!==r)throw new Error("aes/pcks5: wrong padding");return s}function Y5(e){const t=new Uint8Array(16),n=Qs(t);t.set(e);const r=dd-e.length;for(let s=dd-r;s<dd;s++)t[s]=r;return n}const k2=F5({blockSize:16,nonceLength:16},function(t,n,r={}){Uc(t),Uc(n,16);const s=!r.disablePadding;return{encrypt:(i,c)=>{const u=S2(t),{b:p,o:m,out:y}=q5(i,s,c),g=Qs(n);let S=g[0],k=g[1],T=g[2],E=g[3],N=0;for(;N+4<=p.length;)S^=p[N+0],k^=p[N+1],T^=p[N+2],E^=p[N+3],{s0:S,s1:k,s2:T,s3:E}=Ak(u,S,k,T,E),m[N++]=S,m[N++]=k,m[N++]=T,m[N++]=E;if(s){const O=Y5(i.subarray(N*4));S^=O[0],k^=O[1],T^=O[2],E^=O[3],{s0:S,s1:k,s2:T,s3:E}=Ak(u,S,k,T,E),m[N++]=S,m[N++]=k,m[N++]=T,m[N++]=E}return u.fill(0),y},decrypt:(i,c)=>{H5(i);const u=W5(t),p=Qs(n),m=E2(i.length,c),y=Qs(i),g=Qs(m);let S=p[0],k=p[1],T=p[2],E=p[3];for(let N=0;N+4<=y.length;){const O=S,D=k,M=T,z=E;S=y[N+0],k=y[N+1],T=y[N+2],E=y[N+3];const{s0:q,s1:Y,s2:Z,s3:ae}=V5(u,S,k,T,E);g[N++]=q^O,g[N++]=Y^D,g[N++]=Z^M,g[N++]=ae^z}return u.fill(0),K5(m,s)}}}),C2=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),G5=C2("expand 16-byte k"),Z5=C2("expand 32-byte k"),Q5=Qs(G5),N2=Qs(Z5);N2.slice();function Mn(e,t){return e<<t|e>>>32-t}function B1(e){return e.byteOffset%4===0}const v0=64,X5=16,j2=2**32-1,Rk=new Uint32Array;function J5(e,t,n,r,s,i,c,u){const p=s.length,m=new Uint8Array(v0),y=Qs(m),g=B1(s)&&B1(i),S=g?Qs(s):Rk,k=g?Qs(i):Rk;for(let T=0;T<p;c++){if(e(t,n,r,y,c,u),c>=j2)throw new Error("arx: counter overflow");const E=Math.min(v0,p-T);if(g&&E===v0){const N=T/4;if(T%4!==0)throw new Error("arx: invalid block position");for(let O=0,D;O<X5;O++)D=N+O,k[D]=S[D]^y[O];T+=v0;continue}for(let N=0,O;N<E;N++)O=T+N,i[O]=s[O]^m[N];T+=E}}function eF(e,t){const{allowShortKeys:n,extendNonceFn:r,counterLength:s,counterRight:i,rounds:c}=I5({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return Ab(s),Ab(c),Tk(i),Tk(n),(u,p,m,y,g=0)=>{Uc(u),Uc(p),Uc(m);const S=m.length;if(y||(y=new Uint8Array(S)),Uc(y),Ab(g),g<0||g>=j2)throw new Error("arx: counter overflow");if(y.length<S)throw new Error(`arx: output (${y.length}) is shorter than data (${S})`);const k=[];let T=u.length,E,N;if(T===32)E=u.slice(),k.push(E),N=N2;else if(T===16&&n)E=new Uint8Array(32),E.set(u),E.set(u,16),N=Q5,k.push(E);else throw new Error(`arx: invalid 32-byte key, got length=${T}`);B1(p)||(p=p.slice(),k.push(p));const O=Qs(E);if(r){if(p.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(N,O,Qs(p.subarray(0,16)),O),p=p.subarray(16)}const D=16-s;if(D!==p.length)throw new Error(`arx: nonce must be ${D} or 16 bytes`);if(D!==12){const z=new Uint8Array(12);z.set(p,i?0:12-p.length),p=z,k.push(p)}const M=Qs(p);for(J5(e,N,O,M,m,y,g,c);k.length>0;)k.pop().fill(0);return y}}function tF(e,t,n,r,s,i=20){let c=e[0],u=e[1],p=e[2],m=e[3],y=t[0],g=t[1],S=t[2],k=t[3],T=t[4],E=t[5],N=t[6],O=t[7],D=s,M=n[0],z=n[1],q=n[2],Y=c,Z=u,ae=p,te=m,ye=y,Te=g,Se=S,_e=k,Le=T,ge=E,me=N,de=O,Q=D,J=M,xe=z,K=q;for(let Pe=0;Pe<i;Pe+=2)Y=Y+ye|0,Q=Mn(Q^Y,16),Le=Le+Q|0,ye=Mn(ye^Le,12),Y=Y+ye|0,Q=Mn(Q^Y,8),Le=Le+Q|0,ye=Mn(ye^Le,7),Z=Z+Te|0,J=Mn(J^Z,16),ge=ge+J|0,Te=Mn(Te^ge,12),Z=Z+Te|0,J=Mn(J^Z,8),ge=ge+J|0,Te=Mn(Te^ge,7),ae=ae+Se|0,xe=Mn(xe^ae,16),me=me+xe|0,Se=Mn(Se^me,12),ae=ae+Se|0,xe=Mn(xe^ae,8),me=me+xe|0,Se=Mn(Se^me,7),te=te+_e|0,K=Mn(K^te,16),de=de+K|0,_e=Mn(_e^de,12),te=te+_e|0,K=Mn(K^te,8),de=de+K|0,_e=Mn(_e^de,7),Y=Y+Te|0,K=Mn(K^Y,16),me=me+K|0,Te=Mn(Te^me,12),Y=Y+Te|0,K=Mn(K^Y,8),me=me+K|0,Te=Mn(Te^me,7),Z=Z+Se|0,Q=Mn(Q^Z,16),de=de+Q|0,Se=Mn(Se^de,12),Z=Z+Se|0,Q=Mn(Q^Z,8),de=de+Q|0,Se=Mn(Se^de,7),ae=ae+_e|0,J=Mn(J^ae,16),Le=Le+J|0,_e=Mn(_e^Le,12),ae=ae+_e|0,J=Mn(J^ae,8),Le=Le+J|0,_e=Mn(_e^Le,7),te=te+ye|0,xe=Mn(xe^te,16),ge=ge+xe|0,ye=Mn(ye^ge,12),te=te+ye|0,xe=Mn(xe^te,8),ge=ge+xe|0,ye=Mn(ye^ge,7);let X=0;r[X++]=c+Y|0,r[X++]=u+Z|0,r[X++]=p+ae|0,r[X++]=m+te|0,r[X++]=y+ye|0,r[X++]=g+Te|0,r[X++]=S+Se|0,r[X++]=k+_e|0,r[X++]=T+Le|0,r[X++]=E+ge|0,r[X++]=N+me|0,r[X++]=O+de|0,r[X++]=D+Q|0,r[X++]=M+J|0,r[X++]=z+xe|0,r[X++]=q+K|0}const T2=eF(tF,{counterRight:!1,counterLength:4,allowShortKeys:!1});class A2 extends h2{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,jl.hash(t);const r=_v(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let c=0;c<i.length;c++)i[c]^=54;this.iHash.update(i),this.oHash=t.create();for(let c=0;c<i.length;c++)i[c]^=106;this.oHash.update(i),i.fill(0)}update(t){return jl.exists(this),this.iHash.update(t),this}digestInto(t){jl.exists(this),jl.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:c,outputLen:u}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=c,t.outputLen=u,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Fx=(e,t,n)=>new A2(e,t).update(n).digest();Fx.create=(e,t)=>new A2(e,t);function nF(e,t,n){return jl.hash(e),Fx(e,_v(n),_v(t))}const Pb=new Uint8Array([0]),Pk=new Uint8Array;function rF(e,t,n,r=32){if(jl.hash(e),jl.number(r),r>255*e.outputLen)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/e.outputLen);n===void 0&&(n=Pk);const i=new Uint8Array(s*e.outputLen),c=Fx.create(e,t),u=c._cloneInto(),p=new Uint8Array(c.outputLen);for(let m=0;m<s;m++)Pb[0]=m+1,u.update(m===0?Pk:p).update(n).update(Pb).digestInto(p),i.set(p,e.outputLen*m),c._cloneInto(u);return c.destroy(),u.destroy(),p.fill(0),Pb.fill(0),i.slice(0,r)}var sF=Object.defineProperty,pr=(e,t)=>{for(var n in t)sF(e,n,{get:t[n],enumerable:!0})},Rp=Symbol("verified"),oF=e=>e instanceof Object;function H_(e){if(!oF(e)||typeof e.kind!="number"||typeof e.content!="string"||typeof e.created_at!="number"||typeof e.pubkey!="string"||!e.pubkey.match(/^[a-f0-9]{64}$/)||!Array.isArray(e.tags))return!1;for(let t=0;t<e.tags.length;t++){let n=e.tags[t];if(!Array.isArray(n))return!1;for(let r=0;r<n.length;r++)if(typeof n[r]!="string")return!1}return!0}var iF={};pr(iF,{Queue:()=>uF,QueueNode:()=>R2,binarySearch:()=>q_,insertEventIntoAscendingList:()=>cF,insertEventIntoDescendingList:()=>lF,normalizeURL:()=>aF,utf8Decoder:()=>zc,utf8Encoder:()=>Ra});var zc=new TextDecoder("utf-8"),Ra=new TextEncoder;function aF(e){try{e.indexOf("://")===-1&&(e="wss://"+e);let t=new URL(e);return t.pathname=t.pathname.replace(/\/+/g,"/"),t.pathname.endsWith("/")&&(t.pathname=t.pathname.slice(0,-1)),(t.port==="80"&&t.protocol==="ws:"||t.port==="443"&&t.protocol==="wss:")&&(t.port=""),t.searchParams.sort(),t.hash="",t.toString()}catch{throw new Error(`Invalid URL: ${e}`)}}function lF(e,t){const[n,r]=q_(e,s=>t.id===s.id?0:t.created_at===s.created_at?-1:s.created_at-t.created_at);return r||e.splice(n,0,t),e}function cF(e,t){const[n,r]=q_(e,s=>t.id===s.id?0:t.created_at===s.created_at?-1:t.created_at-s.created_at);return r||e.splice(n,0,t),e}function q_(e,t){let n=0,r=e.length-1;for(;n<=r;){const s=Math.floor((n+r)/2),i=t(e[s]);if(i===0)return[s,!0];i<0?r=s-1:n=s+1}return[n,!1]}var R2=class{constructor(e){Qt(this,"value");Qt(this,"next",null);Qt(this,"prev",null);this.value=e}},uF=class{constructor(){Qt(this,"first");Qt(this,"last");this.first=null,this.last=null}enqueue(e){const t=new R2(e);return this.last?this.last===this.first?(this.last=t,this.last.prev=this.first,this.first.next=t):(t.prev=this.last,this.last.next=t,this.last=t):(this.first=t,this.last=t),!0}dequeue(){if(!this.first)return null;if(this.first===this.last){const t=this.first;return this.first=null,this.last=null,t.value}const e=this.first;return this.first=e.next,this.first&&(this.first.prev=null),e.value}},dF=class{generateSecretKey(){return Zg.utils.randomPrivateKey()}getPublicKey(e){return mo(Zg.getPublicKey(e))}finalizeEvent(e,t){const n=e;return n.pubkey=mo(Zg.getPublicKey(t)),n.id=Wp(n),n.sig=mo(Zg.sign(Wp(n),t)),n[Rp]=!0,n}verifyEvent(e){if(typeof e[Rp]=="boolean")return e[Rp];const t=Wp(e);if(t!==e.id)return e[Rp]=!1,!1;try{const n=Zg.verify(e.sig,t,e.pubkey);return e[Rp]=n,n}catch{return e[Rp]=!1,!1}}};function fF(e){if(!H_(e))throw new Error("can't serialize event with wrong or missing properties");return JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content])}function Wp(e){let t=Rm(Ra.encode(fF(e)));return mo(t)}var $x=new dF,Bx=$x.generateSecretKey,Om=$x.getPublicKey,qi=$x.finalizeEvent,Ux=$x.verifyEvent,hF={};pr(hF,{Application:()=>h6,BadgeAward:()=>_F,BadgeDefinition:()=>i6,BlockedRelaysList:()=>VF,BookmarkList:()=>UF,Bookmarksets:()=>r6,Calendar:()=>w6,CalendarEventRSVP:()=>b6,ChannelCreation:()=>L2,ChannelHideMessage:()=>B2,ChannelMessage:()=>$2,ChannelMetadata:()=>F2,ChannelMuteUser:()=>U2,ClassifiedListing:()=>g6,ClientAuth:()=>W2,CommunitiesList:()=>zF,CommunityDefinition:()=>E6,CommunityPostApproval:()=>AF,Contacts:()=>xF,CreateOrUpdateProduct:()=>c6,CreateOrUpdateStall:()=>l6,Curationsets:()=>s6,Date:()=>y6,DirectMessageRelaysList:()=>YF,DraftClassifiedListing:()=>v6,DraftLong:()=>d6,Emojisets:()=>f6,EncryptedDirectMessage:()=>wF,EventDeletion:()=>bF,FileMetadata:()=>EF,FileServerPreference:()=>GF,Followsets:()=>e6,GenericRepost:()=>G_,Genericlists:()=>t6,GiftWrap:()=>z2,HTTPAuth:()=>Z_,Handlerinformation:()=>S6,Handlerrecommendation:()=>_6,Highlights:()=>LF,InterestsList:()=>qF,Interestsets:()=>a6,JobFeedback:()=>OF,JobRequest:()=>RF,JobResult:()=>PF,Label:()=>TF,LightningPubRPC:()=>QF,LiveChatMessage:()=>kF,LiveEvent:()=>p6,LongFormArticle:()=>u6,Metadata:()=>vF,Mutelist:()=>FF,NWCWalletInfo:()=>ZF,NWCWalletRequest:()=>V2,NWCWalletResponse:()=>XF,NostrConnect:()=>JF,OpenTimestamps:()=>SF,Pinlist:()=>$F,PrivateDirectMessage:()=>I2,ProblemTracker:()=>CF,ProfileBadges:()=>o6,PublicChatsList:()=>WF,Reaction:()=>Y_,RecommendRelay:()=>yF,RelayList:()=>BF,Relaysets:()=>n6,Report:()=>NF,Reporting:()=>jF,Repost:()=>K_,Seal:()=>M2,SearchRelaysList:()=>HF,ShortTextNote:()=>D2,Time:()=>x6,UserEmojiList:()=>KF,UserStatuses:()=>m6,Zap:()=>IF,ZapGoal:()=>DF,ZapRequest:()=>MF,classifyKind:()=>mF,isAddressableKind:()=>Jv,isEphemeralKind:()=>O2,isKind:()=>gF,isParameterizedReplaceableKind:()=>pF,isRegularKind:()=>P2,isReplaceableKind:()=>zx});function P2(e){return 1e3<=e&&e<1e4||[1,2,4,5,6,7,8,16,40,41,42,43,44].includes(e)}function zx(e){return[0,3].includes(e)||1e4<=e&&e<2e4}function O2(e){return 2e4<=e&&e<3e4}function Jv(e){return 3e4<=e&&e<4e4}var pF=Jv;function mF(e){return P2(e)?"regular":zx(e)?"replaceable":O2(e)?"ephemeral":Jv(e)?"parameterized":"unknown"}function gF(e,t){const n=t instanceof Array?t:[t];return H_(e)&&n.includes(e.kind)||!1}var vF=0,D2=1,yF=2,xF=3,wF=4,bF=5,K_=6,Y_=7,_F=8,M2=13,I2=14,G_=16,L2=40,F2=41,$2=42,B2=43,U2=44,SF=1040,z2=1059,EF=1063,kF=1311,CF=1971,NF=1984,jF=1984,TF=1985,AF=4550,RF=5999,PF=6999,OF=7e3,DF=9041,MF=9734,IF=9735,LF=9802,FF=1e4,$F=10001,BF=10002,UF=10003,zF=10004,WF=10005,VF=10006,HF=10007,qF=10015,KF=10030,YF=10050,GF=10096,ZF=13194,QF=21e3,W2=22242,V2=23194,XF=23195,JF=24133,Z_=27235,e6=3e4,t6=30001,n6=30002,r6=30003,s6=30004,o6=30008,i6=30009,a6=30015,l6=30017,c6=30018,u6=30023,d6=30024,f6=30030,h6=30078,p6=30311,m6=30315,g6=30402,v6=30403,y6=31922,x6=31923,w6=31924,b6=31925,_6=31989,S6=31990,E6=34550;function k6(e,t){if(e.ids&&e.ids.indexOf(t.id)===-1||e.kinds&&e.kinds.indexOf(t.kind)===-1||e.authors&&e.authors.indexOf(t.pubkey)===-1)return!1;for(let n in e)if(n[0]==="#"){let r=n.slice(1),s=e[`#${r}`];if(s&&!t.tags.find(([i,c])=>i===n.slice(1)&&s.indexOf(c)!==-1))return!1}return!(e.since&&t.created_at<e.since||e.until&&t.created_at>e.until)}function C6(e,t){for(let n=0;n<e.length;n++)if(k6(e[n],t))return!0;return!1}function H2(e){var t,n,r,s,i,c;if(e.ids&&!e.ids.length||e.kinds&&!e.kinds.length||e.authors&&!e.authors.length)return 0;for(const[u,p]of Object.entries(e))if(u[0]==="#"&&Array.isArray(p)&&!p.length)return 0;return Math.min(Math.max(0,e.limit??1/0),((t=e.ids)==null?void 0:t.length)??1/0,(n=e.authors)!=null&&n.length&&((r=e.kinds)!=null&&r.every(u=>zx(u)))?e.authors.length*e.kinds.length:1/0,(s=e.authors)!=null&&s.length&&((i=e.kinds)!=null&&i.every(u=>Jv(u)))&&((c=e["#d"])!=null&&c.length)?e.authors.length*e.kinds.length*e["#d"].length:1/0)}var N6={};pr(N6,{getHex64:()=>Q_,getInt:()=>q2,getSubscriptionId:()=>j6,matchEventId:()=>T6,matchEventKind:()=>R6,matchEventPubkey:()=>A6});function Q_(e,t){let n=t.length+3,r=e.indexOf(`"${t}":`)+n,s=e.slice(r).indexOf('"')+r+1;return e.slice(s,s+64)}function q2(e,t){let n=t.length,r=e.indexOf(`"${t}":`)+n+3,s=e.slice(r),i=Math.min(s.indexOf(","),s.indexOf("}"));return parseInt(s.slice(0,i),10)}function j6(e){let t=e.slice(0,22).indexOf('"EVENT"');if(t===-1)return null;let n=e.slice(t+7+1).indexOf('"');if(n===-1)return null;let r=t+7+1+n,s=e.slice(r+1,80).indexOf('"');if(s===-1)return null;let i=r+1+s;return e.slice(r+1,i)}function T6(e,t){return t===Q_(e,"id")}function A6(e,t){return t===Q_(e,"pubkey")}function R6(e,t){return t===q2(e,"kind")}var P6={};pr(P6,{makeAuthEvent:()=>O6});function O6(e,t){return{kind:W2,created_at:Math.floor(Date.now()/1e3),tags:[["relay",e],["challenge",t]],content:""}}var D6;try{D6=WebSocket}catch{}var M6;try{M6=WebSocket}catch{}var Ps={};pr(Ps,{BECH32_REGEX:()=>K2,Bech32MaxSize:()=>X_,NostrTypeGuard:()=>I6,decode:()=>Wx,decodeNostrURI:()=>F6,encodeBytes:()=>Hx,naddrEncode:()=>V6,neventEncode:()=>W6,noteEncode:()=>U6,nprofileEncode:()=>z6,npubEncode:()=>B6,nsecEncode:()=>$6});var I6={isNProfile:e=>/^nprofile1[a-z\d]+$/.test(e||""),isNEvent:e=>/^nevent1[a-z\d]+$/.test(e||""),isNAddr:e=>/^naddr1[a-z\d]+$/.test(e||""),isNSec:e=>/^nsec1[a-z\d]{58}$/.test(e||""),isNPub:e=>/^npub1[a-z\d]{58}$/.test(e||""),isNote:e=>/^note1[a-z\d]+$/.test(e||""),isNcryptsec:e=>/^ncryptsec1[a-z\d]+$/.test(e||"")},X_=5e3,K2=/[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}/;function L6(e){const t=new Uint8Array(4);return t[0]=e>>24&255,t[1]=e>>16&255,t[2]=e>>8&255,t[3]=e&255,t}function F6(e){try{return e.startsWith("nostr:")&&(e=e.substring(6)),Wx(e)}catch{return{type:"invalid",data:null}}}function Wx(e){var s,i,c,u,p,m,y;let{prefix:t,words:n}=gm.decode(e,X_),r=new Uint8Array(gm.fromWords(n));switch(t){case"nprofile":{let g=Ob(r);if(!((s=g[0])!=null&&s[0]))throw new Error("missing TLV 0 for nprofile");if(g[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");return{type:"nprofile",data:{pubkey:mo(g[0][0]),relays:g[1]?g[1].map(S=>zc.decode(S)):[]}}}case"nevent":{let g=Ob(r);if(!((i=g[0])!=null&&i[0]))throw new Error("missing TLV 0 for nevent");if(g[0][0].length!==32)throw new Error("TLV 0 should be 32 bytes");if(g[2]&&g[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(g[3]&&g[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"nevent",data:{id:mo(g[0][0]),relays:g[1]?g[1].map(S=>zc.decode(S)):[],author:(c=g[2])!=null&&c[0]?mo(g[2][0]):void 0,kind:(u=g[3])!=null&&u[0]?parseInt(mo(g[3][0]),16):void 0}}}case"naddr":{let g=Ob(r);if(!((p=g[0])!=null&&p[0]))throw new Error("missing TLV 0 for naddr");if(!((m=g[2])!=null&&m[0]))throw new Error("missing TLV 2 for naddr");if(g[2][0].length!==32)throw new Error("TLV 2 should be 32 bytes");if(!((y=g[3])!=null&&y[0]))throw new Error("missing TLV 3 for naddr");if(g[3][0].length!==4)throw new Error("TLV 3 should be 4 bytes");return{type:"naddr",data:{identifier:zc.decode(g[0][0]),pubkey:mo(g[2][0]),kind:parseInt(mo(g[3][0]),16),relays:g[1]?g[1].map(S=>zc.decode(S)):[]}}}case"nsec":return{type:t,data:r};case"npub":case"note":return{type:t,data:mo(r)};default:throw new Error(`unknown prefix ${t}`)}}function Ob(e){let t={},n=e;for(;n.length>0;){let r=n[0],s=n[1],i=n.slice(2,2+s);if(n=n.slice(2+s),i.length<s)throw new Error(`not enough data to read on TLV ${r}`);t[r]=t[r]||[],t[r].push(i)}return t}function $6(e){return Hx("nsec",e)}function B6(e){return Hx("npub",mm(e))}function U6(e){return Hx("note",mm(e))}function Vx(e,t){let n=gm.toWords(t);return gm.encode(e,n,X_)}function Hx(e,t){return Vx(e,t)}function z6(e){let t=J_({0:[mm(e.pubkey)],1:(e.relays||[]).map(n=>Ra.encode(n))});return Vx("nprofile",t)}function W6(e){let t;e.kind!==void 0&&(t=L6(e.kind));let n=J_({0:[mm(e.id)],1:(e.relays||[]).map(r=>Ra.encode(r)),2:e.author?[mm(e.author)]:[],3:t?[new Uint8Array(t)]:[]});return Vx("nevent",n)}function V6(e){let t=new ArrayBuffer(4);new DataView(t).setUint32(0,e.kind,!1);let n=J_({0:[Ra.encode(e.identifier)],1:(e.relays||[]).map(r=>Ra.encode(r)),2:[mm(e.pubkey)],3:[new Uint8Array(t)]});return Vx("naddr",n)}function J_(e){let t=[];return Object.entries(e).reverse().forEach(([n,r])=>{r.forEach(s=>{let i=new Uint8Array(s.length+2);i.set([parseInt(n)],0),i.set([s.length],1),i.set(s,2),t.push(i)})}),Ix(...t)}var U1={};pr(U1,{decrypt:()=>H6,encrypt:()=>Y2});function Y2(e,t,n){const r=e instanceof Uint8Array?mo(e):e,s=Am.getSharedSecret(r,"02"+t),i=G2(s);let c=Uint8Array.from(m2(16)),u=Ra.encode(n),p=k2(i,c).encrypt(u),m=Hc.encode(new Uint8Array(p)),y=Hc.encode(new Uint8Array(c.buffer));return`${m}?iv=${y}`}function H6(e,t,n){const r=e instanceof Uint8Array?mo(e):e;let[s,i]=n.split("?iv="),c=Am.getSharedSecret(r,"02"+t),u=G2(c),p=Hc.decode(i),m=Hc.decode(s),y=k2(u,p).decrypt(m);return zc.decode(y)}function G2(e){return e.slice(1,33)}var q6={};pr(q6,{NIP05_REGEX:()=>eS,isNip05:()=>K6,isValid:()=>Z6,queryProfile:()=>Z2,searchDomain:()=>G6,useFetchImplementation:()=>Y6});var eS=/^(?:([\w.+-]+)@)?([\w_-]+(\.[\w_-]+)+)$/,K6=e=>eS.test(e||""),qx;try{qx=fetch}catch{}function Y6(e){qx=e}async function G6(e,t=""){try{const n=`https://${e}/.well-known/nostr.json?name=${t}`,r=await qx(n,{redirect:"manual"});if(r.status!==200)throw Error("Wrong response code");return(await r.json()).names}catch{return{}}}async function Z2(e){var s;const t=e.match(eS);if(!t)return null;const[,n="_",r]=t;try{const i=`https://${r}/.well-known/nostr.json?name=${n}`,c=await qx(i,{redirect:"manual"});if(c.status!==200)throw Error("Wrong response code");const u=await c.json(),p=u.names[n];return p?{pubkey:p,relays:(s=u.relays)==null?void 0:s[p]}:null}catch{return null}}async function Z6(e,t){const n=await Z2(t);return n?n.pubkey===e:!1}var Q6={};pr(Q6,{parse:()=>X6});function X6(e){const t={reply:void 0,root:void 0,mentions:[],profiles:[],quotes:[]};let n,r;for(let s=e.tags.length-1;s>=0;s--){const i=e.tags[s];if(i[0]==="e"&&i[1]){const[c,u,p,m,y]=i,g={id:u,relays:p?[p]:[],author:y};if(m==="root"){t.root=g;continue}if(m==="reply"){t.reply=g;continue}if(m==="mention"){t.mentions.push(g);continue}n?r=g:n=g,t.mentions.push(g);continue}if(i[0]==="q"&&i[1]){const[c,u,p]=i;t.quotes.push({id:u,relays:p?[p]:[]})}if(i[0]==="p"&&i[1]){t.profiles.push({pubkey:i[1],relays:i[2]?[i[2]]:[]});continue}}return t.root||(t.root=r||n||t.reply),t.reply||(t.reply=n||t.root),[t.reply,t.root].forEach(s=>{if(!s)return;let i=t.mentions.indexOf(s);if(i!==-1&&t.mentions.splice(i,1),s.author){let c=t.profiles.find(u=>u.pubkey===s.author);c&&c.relays&&(s.relays||(s.relays=[]),c.relays.forEach(u=>{var p;((p=s.relays)==null?void 0:p.indexOf(u))===-1&&s.relays.push(u)}),c.relays=s.relays)}}),t.mentions.forEach(s=>{if(s.author){let i=t.profiles.find(c=>c.pubkey===s.author);i&&i.relays&&(s.relays||(s.relays=[]),i.relays.forEach(c=>{s.relays.indexOf(c)===-1&&s.relays.push(c)}),i.relays=s.relays)}}),t}var J6={};pr(J6,{fetchRelayInformation:()=>t8,useFetchImplementation:()=>e8});var Q2;try{Q2=fetch}catch{}function e8(e){Q2=e}async function t8(e){return await(await fetch(e.replace("ws://","http://").replace("wss://","https://"),{headers:{Accept:"application/nostr+json"}})).json()}var n8={};pr(n8,{fastEventHash:()=>J2,getPow:()=>X2,minePow:()=>r8});function X2(e){let t=0;for(let n=0;n<64;n+=8){const r=parseInt(e.substring(n,n+8),16);if(r===0)t+=32;else{t+=Math.clz32(r);break}}return t}function r8(e,t){let n=0;const r=e,s=["nonce",n.toString(),t.toString()];for(r.tags.push(s);;){const i=Math.floor(new Date().getTime()/1e3);if(i!==r.created_at&&(n=0,r.created_at=i),s[1]=(++n).toString(),r.id=J2(r),X2(r.id)>=t)break}return r}function J2(e){return mo(Rm(Ra.encode(JSON.stringify([0,e.pubkey,e.created_at,e.kind,e.tags,e.content]))))}var s8={};pr(s8,{unwrapEvent:()=>m8,unwrapManyEvents:()=>g8,wrapEvent:()=>fj,wrapManyEvents:()=>p8});var o8={};pr(o8,{createRumor:()=>lj,createSeal:()=>cj,createWrap:()=>uj,unwrapEvent:()=>oS,unwrapManyEvents:()=>dj,wrapEvent:()=>Y0,wrapManyEvents:()=>f8});var Vp={};pr(Vp,{decrypt:()=>sS,encrypt:()=>rS,getConversationKey:()=>tS,v2:()=>u8});var ej=1,tj=65535;function tS(e,t){const n=Am.getSharedSecret(e,"02"+t).subarray(1,33);return nF(Rm,n,"nip44-v2")}function nj(e,t){const n=rF(Rm,e,t,76);return{chacha_key:n.subarray(0,32),chacha_nonce:n.subarray(32,44),hmac_key:n.subarray(44,76)}}function nS(e){if(!Number.isSafeInteger(e)||e<1)throw new Error("expected positive integer");if(e<=32)return 32;const t=1<<Math.floor(Math.log2(e-1))+1,n=t<=256?32:t/8;return n*(Math.floor((e-1)/n)+1)}function i8(e){if(!Number.isSafeInteger(e)||e<ej||e>tj)throw new Error("invalid plaintext size: must be between 1 and 65535 bytes");const t=new Uint8Array(2);return new DataView(t.buffer).setUint16(0,e,!1),t}function a8(e){const t=Ra.encode(e),n=t.length,r=i8(n),s=new Uint8Array(nS(n)-n);return Ix(r,t,s)}function l8(e){const t=new DataView(e.buffer).getUint16(0),n=e.subarray(2,2+t);if(t<ej||t>tj||n.length!==t||e.length!==2+nS(t))throw new Error("invalid padding");return zc.decode(n)}function rj(e,t,n){if(n.length!==32)throw new Error("AAD associated data must be 32 bytes");const r=Ix(n,t);return Fx(Rm,e,r)}function c8(e){if(typeof e!="string")throw new Error("payload must be a valid string");const t=e.length;if(t<132||t>87472)throw new Error("invalid payload length: "+t);if(e[0]==="#")throw new Error("unknown encryption version");let n;try{n=Hc.decode(e)}catch(i){throw new Error("invalid base64: "+i.message)}const r=n.length;if(r<99||r>65603)throw new Error("invalid data length: "+r);const s=n[0];if(s!==2)throw new Error("unknown encryption version "+s);return{nonce:n.subarray(1,33),ciphertext:n.subarray(33,-32),mac:n.subarray(-32)}}function rS(e,t,n=m2(32)){const{chacha_key:r,chacha_nonce:s,hmac_key:i}=nj(t,n),c=a8(e),u=T2(r,s,c),p=rj(i,u,n);return Hc.encode(Ix(new Uint8Array([2]),n,u,p))}function sS(e,t){const{nonce:n,ciphertext:r,mac:s}=c8(e),{chacha_key:i,chacha_nonce:c,hmac_key:u}=nj(t,n),p=rj(u,r,n);if(!L5(p,s))throw new Error("invalid MAC");const m=T2(i,c,r);return l8(m)}var u8={utils:{getConversationKey:tS,calcPaddedLen:nS},encrypt:rS,decrypt:sS},d8=2*24*60*60,sj=()=>Math.round(Date.now()/1e3),oj=()=>Math.round(sj()-Math.random()*d8),ij=(e,t)=>tS(e,t),aj=(e,t,n)=>rS(JSON.stringify(e),ij(t,n)),Ok=(e,t)=>JSON.parse(sS(e.content,ij(t,e.pubkey)));function lj(e,t){const n={created_at:sj(),content:"",tags:[],...e,pubkey:Om(t)};return n.id=Wp(n),n}function cj(e,t,n){return qi({kind:M2,content:aj(e,t,n),created_at:oj(),tags:[]},t)}function uj(e,t){const n=Bx();return qi({kind:z2,content:aj(e,n,t),created_at:oj(),tags:[["p",t]]},n)}function Y0(e,t,n){const r=lj(e,t),s=cj(r,t,n);return uj(s,n)}function f8(e,t,n){if(!n||n.length===0)throw new Error("At least one recipient is required.");const r=Om(t),s=[Y0(e,t,r)];return n.forEach(i=>{s.push(Y0(e,t,i))}),s}function oS(e,t){const n=Ok(e,t);return Ok(n,t)}function dj(e,t){let n=[];return e.forEach(r=>{n.push(oS(r,t))}),n.sort((r,s)=>r.created_at-s.created_at),n}function h8(e,t,n,r){const s={created_at:Math.ceil(Date.now()/1e3),kind:I2,tags:[],content:t};return(Array.isArray(e)?e:[e]).forEach(({publicKey:c,relayUrl:u})=>{s.tags.push(u?["p",c,u]:["p",c])}),r&&s.tags.push(["e",r.eventId,r.relayUrl||"","reply"]),n&&s.tags.push(["subject",n]),s}function fj(e,t,n,r,s){const i=h8(t,n,r,s);return Y0(i,e,t.publicKey)}function p8(e,t,n,r,s){if(!t||t.length===0)throw new Error("At least one recipient is required.");return[{publicKey:Om(e)},...t].map(c=>fj(e,c,n,r,s))}var m8=oS,g8=dj,v8={};pr(v8,{finishRepostEvent:()=>y8,getRepostedEvent:()=>x8,getRepostedEventPointer:()=>hj});function y8(e,t,n,r){var c;let s;const i=[...e.tags??[],["e",t.id,n],["p",t.pubkey]];return t.kind===D2?s=K_:(s=G_,i.push(["k",String(t.kind)])),qi({kind:s,tags:i,content:e.content===""||(c=t.tags)!=null&&c.find(u=>u[0]==="-")?"":JSON.stringify(t),created_at:e.created_at},r)}function hj(e){if(![K_,G_].includes(e.kind))return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const s=e.tags[r];s.length>=2&&(s[0]==="e"&&t===void 0?t=s:s[0]==="p"&&n===void 0&&(n=s))}if(t!==void 0)return{id:t[1],relays:[t[2],n==null?void 0:n[2]].filter(r=>typeof r=="string"),author:n==null?void 0:n[1]}}function x8(e,{skipVerification:t}={}){const n=hj(e);if(n===void 0||e.content==="")return;let r;try{r=JSON.parse(e.content)}catch{return}if(r.id===n.id&&!(!t&&!Ux(r)))return r}var w8={};pr(w8,{NOSTR_URI_REGEX:()=>iS,parse:()=>_8,test:()=>b8});var iS=new RegExp(`nostr:(${K2.source})`);function b8(e){return typeof e=="string"&&new RegExp(`^${iS.source}$`).test(e)}function _8(e){const t=e.match(new RegExp(`^${iS.source}$`));if(!t)throw new Error(`Invalid Nostr URI: ${e}`);return{uri:t[0],value:t[1],decoded:Wx(t[1])}}var S8={};pr(S8,{finishReactionEvent:()=>E8,getReactedEventPointer:()=>k8});function E8(e,t,n){const r=t.tags.filter(s=>s.length>=2&&(s[0]==="e"||s[0]==="p"));return qi({...e,kind:Y_,tags:[...e.tags??[],...r,["e",t.id],["p",t.pubkey]],content:e.content??"+"},n)}function k8(e){if(e.kind!==Y_)return;let t,n;for(let r=e.tags.length-1;r>=0&&(t===void 0||n===void 0);r--){const s=e.tags[r];s.length>=2&&(s[0]==="e"&&t===void 0?t=s:s[0]==="p"&&n===void 0&&(n=s))}if(!(t===void 0||n===void 0))return{id:t[1],relays:[t[2],n[2]].filter(r=>r!==void 0),author:n[1]}}var C8={};pr(C8,{parse:()=>j8});var N8=/\W/m,Dk=/\W |\W$|$|,| /m;function*j8(e){const t=e.length;let n=0,r=0;for(;r<t;){let s=e.indexOf(":",r);if(s===-1)break;if(e.substring(s-5,s)==="nostr"){const i=e.substring(s+60).match(N8),c=i?s+60+i.index:t;try{let u,{data:p,type:m}=Wx(e.substring(s+1,c));switch(m){case"npub":u={pubkey:p};break;case"nsec":case"note":r=c+1;continue;default:u=p}n!==s-5&&(yield{type:"text",text:e.substring(n,s-5)}),yield{type:"reference",pointer:u},r=c,n=r;continue}catch{r=s+1;continue}}else if(e.substring(s-5,s)==="https"||e.substring(s-4,s)==="http"){const i=e.substring(s+4).match(Dk),c=i?s+4+i.index:t,u=e[s-1]==="s"?5:4;try{let p=new URL(e.substring(s-u,c));if(p.hostname.indexOf(".")===-1)throw new Error("invalid url");if(n!==s-u&&(yield{type:"text",text:e.substring(n,s-u)}),p.pathname.endsWith(".png")||p.pathname.endsWith(".jpg")||p.pathname.endsWith(".jpeg")||p.pathname.endsWith(".gif")||p.pathname.endsWith(".webp")){yield{type:"image",url:p.toString()},r=c,n=r;continue}if(p.pathname.endsWith(".mp4")||p.pathname.endsWith(".avi")||p.pathname.endsWith(".webm")||p.pathname.endsWith(".mkv")){yield{type:"video",url:p.toString()},r=c,n=r;continue}if(p.pathname.endsWith(".mp3")||p.pathname.endsWith(".aac")||p.pathname.endsWith(".ogg")||p.pathname.endsWith(".opus")){yield{type:"audio",url:p.toString()},r=c,n=r;continue}yield{type:"url",url:p.toString()},r=c,n=r;continue}catch{r=c+1;continue}}else if(e.substring(s-3,s)==="wss"||e.substring(s-2,s)==="ws"){const i=e.substring(s+4).match(Dk),c=i?s+4+i.index:t,u=e[s-1]==="s"?3:2;try{let p=new URL(e.substring(s-u,c));if(p.hostname.indexOf(".")===-1)throw new Error("invalid ws url");n!==s-u&&(yield{type:"text",text:e.substring(n,s-u)}),yield{type:"relay",url:p.toString()},r=c,n=r;continue}catch{r=c+1;continue}}else{r=s+1;continue}}n!==t&&(yield{type:"text",text:e.substring(n)})}var T8={};pr(T8,{channelCreateEvent:()=>A8,channelHideMessageEvent:()=>O8,channelMessageEvent:()=>P8,channelMetadataEvent:()=>R8,channelMuteUserEvent:()=>D8});var A8=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return qi({kind:L2,tags:[...e.tags??[]],content:n,created_at:e.created_at},t)},R8=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return qi({kind:F2,tags:[["e",e.channel_create_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},P8=(e,t)=>{const n=[["e",e.channel_create_event_id,e.relay_url,"root"]];return e.reply_to_channel_message_event_id&&n.push(["e",e.reply_to_channel_message_event_id,e.relay_url,"reply"]),qi({kind:$2,tags:[...n,...e.tags??[]],content:e.content,created_at:e.created_at},t)},O8=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return qi({kind:B2,tags:[["e",e.channel_message_event_id],...e.tags??[]],content:n,created_at:e.created_at},t)},D8=(e,t)=>{let n;if(typeof e.content=="object")n=JSON.stringify(e.content);else if(typeof e.content=="string")n=e.content;else return;return qi({kind:U2,tags:[["p",e.pubkey_to_mute],...e.tags??[]],content:n,created_at:e.created_at},t)},M8={};pr(M8,{EMOJI_SHORTCODE_REGEX:()=>pj,matchAll:()=>I8,regex:()=>aS,replaceAll:()=>L8});var pj=/:(\w+):/,aS=()=>new RegExp(`\\B${pj.source}\\B`,"g");function*I8(e){const t=e.matchAll(aS());for(const n of t)try{const[r,s]=n;yield{shortcode:r,name:s,start:n.index,end:n.index+r.length}}catch{}}function L8(e,t){return e.replaceAll(aS(),(n,r)=>t({shortcode:n,name:r}))}var F8={};pr(F8,{useFetchImplementation:()=>$8,validateGithub:()=>B8});var lS;try{lS=fetch}catch{}function $8(e){lS=e}async function B8(e,t,n){try{return await(await lS(`https://gist.github.com/${t}/${n}/raw`)).text()===`Verifying that I control the following Nostr public key: ${e}`}catch{return!1}}var U8={};pr(U8,{makeNwcRequestEvent:()=>W8,parseConnectionString:()=>z8});function z8(e){const{pathname:t,searchParams:n}=new URL(e),r=t,s=n.get("relay"),i=n.get("secret");if(!r||!s||!i)throw new Error("invalid connection string");return{pubkey:r,relay:s,secret:i}}async function W8(e,t,n){const s=await Y2(t,e,JSON.stringify({method:"pay_invoice",params:{invoice:n}})),i={kind:V2,created_at:Math.round(Date.now()/1e3),content:s,tags:[["p",e]]};return qi(i,t)}var V8={};pr(V8,{normalizeIdentifier:()=>H8});function H8(e){return e=e.trim().toLowerCase(),e=e.normalize("NFKC"),Array.from(e).map(t=>new RegExp("\\p{Letter}","u").test(t)||new RegExp("\\p{Number}","u").test(t)?t:"-").join("")}var q8={};pr(q8,{getZapEndpoint:()=>Y8,makeZapReceipt:()=>Q8,makeZapRequest:()=>G8,useFetchImplementation:()=>K8,validateZapRequest:()=>Z8});var cS;try{cS=fetch}catch{}function K8(e){cS=e}async function Y8(e){try{let t="",{lud06:n,lud16:r}=JSON.parse(e.content);if(n){let{words:c}=gm.decode(n,1e3),u=gm.fromWords(c);t=zc.decode(u)}else if(r){let[c,u]=r.split("@");t=new URL(`/.well-known/lnurlp/${c}`,`https://${u}`).toString()}else return null;let i=await(await cS(t)).json();if(i.allowsNostr&&i.nostrPubkey)return i.callback}catch{}return null}function G8({profile:e,event:t,amount:n,relays:r,comment:s=""}){if(!n)throw new Error("amount not given");if(!e)throw new Error("profile not given");let i={kind:9734,created_at:Math.round(Date.now()/1e3),content:s,tags:[["p",e],["amount",n.toString()],["relays",...r]]};if(t&&typeof t=="string"&&i.tags.push(["e",t]),t&&typeof t=="object"){if(zx(t.kind)){const c=["a",`${t.kind}:${t.pubkey}:`];i.tags.push(c)}else if(Jv(t.kind)){let c=t.tags.find(([p,m])=>p==="d"&&m);if(!c)throw new Error("d tag not found or is empty");const u=["a",`${t.kind}:${t.pubkey}:${c[1]}`];i.tags.push(u)}}return i}function Z8(e){let t;try{t=JSON.parse(e)}catch{return"Invalid zap request JSON."}if(!H_(t))return"Zap request is not a valid Nostr event.";if(!Ux(t))return"Invalid signature on zap request.";let n=t.tags.find(([i,c])=>i==="p"&&c);if(!n)return"Zap request doesn't have a 'p' tag.";if(!n[1].match(/^[a-f0-9]{64}$/))return"Zap request 'p' tag is not valid hex.";let r=t.tags.find(([i,c])=>i==="e"&&c);return r&&!r[1].match(/^[a-f0-9]{64}$/)?"Zap request 'e' tag is not valid hex.":t.tags.find(([i,c])=>i==="relays"&&c)?null:"Zap request doesn't have a 'relays' tag."}function Q8({zapRequest:e,preimage:t,bolt11:n,paidAt:r}){let s=JSON.parse(e),i=s.tags.filter(([u])=>u==="e"||u==="p"||u==="a"),c={kind:9735,created_at:Math.round(r.getTime()/1e3),content:"",tags:[...i,["P",s.pubkey],["bolt11",n],["description",e]]};return t&&c.tags.push(["preimage",t]),c}var X8={};pr(X8,{getToken:()=>J8,hashPayload:()=>uS,unpackEventFromToken:()=>gj,validateEvent:()=>_j,validateEventKind:()=>yj,validateEventMethodTag:()=>wj,validateEventPayloadTag:()=>bj,validateEventTimestamp:()=>vj,validateEventUrlTag:()=>xj,validateToken:()=>e$});var mj="Nostr ";async function J8(e,t,n,r=!1,s){const i={kind:Z_,tags:[["u",e],["method",t]],created_at:Math.round(new Date().getTime()/1e3),content:""};s&&i.tags.push(["payload",uS(s)]);const c=await n(i);return(r?mj:"")+Hc.encode(Ra.encode(JSON.stringify(c)))}async function e$(e,t,n){const r=await gj(e).catch(i=>{throw i});return await _j(r,t,n).catch(i=>{throw i})}async function gj(e){if(!e)throw new Error("Missing token");e=e.replace(mj,"");const t=zc.decode(Hc.decode(e));if(!t||t.length===0||!t.startsWith("{"))throw new Error("Invalid token");return JSON.parse(t)}function vj(e){return e.created_at?Math.round(new Date().getTime()/1e3)-e.created_at<60:!1}function yj(e){return e.kind===Z_}function xj(e,t){const n=e.tags.find(r=>r[0]==="u");return n?n.length>0&&n[1]===t:!1}function wj(e,t){const n=e.tags.find(r=>r[0]==="method");return n?n.length>0&&n[1].toLowerCase()===t.toLowerCase():!1}function uS(e){const t=Rm(Ra.encode(JSON.stringify(e)));return mo(t)}function bj(e,t){const n=e.tags.find(s=>s[0]==="payload");if(!n)return!1;const r=uS(t);return n.length>0&&n[1]===r}async function _j(e,t,n,r){if(!Ux(e))throw new Error("Invalid nostr event, signature invalid");if(!yj(e))throw new Error("Invalid nostr event, kind invalid");if(!vj(e))throw new Error("Invalid nostr event, created_at timestamp invalid");if(!xj(e,t))throw new Error("Invalid nostr event, url tag invalid");if(!wj(e,n))throw new Error("Invalid nostr event, method tag invalid");if(r&&typeof r=="object"&&Object.keys(r).length>0&&!bj(e,r))throw new Error("Invalid nostr event, payload tag does not match request body hash");return!0}var An;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const c of s)i[c]=c;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),c={};for(const u of i)c[u]=s[u];return e.objectValues(c)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&i.push(c);return i},e.find=(s,i)=>{for(const c of s)if(i(c))return c},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(c=>typeof c=="string"?`'${c}'`:c).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(An||(An={}));var z1;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(z1||(z1={}));const _t=An.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Dc=e=>{switch(typeof e){case"undefined":return _t.undefined;case"string":return _t.string;case"number":return isNaN(e)?_t.nan:_t.number;case"boolean":return _t.boolean;case"function":return _t.function;case"bigint":return _t.bigint;case"symbol":return _t.symbol;case"object":return Array.isArray(e)?_t.array:e===null?_t.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?_t.promise:typeof Map<"u"&&e instanceof Map?_t.map:typeof Set<"u"&&e instanceof Set?_t.set:typeof Date<"u"&&e instanceof Date?_t.date:_t.object;default:return _t.unknown}},rt=An.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),t$=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class mi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const c of i.issues)if(c.code==="invalid_union")c.unionErrors.map(s);else if(c.code==="invalid_return_type")s(c.returnTypeError);else if(c.code==="invalid_arguments")s(c.argumentsError);else if(c.path.length===0)r._errors.push(n(c));else{let u=r,p=0;for(;p<c.path.length;){const m=c.path[p];p===c.path.length-1?(u[m]=u[m]||{_errors:[]},u[m]._errors.push(n(c))):u[m]=u[m]||{_errors:[]},u=u[m],p++}}};return s(this),r}static assert(t){if(!(t instanceof mi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,An.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}mi.create=e=>new mi(e);const vm=(e,t)=>{let n;switch(e.code){case rt.invalid_type:e.received===_t.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case rt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,An.jsonStringifyReplacer)}`;break;case rt.unrecognized_keys:n=`Unrecognized key(s) in object: ${An.joinValues(e.keys,", ")}`;break;case rt.invalid_union:n="Invalid input";break;case rt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${An.joinValues(e.options)}`;break;case rt.invalid_enum_value:n=`Invalid enum value. Expected ${An.joinValues(e.options)}, received '${e.received}'`;break;case rt.invalid_arguments:n="Invalid function arguments";break;case rt.invalid_return_type:n="Invalid function return type";break;case rt.invalid_date:n="Invalid date";break;case rt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:An.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case rt.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case rt.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case rt.custom:n="Invalid input";break;case rt.invalid_intersection_types:n="Intersection results could not be merged";break;case rt.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case rt.not_finite:n="Number must be finite";break;default:n=t.defaultError,An.assertNever(e)}return{message:n}};let Sj=vm;function n$(e){Sj=e}function G0(){return Sj}const Z0=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],c={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let u="";const p=r.filter(m=>!!m).slice().reverse();for(const m of p)u=m(c,{data:t,defaultError:u}).message;return{...s,path:i,message:u}},r$=[];function gt(e,t){const n=G0(),r=Z0({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===vm?void 0:vm].filter(s=>!!s)});e.common.issues.push(r)}class Xs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Yt;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const i=await s.key,c=await s.value;r.push({key:i,value:c})}return Xs.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:c}=s;if(i.status==="aborted"||c.status==="aborted")return Yt;i.status==="dirty"&&t.dirty(),c.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof c.value<"u"||s.alwaysSet)&&(r[i.value]=c.value)}return{status:t.value,value:r}}}const Yt=Object.freeze({status:"aborted"}),Up=e=>({status:"dirty",value:e}),go=e=>({status:"valid",value:e}),W1=e=>e.status==="aborted",V1=e=>e.status==="dirty",th=e=>e.status==="valid",Sv=e=>typeof Promise<"u"&&e instanceof Promise;function Q0(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Ej(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Tt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Tt||(Tt={}));var cv,uv;class Il{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Mk=(e,t)=>{if(th(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new mi(e.common.issues);return this._error=n,this._error}}};function un(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(c,u)=>{var p,m;const{message:y}=e;return c.code==="invalid_enum_value"?{message:y??u.defaultError}:typeof u.data>"u"?{message:(p=y??r)!==null&&p!==void 0?p:u.defaultError}:c.code!=="invalid_type"?{message:u.defaultError}:{message:(m=y??n)!==null&&m!==void 0?m:u.defaultError}},description:s}}class vn{get description(){return this._def.description}_getType(t){return Dc(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Dc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Xs,ctx:{common:t.parent.common,data:t.data,parsedType:Dc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Sv(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Dc(t)},i=this._parseSync({data:t,path:s.path,parent:s});return Mk(s,i)}"~validate"(t){var n,r;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Dc(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return th(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((r=(n=i==null?void 0:i.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>th(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Dc(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(Sv(s)?s:Promise.resolve(s));return Mk(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const c=t(s),u=()=>i.addIssue({code:rt.custom,...r(s)});return typeof Promise<"u"&&c instanceof Promise?c.then(p=>p?!0:(u(),!1)):c?!0:(u(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new Pa({schema:this,typeName:qt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ol.create(this,this._def)}nullable(){return wd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Na.create(this)}promise(){return xm.create(this,this._def)}or(t){return Nv.create([this,t],this._def)}and(t){return jv.create(this,t,this._def)}transform(t){return new Pa({...un(this._def),schema:this,typeName:qt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Ov({...un(this._def),innerType:this,defaultValue:n,typeName:qt.ZodDefault})}brand(){return new dS({typeName:qt.ZodBranded,type:this,...un(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Dv({...un(this._def),innerType:this,catchValue:n,typeName:qt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return ey.create(this,t)}readonly(){return Mv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const s$=/^c[^\s-]{8,}$/i,o$=/^[0-9a-z]+$/,i$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,a$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,l$=/^[a-z0-9_-]{21}$/i,c$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,u$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,d$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,f$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Db;const h$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,p$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,m$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,g$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,v$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,y$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,kj="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",x$=new RegExp(`^${kj}$`);function Cj(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function w$(e){return new RegExp(`^${Cj(e)}$`)}function Nj(e){let t=`${kj}T${Cj(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function b$(e,t){return!!((t==="v4"||!t)&&h$.test(e)||(t==="v6"||!t)&&m$.test(e))}function _$(e,t){if(!c$.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function S$(e,t){return!!((t==="v4"||!t)&&p$.test(e)||(t==="v6"||!t)&&g$.test(e))}class Ca extends vn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==_t.string){const i=this._getOrReturnCtx(t);return gt(i,{code:rt.invalid_type,expected:_t.string,received:i.parsedType}),Yt}const r=new Xs;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),gt(s,{code:rt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),gt(s,{code:rt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const c=t.data.length>i.value,u=t.data.length<i.value;(c||u)&&(s=this._getOrReturnCtx(t,s),c?gt(s,{code:rt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):u&&gt(s,{code:rt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")d$.test(t.data)||(s=this._getOrReturnCtx(t,s),gt(s,{validation:"email",code:rt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Db||(Db=new RegExp(f$,"u")),Db.test(t.data)||(s=this._getOrReturnCtx(t,s),gt(s,{validation:"emoji",code:rt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")a$.test(t.data)||(s=this._getOrReturnCtx(t,s),gt(s,{validation:"uuid",code:rt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")l$.test(t.data)||(s=this._getOrReturnCtx(t,s),gt(s,{validation:"nanoid",code:rt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")s$.test(t.data)||(s=this._getOrReturnCtx(t,s),gt(s,{validation:"cuid",code:rt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")o$.test(t.data)||(s=this._getOrReturnCtx(t,s),gt(s,{validation:"cuid2",code:rt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")i$.test(t.data)||(s=this._getOrReturnCtx(t,s),gt(s,{validation:"ulid",code:rt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),gt(s,{validation:"url",code:rt.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),gt(s,{validation:"regex",code:rt.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),gt(s,{code:rt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),gt(s,{code:rt.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),gt(s,{code:rt.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?Nj(i).test(t.data)||(s=this._getOrReturnCtx(t,s),gt(s,{code:rt.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?x$.test(t.data)||(s=this._getOrReturnCtx(t,s),gt(s,{code:rt.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?w$(i).test(t.data)||(s=this._getOrReturnCtx(t,s),gt(s,{code:rt.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?u$.test(t.data)||(s=this._getOrReturnCtx(t,s),gt(s,{validation:"duration",code:rt.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?b$(t.data,i.version)||(s=this._getOrReturnCtx(t,s),gt(s,{validation:"ip",code:rt.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?_$(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),gt(s,{validation:"jwt",code:rt.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?S$(t.data,i.version)||(s=this._getOrReturnCtx(t,s),gt(s,{validation:"cidr",code:rt.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?v$.test(t.data)||(s=this._getOrReturnCtx(t,s),gt(s,{validation:"base64",code:rt.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?y$.test(t.data)||(s=this._getOrReturnCtx(t,s),gt(s,{validation:"base64url",code:rt.invalid_string,message:i.message}),r.dirty()):An.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:rt.invalid_string,...Tt.errToObj(r)})}_addCheck(t){return new Ca({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Tt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Tt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Tt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Tt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Tt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Tt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Tt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Tt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Tt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Tt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Tt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Tt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Tt.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...Tt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Tt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Tt.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Tt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Tt.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Tt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Tt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Tt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Tt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Tt.errToObj(n)})}nonempty(t){return this.min(1,Tt.errToObj(t))}trim(){return new Ca({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ca({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ca({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ca.create=e=>{var t;return new Ca({checks:[],typeName:qt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...un(e)})};function E$(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(e.toFixed(s).replace(".","")),c=parseInt(t.toFixed(s).replace(".",""));return i%c/Math.pow(10,s)}class vd extends vn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==_t.number){const i=this._getOrReturnCtx(t);return gt(i,{code:rt.invalid_type,expected:_t.number,received:i.parsedType}),Yt}let r;const s=new Xs;for(const i of this._def.checks)i.kind==="int"?An.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),gt(r,{code:rt.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),gt(r,{code:rt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),gt(r,{code:rt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?E$(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),gt(r,{code:rt.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),gt(r,{code:rt.not_finite,message:i.message}),s.dirty()):An.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Tt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Tt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Tt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Tt.toString(n))}setLimit(t,n,r,s){return new vd({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Tt.toString(s)}]})}_addCheck(t){return new vd({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Tt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Tt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Tt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Tt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Tt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Tt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Tt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Tt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Tt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&An.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}vd.create=e=>new vd({checks:[],typeName:qt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...un(e)});class yd extends vn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==_t.bigint)return this._getInvalidInput(t);let r;const s=new Xs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),gt(r,{code:rt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),gt(r,{code:rt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),gt(r,{code:rt.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):An.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return gt(n,{code:rt.invalid_type,expected:_t.bigint,received:n.parsedType}),Yt}gte(t,n){return this.setLimit("min",t,!0,Tt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Tt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Tt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Tt.toString(n))}setLimit(t,n,r,s){return new yd({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Tt.toString(s)}]})}_addCheck(t){return new yd({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Tt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Tt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Tt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Tt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Tt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}yd.create=e=>{var t;return new yd({checks:[],typeName:qt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...un(e)})};class Ev extends vn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==_t.boolean){const r=this._getOrReturnCtx(t);return gt(r,{code:rt.invalid_type,expected:_t.boolean,received:r.parsedType}),Yt}return go(t.data)}}Ev.create=e=>new Ev({typeName:qt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...un(e)});class nh extends vn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==_t.date){const i=this._getOrReturnCtx(t);return gt(i,{code:rt.invalid_type,expected:_t.date,received:i.parsedType}),Yt}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return gt(i,{code:rt.invalid_date}),Yt}const r=new Xs;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),gt(s,{code:rt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),gt(s,{code:rt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):An.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new nh({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Tt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Tt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}nh.create=e=>new nh({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:qt.ZodDate,...un(e)});class X0 extends vn{_parse(t){if(this._getType(t)!==_t.symbol){const r=this._getOrReturnCtx(t);return gt(r,{code:rt.invalid_type,expected:_t.symbol,received:r.parsedType}),Yt}return go(t.data)}}X0.create=e=>new X0({typeName:qt.ZodSymbol,...un(e)});class kv extends vn{_parse(t){if(this._getType(t)!==_t.undefined){const r=this._getOrReturnCtx(t);return gt(r,{code:rt.invalid_type,expected:_t.undefined,received:r.parsedType}),Yt}return go(t.data)}}kv.create=e=>new kv({typeName:qt.ZodUndefined,...un(e)});class Cv extends vn{_parse(t){if(this._getType(t)!==_t.null){const r=this._getOrReturnCtx(t);return gt(r,{code:rt.invalid_type,expected:_t.null,received:r.parsedType}),Yt}return go(t.data)}}Cv.create=e=>new Cv({typeName:qt.ZodNull,...un(e)});class ym extends vn{constructor(){super(...arguments),this._any=!0}_parse(t){return go(t.data)}}ym.create=e=>new ym({typeName:qt.ZodAny,...un(e)});class Gf extends vn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return go(t.data)}}Gf.create=e=>new Gf({typeName:qt.ZodUnknown,...un(e)});class qc extends vn{_parse(t){const n=this._getOrReturnCtx(t);return gt(n,{code:rt.invalid_type,expected:_t.never,received:n.parsedType}),Yt}}qc.create=e=>new qc({typeName:qt.ZodNever,...un(e)});class J0 extends vn{_parse(t){if(this._getType(t)!==_t.undefined){const r=this._getOrReturnCtx(t);return gt(r,{code:rt.invalid_type,expected:_t.void,received:r.parsedType}),Yt}return go(t.data)}}J0.create=e=>new J0({typeName:qt.ZodVoid,...un(e)});class Na extends vn{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==_t.array)return gt(n,{code:rt.invalid_type,expected:_t.array,received:n.parsedType}),Yt;if(s.exactLength!==null){const c=n.data.length>s.exactLength.value,u=n.data.length<s.exactLength.value;(c||u)&&(gt(n,{code:c?rt.too_big:rt.too_small,minimum:u?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(gt(n,{code:rt.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(gt(n,{code:rt.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((c,u)=>s.type._parseAsync(new Il(n,c,n.path,u)))).then(c=>Xs.mergeArray(r,c));const i=[...n.data].map((c,u)=>s.type._parseSync(new Il(n,c,n.path,u)));return Xs.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new Na({...this._def,minLength:{value:t,message:Tt.toString(n)}})}max(t,n){return new Na({...this._def,maxLength:{value:t,message:Tt.toString(n)}})}length(t,n){return new Na({...this._def,exactLength:{value:t,message:Tt.toString(n)}})}nonempty(t){return this.min(1,t)}}Na.create=(e,t)=>new Na({type:e,minLength:null,maxLength:null,exactLength:null,typeName:qt.ZodArray,...un(t)});function Lp(e){if(e instanceof br){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ol.create(Lp(r))}return new br({...e._def,shape:()=>t})}else return e instanceof Na?new Na({...e._def,type:Lp(e.element)}):e instanceof Ol?Ol.create(Lp(e.unwrap())):e instanceof wd?wd.create(Lp(e.unwrap())):e instanceof Ll?Ll.create(e.items.map(t=>Lp(t))):e}class br extends vn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=An.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==_t.object){const m=this._getOrReturnCtx(t);return gt(m,{code:rt.invalid_type,expected:_t.object,received:m.parsedType}),Yt}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:c}=this._getCached(),u=[];if(!(this._def.catchall instanceof qc&&this._def.unknownKeys==="strip"))for(const m in s.data)c.includes(m)||u.push(m);const p=[];for(const m of c){const y=i[m],g=s.data[m];p.push({key:{status:"valid",value:m},value:y._parse(new Il(s,g,s.path,m)),alwaysSet:m in s.data})}if(this._def.catchall instanceof qc){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of u)p.push({key:{status:"valid",value:y},value:{status:"valid",value:s.data[y]}});else if(m==="strict")u.length>0&&(gt(s,{code:rt.unrecognized_keys,keys:u}),r.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of u){const g=s.data[y];p.push({key:{status:"valid",value:y},value:m._parse(new Il(s,g,s.path,y)),alwaysSet:y in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of p){const g=await y.key,S=await y.value;m.push({key:g,value:S,alwaysSet:y.alwaysSet})}return m}).then(m=>Xs.mergeObjectSync(r,m)):Xs.mergeObjectSync(r,p)}get shape(){return this._def.shape()}strict(t){return Tt.errToObj,new br({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,i,c,u;const p=(c=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&c!==void 0?c:r.defaultError;return n.code==="unrecognized_keys"?{message:(u=Tt.errToObj(t).message)!==null&&u!==void 0?u:p}:{message:p}}}:{}})}strip(){return new br({...this._def,unknownKeys:"strip"})}passthrough(){return new br({...this._def,unknownKeys:"passthrough"})}extend(t){return new br({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new br({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:qt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new br({...this._def,catchall:t})}pick(t){const n={};return An.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new br({...this._def,shape:()=>n})}omit(t){const n={};return An.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new br({...this._def,shape:()=>n})}deepPartial(){return Lp(this)}partial(t){const n={};return An.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}),new br({...this._def,shape:()=>n})}required(t){const n={};return An.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Ol;)i=i._def.innerType;n[r]=i}}),new br({...this._def,shape:()=>n})}keyof(){return jj(An.objectKeys(this.shape))}}br.create=(e,t)=>new br({shape:()=>e,unknownKeys:"strip",catchall:qc.create(),typeName:qt.ZodObject,...un(t)});br.strictCreate=(e,t)=>new br({shape:()=>e,unknownKeys:"strict",catchall:qc.create(),typeName:qt.ZodObject,...un(t)});br.lazycreate=(e,t)=>new br({shape:e,unknownKeys:"strip",catchall:qc.create(),typeName:qt.ZodObject,...un(t)});class Nv extends vn{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const u of i)if(u.result.status==="valid")return u.result;for(const u of i)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const c=i.map(u=>new mi(u.ctx.common.issues));return gt(n,{code:rt.invalid_union,unionErrors:c}),Yt}if(n.common.async)return Promise.all(r.map(async i=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(s);{let i;const c=[];for(const p of r){const m={...n,common:{...n.common,issues:[]},parent:null},y=p._parseSync({data:n.data,path:n.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!i&&(i={result:y,ctx:m}),m.common.issues.length&&c.push(m.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const u=c.map(p=>new mi(p));return gt(n,{code:rt.invalid_union,unionErrors:u}),Yt}}get options(){return this._def.options}}Nv.create=(e,t)=>new Nv({options:e,typeName:qt.ZodUnion,...un(t)});const Oc=e=>e instanceof Av?Oc(e.schema):e instanceof Pa?Oc(e.innerType()):e instanceof Rv?[e.value]:e instanceof xd?e.options:e instanceof Pv?An.objectValues(e.enum):e instanceof Ov?Oc(e._def.innerType):e instanceof kv?[void 0]:e instanceof Cv?[null]:e instanceof Ol?[void 0,...Oc(e.unwrap())]:e instanceof wd?[null,...Oc(e.unwrap())]:e instanceof dS||e instanceof Mv?Oc(e.unwrap()):e instanceof Dv?Oc(e._def.innerType):[];class Kx extends vn{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==_t.object)return gt(n,{code:rt.invalid_type,expected:_t.object,received:n.parsedType}),Yt;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(gt(n,{code:rt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Yt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const i of n){const c=Oc(i.shape[t]);if(!c.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const u of c){if(s.has(u))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(u)}`);s.set(u,i)}}return new Kx({typeName:qt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...un(r)})}}function H1(e,t){const n=Dc(e),r=Dc(t);if(e===t)return{valid:!0,data:e};if(n===_t.object&&r===_t.object){const s=An.objectKeys(t),i=An.objectKeys(e).filter(u=>s.indexOf(u)!==-1),c={...e,...t};for(const u of i){const p=H1(e[u],t[u]);if(!p.valid)return{valid:!1};c[u]=p.data}return{valid:!0,data:c}}else if(n===_t.array&&r===_t.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const c=e[i],u=t[i],p=H1(c,u);if(!p.valid)return{valid:!1};s.push(p.data)}return{valid:!0,data:s}}else return n===_t.date&&r===_t.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class jv extends vn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,c)=>{if(W1(i)||W1(c))return Yt;const u=H1(i.value,c.value);return u.valid?((V1(i)||V1(c))&&n.dirty(),{status:n.value,value:u.data}):(gt(r,{code:rt.invalid_intersection_types}),Yt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,c])=>s(i,c)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}jv.create=(e,t,n)=>new jv({left:e,right:t,typeName:qt.ZodIntersection,...un(n)});class Ll extends vn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==_t.array)return gt(r,{code:rt.invalid_type,expected:_t.array,received:r.parsedType}),Yt;if(r.data.length<this._def.items.length)return gt(r,{code:rt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Yt;!this._def.rest&&r.data.length>this._def.items.length&&(gt(r,{code:rt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((c,u)=>{const p=this._def.items[u]||this._def.rest;return p?p._parse(new Il(r,c,r.path,u)):null}).filter(c=>!!c);return r.common.async?Promise.all(i).then(c=>Xs.mergeArray(n,c)):Xs.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new Ll({...this._def,rest:t})}}Ll.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ll({items:e,typeName:qt.ZodTuple,rest:null,...un(t)})};class Tv extends vn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==_t.object)return gt(r,{code:rt.invalid_type,expected:_t.object,received:r.parsedType}),Yt;const s=[],i=this._def.keyType,c=this._def.valueType;for(const u in r.data)s.push({key:i._parse(new Il(r,u,r.path,u)),value:c._parse(new Il(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?Xs.mergeObjectAsync(n,s):Xs.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof vn?new Tv({keyType:t,valueType:n,typeName:qt.ZodRecord,...un(r)}):new Tv({keyType:Ca.create(),valueType:t,typeName:qt.ZodRecord,...un(n)})}}class ex extends vn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==_t.map)return gt(r,{code:rt.invalid_type,expected:_t.map,received:r.parsedType}),Yt;const s=this._def.keyType,i=this._def.valueType,c=[...r.data.entries()].map(([u,p],m)=>({key:s._parse(new Il(r,u,r.path,[m,"key"])),value:i._parse(new Il(r,p,r.path,[m,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const p of c){const m=await p.key,y=await p.value;if(m.status==="aborted"||y.status==="aborted")return Yt;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),u.set(m.value,y.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const p of c){const m=p.key,y=p.value;if(m.status==="aborted"||y.status==="aborted")return Yt;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),u.set(m.value,y.value)}return{status:n.value,value:u}}}}ex.create=(e,t,n)=>new ex({valueType:t,keyType:e,typeName:qt.ZodMap,...un(n)});class rh extends vn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==_t.set)return gt(r,{code:rt.invalid_type,expected:_t.set,received:r.parsedType}),Yt;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(gt(r,{code:rt.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(gt(r,{code:rt.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function c(p){const m=new Set;for(const y of p){if(y.status==="aborted")return Yt;y.status==="dirty"&&n.dirty(),m.add(y.value)}return{status:n.value,value:m}}const u=[...r.data.values()].map((p,m)=>i._parse(new Il(r,p,r.path,m)));return r.common.async?Promise.all(u).then(p=>c(p)):c(u)}min(t,n){return new rh({...this._def,minSize:{value:t,message:Tt.toString(n)}})}max(t,n){return new rh({...this._def,maxSize:{value:t,message:Tt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}rh.create=(e,t)=>new rh({valueType:e,minSize:null,maxSize:null,typeName:qt.ZodSet,...un(t)});class Hp extends vn{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==_t.function)return gt(n,{code:rt.invalid_type,expected:_t.function,received:n.parsedType}),Yt;function r(u,p){return Z0({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,G0(),vm].filter(m=>!!m),issueData:{code:rt.invalid_arguments,argumentsError:p}})}function s(u,p){return Z0({data:u,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,G0(),vm].filter(m=>!!m),issueData:{code:rt.invalid_return_type,returnTypeError:p}})}const i={errorMap:n.common.contextualErrorMap},c=n.data;if(this._def.returns instanceof xm){const u=this;return go(async function(...p){const m=new mi([]),y=await u._def.args.parseAsync(p,i).catch(k=>{throw m.addIssue(r(p,k)),m}),g=await Reflect.apply(c,this,y);return await u._def.returns._def.type.parseAsync(g,i).catch(k=>{throw m.addIssue(s(g,k)),m})})}else{const u=this;return go(function(...p){const m=u._def.args.safeParse(p,i);if(!m.success)throw new mi([r(p,m.error)]);const y=Reflect.apply(c,this,m.data),g=u._def.returns.safeParse(y,i);if(!g.success)throw new mi([s(y,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Hp({...this._def,args:Ll.create(t).rest(Gf.create())})}returns(t){return new Hp({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Hp({args:t||Ll.create([]).rest(Gf.create()),returns:n||Gf.create(),typeName:qt.ZodFunction,...un(r)})}}class Av extends vn{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Av.create=(e,t)=>new Av({getter:e,typeName:qt.ZodLazy,...un(t)});class Rv extends vn{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return gt(n,{received:n.data,code:rt.invalid_literal,expected:this._def.value}),Yt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Rv.create=(e,t)=>new Rv({value:e,typeName:qt.ZodLiteral,...un(t)});function jj(e,t){return new xd({values:e,typeName:qt.ZodEnum,...un(t)})}class xd extends vn{constructor(){super(...arguments),cv.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return gt(n,{expected:An.joinValues(r),received:n.parsedType,code:rt.invalid_type}),Yt}if(Q0(this,cv)||Ej(this,cv,new Set(this._def.values)),!Q0(this,cv).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return gt(n,{received:n.data,code:rt.invalid_enum_value,options:r}),Yt}return go(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return xd.create(t,{...this._def,...n})}exclude(t,n=this._def){return xd.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}cv=new WeakMap;xd.create=jj;class Pv extends vn{constructor(){super(...arguments),uv.set(this,void 0)}_parse(t){const n=An.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==_t.string&&r.parsedType!==_t.number){const s=An.objectValues(n);return gt(r,{expected:An.joinValues(s),received:r.parsedType,code:rt.invalid_type}),Yt}if(Q0(this,uv)||Ej(this,uv,new Set(An.getValidEnumValues(this._def.values))),!Q0(this,uv).has(t.data)){const s=An.objectValues(n);return gt(r,{received:r.data,code:rt.invalid_enum_value,options:s}),Yt}return go(t.data)}get enum(){return this._def.values}}uv=new WeakMap;Pv.create=(e,t)=>new Pv({values:e,typeName:qt.ZodNativeEnum,...un(t)});class xm extends vn{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==_t.promise&&n.common.async===!1)return gt(n,{code:rt.invalid_type,expected:_t.promise,received:n.parsedType}),Yt;const r=n.parsedType===_t.promise?n.data:Promise.resolve(n.data);return go(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}xm.create=(e,t)=>new xm({type:e,typeName:qt.ZodPromise,...un(t)});class Pa extends vn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:c=>{gt(r,c),c.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const c=s.transform(r.data,i);if(r.common.async)return Promise.resolve(c).then(async u=>{if(n.value==="aborted")return Yt;const p=await this._def.schema._parseAsync({data:u,path:r.path,parent:r});return p.status==="aborted"?Yt:p.status==="dirty"||n.value==="dirty"?Up(p.value):p});{if(n.value==="aborted")return Yt;const u=this._def.schema._parseSync({data:c,path:r.path,parent:r});return u.status==="aborted"?Yt:u.status==="dirty"||n.value==="dirty"?Up(u.value):u}}if(s.type==="refinement"){const c=u=>{const p=s.refinement(u,i);if(r.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?Yt:(u.status==="dirty"&&n.dirty(),c(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?Yt:(u.status==="dirty"&&n.dirty(),c(u.value).then(()=>({status:n.value,value:u.value}))))}if(s.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!th(c))return c;const u=s.transform(c.value,i);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>th(c)?Promise.resolve(s.transform(c.value,i)).then(u=>({status:n.value,value:u})):c);An.assertNever(s)}}Pa.create=(e,t,n)=>new Pa({schema:e,typeName:qt.ZodEffects,effect:t,...un(n)});Pa.createWithPreprocess=(e,t,n)=>new Pa({schema:t,effect:{type:"preprocess",transform:e},typeName:qt.ZodEffects,...un(n)});class Ol extends vn{_parse(t){return this._getType(t)===_t.undefined?go(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ol.create=(e,t)=>new Ol({innerType:e,typeName:qt.ZodOptional,...un(t)});class wd extends vn{_parse(t){return this._getType(t)===_t.null?go(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wd.create=(e,t)=>new wd({innerType:e,typeName:qt.ZodNullable,...un(t)});class Ov extends vn{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===_t.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ov.create=(e,t)=>new Ov({innerType:e,typeName:qt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...un(t)});class Dv extends vn{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Sv(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new mi(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new mi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Dv.create=(e,t)=>new Dv({innerType:e,typeName:qt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...un(t)});class tx extends vn{_parse(t){if(this._getType(t)!==_t.nan){const r=this._getOrReturnCtx(t);return gt(r,{code:rt.invalid_type,expected:_t.nan,received:r.parsedType}),Yt}return{status:"valid",value:t.data}}}tx.create=e=>new tx({typeName:qt.ZodNaN,...un(e)});const k$=Symbol("zod_brand");class dS extends vn{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ey extends vn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Yt:i.status==="dirty"?(n.dirty(),Up(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Yt:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new ey({in:t,out:n,typeName:qt.ZodPipeline})}}class Mv extends vn{_parse(t){const n=this._def.innerType._parse(t),r=s=>(th(s)&&(s.value=Object.freeze(s.value)),s);return Sv(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Mv.create=(e,t)=>new Mv({innerType:e,typeName:qt.ZodReadonly,...un(t)});function Ik(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function Tj(e,t={},n){return e?ym.create().superRefine((r,s)=>{var i,c;const u=e(r);if(u instanceof Promise)return u.then(p=>{var m,y;if(!p){const g=Ik(t,r),S=(y=(m=g.fatal)!==null&&m!==void 0?m:n)!==null&&y!==void 0?y:!0;s.addIssue({code:"custom",...g,fatal:S})}});if(!u){const p=Ik(t,r),m=(c=(i=p.fatal)!==null&&i!==void 0?i:n)!==null&&c!==void 0?c:!0;s.addIssue({code:"custom",...p,fatal:m})}}):ym.create()}const C$={object:br.lazycreate};var qt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(qt||(qt={}));const N$=(e,t={message:`Input not instance of ${e.name}`})=>Tj(n=>n instanceof e,t),Aj=Ca.create,Rj=vd.create,j$=tx.create,T$=yd.create,Pj=Ev.create,A$=nh.create,R$=X0.create,P$=kv.create,O$=Cv.create,D$=ym.create,M$=Gf.create,I$=qc.create,L$=J0.create,F$=Na.create,$$=br.create,B$=br.strictCreate,U$=Nv.create,z$=Kx.create,W$=jv.create,V$=Ll.create,H$=Tv.create,q$=ex.create,K$=rh.create,Y$=Hp.create,G$=Av.create,Z$=Rv.create,Q$=xd.create,X$=Pv.create,J$=xm.create,Lk=Pa.create,eB=Ol.create,tB=wd.create,nB=Pa.createWithPreprocess,rB=ey.create,sB=()=>Aj().optional(),oB=()=>Rj().optional(),iB=()=>Pj().optional(),aB={string:e=>Ca.create({...e,coerce:!0}),number:e=>vd.create({...e,coerce:!0}),boolean:e=>Ev.create({...e,coerce:!0}),bigint:e=>yd.create({...e,coerce:!0}),date:e=>nh.create({...e,coerce:!0})},lB=Yt;var Ce=Object.freeze({__proto__:null,defaultErrorMap:vm,setErrorMap:n$,getErrorMap:G0,makeIssue:Z0,EMPTY_PATH:r$,addIssueToContext:gt,ParseStatus:Xs,INVALID:Yt,DIRTY:Up,OK:go,isAborted:W1,isDirty:V1,isValid:th,isAsync:Sv,get util(){return An},get objectUtil(){return z1},ZodParsedType:_t,getParsedType:Dc,ZodType:vn,datetimeRegex:Nj,ZodString:Ca,ZodNumber:vd,ZodBigInt:yd,ZodBoolean:Ev,ZodDate:nh,ZodSymbol:X0,ZodUndefined:kv,ZodNull:Cv,ZodAny:ym,ZodUnknown:Gf,ZodNever:qc,ZodVoid:J0,ZodArray:Na,ZodObject:br,ZodUnion:Nv,ZodDiscriminatedUnion:Kx,ZodIntersection:jv,ZodTuple:Ll,ZodRecord:Tv,ZodMap:ex,ZodSet:rh,ZodFunction:Hp,ZodLazy:Av,ZodLiteral:Rv,ZodEnum:xd,ZodNativeEnum:Pv,ZodPromise:xm,ZodEffects:Pa,ZodTransformer:Pa,ZodOptional:Ol,ZodNullable:wd,ZodDefault:Ov,ZodCatch:Dv,ZodNaN:tx,BRAND:k$,ZodBranded:dS,ZodPipeline:ey,ZodReadonly:Mv,custom:Tj,Schema:vn,ZodSchema:vn,late:C$,get ZodFirstPartyTypeKind(){return qt},coerce:aB,any:D$,array:F$,bigint:T$,boolean:Pj,date:A$,discriminatedUnion:z$,effect:Lk,enum:Q$,function:Y$,instanceof:N$,intersection:W$,lazy:G$,literal:Z$,map:q$,nan:j$,nativeEnum:X$,never:I$,null:O$,nullable:tB,number:Rj,object:$$,oboolean:iB,onumber:oB,optional:eB,ostring:sB,pipeline:rB,preprocess:nB,promise:J$,record:H$,set:K$,strictObject:B$,string:Aj,symbol:R$,transformer:Lk,tuple:V$,undefined:P$,union:U$,unknown:M$,void:L$,NEVER:lB,ZodIssueCode:rt,quotelessJson:t$,ZodError:mi});let Xg=class hr{static id(){return Ce.string().regex(/^[0-9a-f]{64}$/)}static event(){return Ce.object({id:hr.id(),kind:Ce.number().int().nonnegative(),pubkey:hr.id(),tags:Ce.string().array().array(),content:Ce.string(),created_at:Ce.number().int().nonnegative(),sig:Ce.string()})}static filter(){return Ce.object({kinds:Ce.number().int().nonnegative().array().optional(),ids:hr.id().array().optional(),authors:hr.id().array().optional(),since:Ce.number().int().nonnegative().optional(),until:Ce.number().int().nonnegative().optional(),limit:Ce.number().int().nonnegative().optional(),search:Ce.string().optional()}).passthrough().transform(t=>{const n=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((r,[s,i])=>((n.includes(s)||s.startsWith("#"))&&(r[s]=i),r),{})})}static bech32(t){return Ce.string().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(n=>t?n.startsWith(`${t}1`):!0)}static relayUrl(){return Ce.string().url().regex(/^wss?:\/\//)}static clientEVENT(){return Ce.tuple([Ce.literal("EVENT"),hr.event()])}static clientREQ(){return Ce.tuple([Ce.literal("REQ"),Ce.string()]).rest(hr.filter())}static clientCOUNT(){return Ce.tuple([Ce.literal("COUNT"),Ce.string()]).rest(hr.filter())}static clientCLOSE(){return Ce.tuple([Ce.literal("CLOSE"),Ce.string()])}static clientAUTH(){return Ce.tuple([Ce.literal("AUTH"),hr.event()])}static clientMsg(){return Ce.union([hr.clientEVENT(),hr.clientREQ(),hr.clientCOUNT(),hr.clientCLOSE(),hr.clientAUTH()])}static relayEVENT(){return Ce.tuple([Ce.literal("EVENT"),Ce.string(),hr.event()])}static relayOK(){return Ce.tuple([Ce.literal("OK"),hr.id(),Ce.boolean(),Ce.string()])}static relayEOSE(){return Ce.tuple([Ce.literal("EOSE"),Ce.string()])}static relayNOTICE(){return Ce.tuple([Ce.literal("NOTICE"),Ce.string()])}static relayCLOSED(){return Ce.tuple([Ce.literal("CLOSED"),Ce.string(),Ce.string()])}static relayAUTH(){return Ce.tuple([Ce.literal("AUTH"),Ce.string()])}static relayCOUNT(){return Ce.tuple([Ce.literal("COUNT"),Ce.string(),Ce.object({count:Ce.number().int().nonnegative(),approximate:Ce.boolean().optional()})])}static relayMsg(){return Ce.union([hr.relayEVENT(),hr.relayOK(),hr.relayEOSE(),hr.relayNOTICE(),hr.relayCLOSED(),hr.relayAUTH(),hr.relayCOUNT()])}static metadata(){return Ce.object({about:Ce.string().optional().catch(void 0),banner:Ce.string().url().optional().catch(void 0),bot:Ce.boolean().optional().catch(void 0),display_name:Ce.string().optional().catch(void 0),lud06:hr.bech32("lnurl").optional().catch(void 0),lud16:Ce.string().email().optional().catch(void 0),name:Ce.string().optional().catch(void 0),nip05:Ce.string().email().optional().catch(void 0),picture:Ce.string().url().optional().catch(void 0),website:Ce.string().url().optional().catch(void 0)}).passthrough()}static connectRequest(){return Ce.object({id:Ce.string(),method:Ce.string(),params:Ce.string().array()})}static connectResponse(){return Ce.object({id:Ce.string(),result:Ce.string(),error:Ce.string().optional()})}static json(){return Ce.string().transform((t,n)=>{try{return JSON.parse(t)}catch{return n.addIssue({code:Ce.ZodIssueCode.custom,message:"Invalid JSON"}),Ce.NEVER}})}};class Oj{constructor({relay:t,pubkey:n,signer:r,timeout:s,encryption:i="nip44"}){Qt(this,"relay");Qt(this,"pubkey");Qt(this,"signer");Qt(this,"timeout");Qt(this,"encryption");Qt(this,"nip04",{encrypt:async(t,n)=>this.cmd("nip04_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip04_decrypt",[t,n])});Qt(this,"nip44",{encrypt:async(t,n)=>this.cmd("nip44_encrypt",[t,n]),decrypt:async(t,n)=>this.cmd("nip44_decrypt",[t,n])});this.relay=t,this.pubkey=n,this.signer=r,this.timeout=s,this.encryption=i}async getPublicKey(){return this.cmd("get_public_key",[])}async signEvent(t){const n=await this.cmd("sign_event",[JSON.stringify(t)]);return Xg.json().pipe(Xg.event()).parse(n)}async getRelays(){const t=await this.cmd("get_relays",[]);return Xg.json().pipe(Ce.record(Ce.string(),Ce.object({read:Ce.boolean(),write:Ce.boolean()}))).parse(t)}async connect(t){const n=[this.pubkey];return t&&n.push(t),this.cmd("connect",n)}async ping(){return this.cmd("ping",[])}async cmd(t,n){const r=typeof this.timeout=="number"?AbortSignal.timeout(this.timeout):void 0,{result:s,error:i}=await this.send({id:crypto.randomUUID(),method:t,params:n},{signal:r});if(i)throw new Error(i);return s}async send(t,n={}){const{signal:r}=n,s=await this.signer.signEvent({kind:24133,content:await this.encrypt(this.pubkey,JSON.stringify(t)),created_at:Math.floor(Date.now()/1e3),tags:[["p",this.pubkey]]}),i=await this.signer.getPublicKey(),c=this.relay.req([{kinds:[24133],authors:[this.pubkey],"#p":[i]}],{signal:r});await this.relay.event(s,{signal:r});for await(const u of c){if(u[0]==="CLOSED")throw new Error("Subscription closed");if(u[0]==="EVENT"){const p=u[2],m=await this.decrypt(this.pubkey,p.content),y=Xg.json().pipe(Xg.connectResponse()).parse(m);if(y.id===t.id)return y}}throw new Error("Unreachable")}async encrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.encrypt(t,n);case"nip44":return this.signer.nip44.encrypt(t,n)}}async decrypt(t,n){switch(this.encryption){case"nip04":return this.signer.nip04.decrypt(t,n);case"nip44":return this.signer.nip44.decrypt(t,n)}}}const cB=new TextEncoder;function uB(e){var n;const t=typeof e;return t!=="object"?t:e===null?"null":((n=e==null?void 0:e.constructor)==null?void 0:n.name)??"object"}function Dj(e){if(typeof e=="string")return cB.encode(e);if(e instanceof Uint8Array)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new TypeError(`The input must be a Uint8Array, a string, or an ArrayBuffer. Received a value of the type ${uB(e)}.`)}const Fk=new TextEncoder().encode("0123456789abcdef");new TextEncoder;const dB=new TextDecoder;function fB(e){const t=Dj(e),n=new Uint8Array(t.length*2);for(let r=0;r<n.length;r++){const s=t[r];n[r*2]=Fk[s>>4],n[r*2+1]=Fk[s&15]}return dB.decode(n)}const jc=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"];function hB(e){const t=Dj(e);let n="",r;const s=t.length;for(r=2;r<s;r+=3)n+=jc[t[r-2]>>2],n+=jc[(t[r-2]&3)<<4|t[r-1]>>4],n+=jc[(t[r-1]&15)<<2|t[r]>>6],n+=jc[t[r]&63];return r===s+1&&(n+=jc[t[r-2]>>2],n+=jc[(t[r-2]&3)<<4],n+="=="),r===s&&(n+=jc[t[r-2]>>2],n+=jc[(t[r-2]&3)<<4|t[r-1]>>4],n+=jc[(t[r-1]&15)<<2],n+="="),n}function pB(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let s=0;s<n;s++)r[s]=t.charCodeAt(s);return r}class mB{constructor(t,n){if(this._retries=0,!Number.isInteger(t)||t<0)throw new Error("Base must be a positive integer or zero");if(n!==void 0&&(!Number.isInteger(n)||n<0))throw new Error("ExpMax must be a undefined, a positive integer or zero");this.base=t,this.expMax=n,this.i=0}get retries(){return this._retries}get current(){return this.base*Math.pow(2,this.i)}next(){return this._retries++,this.i=this.expMax===void 0?this.i+1:Math.min(this.i+1,this.expMax),this.current}reset(){this._retries=0,this.i=0}}class gB{constructor(){this.elements=[]}add(t){this.elements.push(t)}clear(){this.elements.length=0}forEach(t){this.elements.forEach(t)}length(){return this.elements.length}isEmpty(){return this.elements.length===0}peek(){return this.elements[0]}read(){return this.elements.shift()}}var Zn;(function(e){e.open="open",e.close="close",e.error="error",e.message="message",e.retry="retry",e.reconnect="reconnect"})(Zn||(Zn={}));class vB{constructor(t,n,r){var s,i,c,u,p,m,y,g,S,k,T,E,N,O,D;this._closedByUser=!1,this.handleOpenEvent=M=>this.handleEvent(Zn.open,M),this.handleErrorEvent=M=>this.handleEvent(Zn.error,M),this.handleCloseEvent=M=>this.handleEvent(Zn.close,M),this.handleMessageEvent=M=>this.handleEvent(Zn.message,M),this._url=t,this._protocols=n,this._options={buffer:r==null?void 0:r.buffer,retry:{maxRetries:(s=r==null?void 0:r.retry)===null||s===void 0?void 0:s.maxRetries,instantReconnect:(i=r==null?void 0:r.retry)===null||i===void 0?void 0:i.instantReconnect,backoff:(c=r==null?void 0:r.retry)===null||c===void 0?void 0:c.backoff},listeners:{open:[...(p=(u=r==null?void 0:r.listeners)===null||u===void 0?void 0:u.open)!==null&&p!==void 0?p:[]],close:[...(y=(m=r==null?void 0:r.listeners)===null||m===void 0?void 0:m.close)!==null&&y!==void 0?y:[]],error:[...(S=(g=r==null?void 0:r.listeners)===null||g===void 0?void 0:g.error)!==null&&S!==void 0?S:[]],message:[...(T=(k=r==null?void 0:r.listeners)===null||k===void 0?void 0:k.message)!==null&&T!==void 0?T:[]],retry:[...(N=(E=r==null?void 0:r.listeners)===null||E===void 0?void 0:E.retry)!==null&&N!==void 0?N:[]],reconnect:[...(D=(O=r==null?void 0:r.listeners)===null||O===void 0?void 0:O.reconnect)!==null&&D!==void 0?D:[]]}},this._underlyingWebsocket=this.tryConnect()}get url(){return this._url}get protocols(){return this._protocols}get buffer(){return this._options.buffer}get maxRetries(){return this._options.retry.maxRetries}get instantReconnect(){return this._options.retry.instantReconnect}get backoff(){return this._options.retry.backoff}get closedByUser(){return this._closedByUser}get lastConnection(){return this._lastConnection}get underlyingWebsocket(){return this._underlyingWebsocket}get readyState(){return this._underlyingWebsocket.readyState}get bufferedAmount(){return this._underlyingWebsocket.bufferedAmount}get extensions(){return this._underlyingWebsocket.extensions}get binaryType(){return this._underlyingWebsocket.binaryType}set binaryType(t){this._underlyingWebsocket.binaryType=t}send(t){this.closedByUser||(this._underlyingWebsocket.readyState===this._underlyingWebsocket.OPEN?this._underlyingWebsocket.send(t):this.buffer!==void 0&&this.buffer.add(t))}close(t,n){this.cancelScheduledConnectionRetry(),this._closedByUser=!0,this._underlyingWebsocket.close(t,n)}addEventListener(t,n,r){this._options.listeners[t].push({listener:n,options:r})}removeEventListener(t,n,r){const s=i=>i.listener!==n||i.options!==r;this._options.listeners[t]=this._options.listeners[t].filter(s)}tryConnect(){return this._underlyingWebsocket=new WebSocket(this.url,this.protocols),this._underlyingWebsocket.addEventListener(Zn.open,this.handleOpenEvent),this._underlyingWebsocket.addEventListener(Zn.close,this.handleCloseEvent),this._underlyingWebsocket.addEventListener(Zn.error,this.handleErrorEvent),this._underlyingWebsocket.addEventListener(Zn.message,this.handleMessageEvent),this._underlyingWebsocket}clearWebsocket(){this._underlyingWebsocket.removeEventListener(Zn.open,this.handleOpenEvent),this._underlyingWebsocket.removeEventListener(Zn.close,this.handleCloseEvent),this._underlyingWebsocket.removeEventListener(Zn.error,this.handleErrorEvent),this._underlyingWebsocket.removeEventListener(Zn.message,this.handleMessageEvent),this._underlyingWebsocket.close()}dispatchEvent(t,n){const r=this._options.listeners[t],s=[];r.forEach(({listener:i,options:c})=>{i(this,n),(c===void 0||c.once===void 0||!c.once)&&s.push({listener:i,options:c})}),this._options.listeners[t]=s}handleEvent(t,n){switch(t){case Zn.close:this.dispatchEvent(t,n),this.scheduleConnectionRetryIfNeeded();break;case Zn.open:if(this.backoff!==void 0&&this._lastConnection!==void 0){const r={retries:this.backoff.retries,lastConnection:new Date(this._lastConnection)},s=new CustomEvent(Zn.reconnect,{detail:r});this.dispatchEvent(Zn.reconnect,s),this.backoff.reset()}this._lastConnection=new Date,this.dispatchEvent(t,n),this.sendBufferedData();break;case Zn.retry:this.dispatchEvent(t,n),this.clearWebsocket(),this.tryConnect();break;default:this.dispatchEvent(t,n);break}}sendBufferedData(){if(this.buffer!==void 0)for(let t=this.buffer.read();t!==void 0;t=this.buffer.read())this.send(t)}scheduleConnectionRetryIfNeeded(){if(this.closedByUser||this.backoff===void 0)return;const t=r=>{const s=new CustomEvent(Zn.retry,{detail:r});this.handleEvent(Zn.retry,s)},n={backoff:this._options.retry.instantReconnect===!0?0:this.backoff.next(),retries:this._options.retry.instantReconnect===!0?0:this.backoff.retries,lastConnection:this._lastConnection};(this._options.retry.maxRetries===void 0||n.retries<=this._options.retry.maxRetries)&&(this.retryTimeout=globalThis.setTimeout(()=>t(n),n.backoff))}cancelScheduledConnectionRetry(){globalThis.clearTimeout(this.retryTimeout)}}class yB{constructor(t){this._url=t}get url(){return this._url}withProtocols(t){return this._protocols=t,this}get protocols(){return this._protocols}withMaxRetries(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{maxRetries:t})}),this}get maxRetries(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.maxRetries}withInstantReconnect(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{instantReconnect:t})}),this}get instantReconnect(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.instantReconnect}withBackoff(t){var n;return this._options=Object.assign(Object.assign({},this._options),{retry:Object.assign(Object.assign({},(n=this._options)===null||n===void 0?void 0:n.retry),{backoff:t})}),this}get backoff(){var t,n;return(n=(t=this._options)===null||t===void 0?void 0:t.retry)===null||n===void 0?void 0:n.backoff}withBuffer(t){return this._options=Object.assign(Object.assign({},this._options),{buffer:t}),this}get buffer(){var t;return(t=this._options)===null||t===void 0?void 0:t.buffer}onOpen(t,n){return this.addListener(Zn.open,t,n),this}onClose(t,n){return this.addListener(Zn.close,t,n),this}onError(t,n){return this.addListener(Zn.error,t,n),this}onMessage(t,n){return this.addListener(Zn.message,t,n),this}onRetry(t,n){return this.addListener(Zn.retry,t,n),this}onReconnect(t,n){return this.addListener(Zn.reconnect,t,n),this}build(){return new vB(this._url,this._protocols,this._options)}addListener(t,n,r){var s,i,c,u,p,m,y,g,S,k,T,E,N,O,D,M,z,q,Y,Z,ae;return this._options=Object.assign(Object.assign({},this._options),{listeners:{open:(c=(i=(s=this._options)===null||s===void 0?void 0:s.listeners)===null||i===void 0?void 0:i.open)!==null&&c!==void 0?c:[],close:(m=(p=(u=this._options)===null||u===void 0?void 0:u.listeners)===null||p===void 0?void 0:p.close)!==null&&m!==void 0?m:[],error:(S=(g=(y=this._options)===null||y===void 0?void 0:y.listeners)===null||g===void 0?void 0:g.error)!==null&&S!==void 0?S:[],message:(E=(T=(k=this._options)===null||k===void 0?void 0:k.listeners)===null||T===void 0?void 0:T.message)!==null&&E!==void 0?E:[],retry:(D=(O=(N=this._options)===null||N===void 0?void 0:N.listeners)===null||O===void 0?void 0:O.retry)!==null&&D!==void 0?D:[],reconnect:(q=(z=(M=this._options)===null||M===void 0?void 0:M.listeners)===null||z===void 0?void 0:z.reconnect)!==null&&q!==void 0?q:[],[t]:[...(ae=(Z=(Y=this._options)===null||Y===void 0?void 0:Y.listeners)===null||Z===void 0?void 0:Z[t])!==null&&ae!==void 0?ae:[],{listener:n,options:r}]}}),this}}var Lc,Kv,K1;class q1{constructor(t){Rt(this,Kv);Rt(this,Lc);Qt(this,"pubkey");Qt(this,"nip04",{encrypt:async(t,n)=>U1.encrypt(le(this,Lc),t,n),decrypt:async(t,n)=>U1.decrypt(le(this,Lc),t,n)});Qt(this,"nip44",{encrypt:async(t,n)=>{const r=ln(this,Kv,K1).call(this,t);return Vp.v2.encrypt(n,r)},decrypt:async(t,n)=>{const r=ln(this,Kv,K1).call(this,t);return Vp.v2.decrypt(n,r)}});xt(this,Lc,t)}async getPublicKey(){return this.pubkey??(this.pubkey=Om(le(this,Lc)))}async signEvent(t){return qi(t,le(this,Lc))}}Lc=new WeakMap,Kv=new WeakSet,K1=function(t){return Vp.v2.utils.getConversationKey(le(this,Lc),t)};class Zf{constructor(t,n,r){Qt(this,"id");Qt(this,"type");Qt(this,"pubkey");Qt(this,"createdAt");Qt(this,"data");this.id=`${t}:${n}`,this.type=t,this.pubkey=n,this.createdAt=new Date().toISOString(),this.data=r}static fromNsec(t){const n=Ps.decode(t);if(n.type!=="nsec")throw new Error("Invalid nsec");const r=n.data,s=Om(r);return new Zf("nsec",s,{nsec:Ps.nsecEncode(r)})}static async fromBunker(t,n){const{pubkey:r,secret:s,relays:i}=new pv(t);if(!i.length)throw new Error("No relay provided");const c=Bx(),u=Ps.nsecEncode(c),p=new q1(c),m=new Oj({relay:n.group(i),pubkey:r,signer:p,timeout:6e4});await m.connect(s);const y=await m.getPublicKey();return new Zf("bunker",y,{bunkerPubkey:r,clientNsec:u,relays:i})}static async fromExtension(){const t=globalThis.nostr;if(!t)throw new Error("Nostr extension is not available");const n=await t.getPublicKey();return new Zf("extension",n,null)}toJSON(){return{id:this.id,type:this.type,pubkey:this.pubkey,createdAt:this.createdAt,data:this.data}}}const Mj=_.createContext(void 0);function xB(e,t){switch(t.type){case"login.add":{const n=e.filter(r=>r.id!==t.login.id);return t.set?[t.login,...n]:[...n,t.login]}case"login.remove":return e.filter(n=>n.id!==t.id);case"login.set":{const n=e.find(s=>s.id===t.id);if(!n)return e;const r=e.filter(s=>s.id!==t.id);return[n,...r]}case"login.clear":return[];default:return e}}function wB(e){const[t,n]=_.useReducer(xB,[],()=>{const r=localStorage.getItem(e);return r?JSON.parse(r):[]});return _.useEffect(()=>{localStorage.setItem(e,JSON.stringify(t))},[t]),[t,n]}const bB=({children:e,storageKey:t})=>{const[n,r]=wB(t),s={logins:n,addLogin:i=>r({type:"login.add",login:i}),removeLogin:i=>r({type:"login.remove",id:i}),setLogin:i=>r({type:"login.set",id:i}),clearLogins:()=>r({type:"login.clear"})};return d.jsx(Mj.Provider,{value:s,children:e})};class Qf{constructor(t,n,r){Qt(this,"method");Qt(this,"pubkey");Qt(this,"signer");this.method=t,this.pubkey=n,this.signer=r}static fromNsecLogin(t){const n=Ps.decode(t.data.nsec);return new Qf(t.type,t.pubkey,new q1(n.data))}static fromBunkerLogin(t,n){const r=Ps.decode(t.data.clientNsec),s=new q1(r.data);return new Qf(t.type,t.pubkey,new Oj({relay:n.group(t.data.relays),pubkey:t.pubkey,signer:s,timeout:6e4}))}static fromExtensionLogin(t){const n=globalThis.nostr;if(!n)throw new Error("Nostr extension is not available");return new Qf(t.type,t.pubkey,n)}}function fS(){const e=_.useContext(Mj);if(!e)throw new Error("useNostrLogin must be used within a NostrLoginProvider");return e}const Ij=_.createContext(void 0);function Os(){const e=_.useContext(Ij);if(!e)throw new Error("useNostr must be used within a NostrProvider");return e}var Lj,Fj;Lj=Symbol.iterator,Fj=Symbol.toStringTag;var gN,vN,jx,$j;const Sl=class Sl{constructor(t){Rt(this,jx);Qt(this,"cache");Qt(this,gN,"NSet");this.cache=t??new Map}get size(){return this.cache.size}add(t){ln(this,jx,$j).call(this,t);for(const n of this){if(Sl.deletes(n,t)||Sl.replaces(n,t))return this;Sl.replaces(t,n)&&this.delete(n)}return this.cache.set(t.id,t),this}clear(){this.cache.clear()}delete(t){return this.cache.delete(t.id)}forEach(t,n){return this.cache.forEach((r,s)=>t(r,r,this),n)}has(t){return this.cache.has(t.id)}*entries(){for(const t of this.values())yield[t,t]}keys(){return this.values()}*values(){for(const t of Sl.sortEvents([...this.cache.values()]))yield t}[(vN=Lj,gN=Fj,vN)](){return this.values()}static isReplaceable(t){return[0,3].includes(t)||1e4<=t&&t<2e4}static isAddressable(t){return 3e4<=t&&t<4e4}static replaces(t,n){var i,c;const{kind:r,pubkey:s}=t;if(Sl.isReplaceable(r))return r===n.kind&&s===n.pubkey&&Sl.sortEvents([t,n])[0]===t;if(Sl.isAddressable(r)){const u=((i=t.tags.find(([m])=>m==="d"))==null?void 0:i[1])||"",p=((c=n.tags.find(([m])=>m==="d"))==null?void 0:c[1])||"";return r===n.kind&&s===n.pubkey&&Sl.sortEvents([t,n])[0]===t&&u===p}return!1}static deletes(t,n){const{kind:r,pubkey:s,tags:i}=t;if(r===5&&s===n.pubkey){for(const[c,u]of i)if(c==="e"&&u===n.id)return!0}return!1}static sortEvents(t){return t.sort((n,r)=>n.created_at!==r.created_at?r.created_at-n.created_at:n.id.localeCompare(r.id))}union(t){throw new Error("Method not implemented.")}intersection(t){throw new Error("Method not implemented.")}difference(t){throw new Error("Method not implemented.")}symmetricDifference(t){throw new Error("Method not implemented.")}isSubsetOf(t){throw new Error("Method not implemented.")}isSupersetOf(t){throw new Error("Method not implemented.")}isDisjointFrom(t){throw new Error("Method not implemented.")}};jx=new WeakSet,$j=function(t){if(t.kind===5){for(const n of t.tags)if(n[0]==="e"){const r=this.cache.get(n[1]);r&&r.pubkey===t.pubkey&&this.delete(r)}}};let nx=Sl;class Pn{static id(){return Ce.string().regex(/^[0-9a-f]{64}$/)}static event(){return Ce.object({id:Pn.id(),kind:Ce.number().int().nonnegative(),pubkey:Pn.id(),tags:Ce.string().array().array(),content:Ce.string(),created_at:Ce.number().int().nonnegative(),sig:Ce.string()})}static filter(){return Ce.object({kinds:Ce.number().int().nonnegative().array().optional(),ids:Pn.id().array().optional(),authors:Pn.id().array().optional(),since:Ce.number().int().nonnegative().optional(),until:Ce.number().int().nonnegative().optional(),limit:Ce.number().int().nonnegative().optional(),search:Ce.string().optional()}).passthrough().transform(t=>{const n=["kinds","ids","authors","since","until","limit","search"];return Object.entries(t).reduce((r,[s,i])=>((n.includes(s)||s.startsWith("#"))&&(r[s]=i),r),{})})}static bech32(t){return Ce.string().regex(/^[\x21-\x7E]{1,83}1[023456789acdefghjklmnpqrstuvwxyz]{6,}$/).refine(n=>t?n.startsWith(`${t}1`):!0)}static relayUrl(){return Ce.string().url().regex(/^wss?:\/\//)}static clientEVENT(){return Ce.tuple([Ce.literal("EVENT"),Pn.event()])}static clientREQ(){return Ce.tuple([Ce.literal("REQ"),Ce.string()]).rest(Pn.filter())}static clientCOUNT(){return Ce.tuple([Ce.literal("COUNT"),Ce.string()]).rest(Pn.filter())}static clientCLOSE(){return Ce.tuple([Ce.literal("CLOSE"),Ce.string()])}static clientAUTH(){return Ce.tuple([Ce.literal("AUTH"),Pn.event()])}static clientMsg(){return Ce.union([Pn.clientEVENT(),Pn.clientREQ(),Pn.clientCOUNT(),Pn.clientCLOSE(),Pn.clientAUTH()])}static relayEVENT(){return Ce.tuple([Ce.literal("EVENT"),Ce.string(),Pn.event()])}static relayOK(){return Ce.tuple([Ce.literal("OK"),Pn.id(),Ce.boolean(),Ce.string()])}static relayEOSE(){return Ce.tuple([Ce.literal("EOSE"),Ce.string()])}static relayNOTICE(){return Ce.tuple([Ce.literal("NOTICE"),Ce.string()])}static relayCLOSED(){return Ce.tuple([Ce.literal("CLOSED"),Ce.string(),Ce.string()])}static relayAUTH(){return Ce.tuple([Ce.literal("AUTH"),Ce.string()])}static relayCOUNT(){return Ce.tuple([Ce.literal("COUNT"),Ce.string(),Ce.object({count:Ce.number().int().nonnegative(),approximate:Ce.boolean().optional()})])}static relayMsg(){return Ce.union([Pn.relayEVENT(),Pn.relayOK(),Pn.relayEOSE(),Pn.relayNOTICE(),Pn.relayCLOSED(),Pn.relayAUTH(),Pn.relayCOUNT()])}static metadata(){return Ce.object({about:Ce.string().optional().catch(void 0),banner:Ce.string().url().optional().catch(void 0),bot:Ce.boolean().optional().catch(void 0),display_name:Ce.string().optional().catch(void 0),lud06:Pn.bech32("lnurl").optional().catch(void 0),lud16:Ce.string().email().optional().catch(void 0),name:Ce.string().optional().catch(void 0),nip05:Ce.string().email().optional().catch(void 0),picture:Ce.string().url().optional().catch(void 0),website:Ce.string().url().optional().catch(void 0)}).passthrough()}static connectRequest(){return Ce.object({id:Ce.string(),method:Ce.string(),params:Ce.string().array()})}static connectResponse(){return Ce.object({id:Ce.string(),result:Ce.string(),error:Ce.string().optional()})}static json(){return Ce.string().transform((t,n)=>{try{return JSON.parse(t)}catch{return n.addIssue({code:Ce.ZodIssueCode.custom,message:"Invalid JSON"}),Ce.NEVER}})}}class _B{static encodeEvent(t){return hB(JSON.stringify(t))}static decodeEvent(t){const n=pB(t),r=new TextDecoder().decode(n);return Pn.json().pipe(Pn.event()).parse(r)}}var Bj;Bj=Symbol.iterator;class SB{constructor(t){Qt(this,"capacity");Qt(this,"set");this.capacity=t,this.set=new Set}add(t){if(!this.set.has(t)){if(this.set.size>=this.capacity){const n=this.set.values().next().value;n&&this.set.delete(n)}this.set.add(t)}}has(t){return this.set.has(t)}[Bj](){return this.set.values()}}var Uj;Uj=Symbol.asyncIterator;var dm,fm,Yv;class zj{constructor(t){Rt(this,dm,[]);Rt(this,fm);Rt(this,Yv,!1);t!=null&&t.aborted?this.abort():t==null||t.addEventListener("abort",()=>this.abort(),{once:!0})}async*[Uj](){for(;!le(this,Yv);){if(le(this,dm).length){yield le(this,dm).shift();continue}await new Promise(t=>{xt(this,fm,t)})}throw new DOMException("The signal has been aborted","AbortError")}push(t){var n;le(this,dm).push(t),(n=le(this,fm))==null||n.call(this)}abort(){var t;xt(this,Yv,!0),(t=le(this,fm))==null||t.call(this)}}dm=new WeakMap,fm=new WeakMap,Yv=new WeakMap;var Wj;Wj=Symbol.asyncDispose;class hS{constructor(t){Qt(this,"opts");Qt(this,"_relays");this.opts=t,this._relays=new Map}relay(t){const n=this._relays.get(t);if(n)return n;{const r=this.opts.open(t);return this._relays.set(t,r),r}}group(t){return new hS({open:n=>this.relay(n),reqRouter:n=>new Map(t.map(r=>[r,n])),eventRouter:()=>t})}get relays(){return this._relays}async*req(t,n){const r=new AbortController,s=n!=null&&n.signal?AbortSignal.any([n.signal,r.signal]):r.signal,i=n!=null&&n.relays?new Map(n.relays.map(y=>[y,t])):await this.opts.reqRouter(t);if(i.size<1)return;const c=new zj(s),u=new Set,p=new Set,m=new SB(1e3);for(const[y,g]of i.entries()){const S=this.relay(y);(async()=>{for await(const k of S.req(g,{signal:s}))if(k[0]==="EOSE"&&(u.add(y),u.size===i.size&&c.push(k)),k[0]==="CLOSED"&&(p.add(y),p.size===i.size&&c.push(k)),k[0]==="EVENT"){const[,,T]=k;m.has(T.id)||(m.add(T.id),c.push(k))}})().catch(()=>{})}try{for await(const y of c)yield y}finally{r.abort()}}async event(t,n){const r=(n==null?void 0:n.relays)??await this.opts.eventRouter(t);r.length&&await Promise.any(r.map(s=>this.relay(s).event(t,n)))}async query(t,n){const r=new Map,s=new nx(r);if(t.reduce((c,u)=>c+H2(u),0)===0)return[];try{for await(const c of this.req(t,n))if(c[0]==="EOSE"||(c[0]==="EVENT"&&s.add(c[2]),c[0]==="CLOSED"))break}catch{}return t.some(c=>typeof c.search=="string")?[...r.values()]:[...s]}async close(){await Promise.all([...this._relays.values()].map(t=>t.close()))}async[Wj](){await this.close()}}var Vj;Vj=Symbol.asyncDispose;class Hj{constructor(t,n={}){Qt(this,"url");Qt(this,"opts");Qt(this,"socket");Qt(this,"subs");Qt(this,"closedByUser");Qt(this,"idleTimer");Qt(this,"controller");Qt(this,"ee");this.url=t,this.opts=n,this.subs=new Map,this.closedByUser=!1,this.controller=new AbortController,this.ee=new EventTarget,this.socket=this.createSocket(),this.maybeStartIdleTimer()}get subscriptions(){return[...this.subs.values()]}log(t){var n,r;(r=(n=this.opts).log)==null||r.call(n,{...t,url:this.url})}createSocket(){const{backoff:t=new mB(1e3)}=this.opts;return new yB(this.url).withBuffer(new gB).withBackoff(t===!1?void 0:t).onOpen(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"open",readyState:n.readyState});for(const r of this.subs.values())this.send(r)}).onClose(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"close",readyState:n.readyState}),this.subs.size||this.socket.close()}).onReconnect(n=>{this.log({level:"debug",ns:"relay.ws.state",state:"reconnect",readyState:n.readyState})}).onRetry((n,r)=>{this.log({level:"warn",ns:"relay.ws.retry",readyState:n.readyState,backoff:r.detail.backoff})}).onError(n=>{this.log({level:"error",ns:"relay.ws.error",readyState:n.readyState})}).onMessage((n,r)=>{if(typeof r.data!="string"){this.close();return}const s=Pn.json().pipe(Pn.relayMsg()).safeParse(r.data);s.success?(this.log({level:"trace",ns:"relay.ws.message",data:s.data}),this.receive(s.data)):this.log({level:"warn",ns:"relay.ws.message",error:s.error})}).build()}receive(t){const{auth:n,verifyEvent:r=Ux}=this.opts;switch(t[0]){case"EVENT":if(!r(t[2]))break;this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"EOSE":this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t}));break;case"CLOSED":this.subs.delete(t[1]),this.maybeStartIdleTimer(),this.ee.dispatchEvent(new CustomEvent(`sub:${t[1]}`,{detail:t})),this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"OK":this.ee.dispatchEvent(new CustomEvent(`ok:${t[1]}`,{detail:t}));break;case"NOTICE":this.ee.dispatchEvent(new CustomEvent("notice",{detail:t}));break;case"COUNT":this.ee.dispatchEvent(new CustomEvent(`count:${t[1]}`,{detail:t}));break;case"AUTH":n==null||n(t[1]).then(s=>this.send(["AUTH",s])).catch(()=>{})}}send(t){switch(this.log({level:"trace",ns:"relay.ws.send",data:t}),this.wake(),t[0]){case"REQ":this.subs.set(t[1],t);break;case"CLOSE":this.subs.delete(t[1]),this.maybeStartIdleTimer();break;case"EVENT":case"COUNT":return this.socket.send(JSON.stringify(t))}this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify(t))}async*req(t,n={}){const{signal:r}=n,s=crypto.randomUUID(),i=this.on(`sub:${s}`,r),c=["REQ",s,...t];this.send(c);try{for await(const u of i){if(u[0]==="EOSE"&&(yield u),u[0]==="CLOSED")break;if(u[0]==="EVENT")if(C6(t,u[2]))yield u;else continue}}finally{this.send(["CLOSE",s])}}async query(t,n){const r=new nx,s=t.reduce((i,c)=>i+H2(c),0);if(s===0)return[];for await(const i of this.req(t,n)){if(i[0]==="EOSE")break;if(i[0]==="EVENT"&&r.add(i[2]),i[0]==="CLOSED")throw new Error("Subscription closed");if(r.size>=s)break}return[...r]}async event(t,n){const r=this.once(`ok:${t.id}`,n==null?void 0:n.signal);try{this.send(["EVENT",t])}catch(c){throw r.catch(()=>{}),c}const[,,s,i]=await r;if(!s)throw new Error(i)}async count(t,n){const r=crypto.randomUUID(),s=this.once(`count:${r}`,n==null?void 0:n.signal);try{this.send(["COUNT",r,...t])}catch(c){throw s.catch(()=>{}),c}const i=await s;switch(i[0]){case"CLOSED":throw new Error("Subscription closed");case"COUNT":{const[,,c]=i;return c}}}async*on(t,n){const r=n?AbortSignal.any([this.controller.signal,n]):this.controller.signal;if(r.aborted)throw this.abortError();const s=new zj(r),i=c=>s.push(c.detail);this.ee.addEventListener(t,i);try{for await(const c of s)yield c}finally{this.ee.removeEventListener(t,i)}}async once(t,n){for await(const r of this.on(t,n))return r;throw new Error("Unreachable")}abortError(){return new DOMException("The signal has been aborted","AbortError")}maybeStartIdleTimer(){const{idleTimeout:t=3e4}=this.opts;t!==!1&&(this.idleTimer||this.subs.size||this.closedByUser||(this.log({level:"debug",ns:"relay.idletimer",state:"running",timeout:t}),this.idleTimer=setTimeout(()=>{this.log({level:"debug",ns:"relay.idletimer",state:"aborted",timeout:t}),this.socket.close()},t)))}stopIdleTimer(){this.log({level:"debug",ns:"relay.idletimer",state:"stopped"}),clearTimeout(this.idleTimer),this.idleTimer=void 0}wake(){this.stopIdleTimer(),!this.closedByUser&&this.socket.closedByUser?(this.log({level:"debug",ns:"relay.wake",state:"awoken"}),this.socket=this.createSocket()):this.closedByUser||this.socket.closedByUser?this.log({level:"debug",ns:"relay.wake",state:"closed"}):this.log({level:"debug",ns:"relay.wake",state:"awake"})}async close(){this.closedByUser=!0,this.socket.close(),this.stopIdleTimer(),this.controller.abort(),this.socket.readyState!==WebSocket.CLOSED&&await new Promise(t=>{this.socket.addEventListener(Zn.close,t,{once:!0})})}async[Vj](){await this.close()}}function EB({children:e,relays:t}){const[n,r]=_.useState(null);return _.useEffect(()=>{console.log("Initializing NostrProvider with relays:",t);const s=new hS({open(i){return console.log("Opening connection to relay:",i),new Hj(i)},reqRouter(i){const c=new Map(t.map(u=>[u,i]));return console.log("Sending filters to relays:",{filters:JSON.stringify(i,null,2),relays:Array.from(c.keys())}),c},eventRouter(i){return console.log("Received event from relay:",{id:i.id,kind:i.kind,pubkey:i.pubkey}),t}});return r(s),()=>{console.log("Cleaning up NostrProvider"),s.close()}},[t]),n?d.jsx(Ij.Provider,{value:{nostr:n},children:e}):null}var kB=e=>{switch(e){case"success":return jB;case"info":return AB;case"warning":return TB;case"error":return RB;default:return null}},CB=Array(12).fill(0),NB=({visible:e,className:t})=>Ve.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ve.createElement("div",{className:"sonner-spinner"},CB.map((n,r)=>Ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),jB=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),TB=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),AB=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),RB=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),PB=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),OB=()=>{let[e,t]=Ve.useState(document.hidden);return Ve.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Y1=1,DB=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Y1++,i=this.toasts.find(u=>u.id===s),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...e,id:s,title:n}),{...u,...e,id:s,dismissible:c,title:n}):u):this.addToast({title:n,...r,dismissible:c,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,i,c=r.then(async p=>{if(i=["resolve",p],Ve.isValidElement(p))s=!1,this.create({id:n,type:"default",message:p});else if(IB(p)&&!p.ok){s=!1;let m=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,y=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description;this.create({id:n,type:"error",message:m,description:y})}else if(t.success!==void 0){s=!1;let m=typeof t.success=="function"?await t.success(p):t.success,y=typeof t.description=="function"?await t.description(p):t.description;this.create({id:n,type:"success",message:m,description:y})}}).catch(async p=>{if(i=["reject",p],t.error!==void 0){s=!1;let m=typeof t.error=="function"?await t.error(p):t.error,y=typeof t.description=="function"?await t.description(p):t.description;this.create({id:n,type:"error",message:m,description:y})}}).finally(()=>{var p;s&&(this.dismiss(n),n=void 0),(p=t.finally)==null||p.call(t)}),u=()=>new Promise((p,m)=>c.then(()=>i[0]==="reject"?m(i[1]):p(i[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Y1++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Bo=new DB,MB=(e,t)=>{let n=(t==null?void 0:t.id)||Y1++;return Bo.addToast({title:e,...t,id:n}),n},IB=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",LB=MB,FB=()=>Bo.toasts,$B=()=>Bo.getActiveToasts(),It=Object.assign(LB,{success:Bo.success,info:Bo.info,warning:Bo.warning,error:Bo.error,custom:Bo.custom,message:Bo.message,promise:Bo.promise,dismiss:Bo.dismiss,loading:Bo.loading},{getHistory:FB,getToasts:$B});function BB(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}BB(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function y0(e){return e.label!==void 0}var UB=3,zB="32px",WB="16px",$k=4e3,VB=356,HB=14,qB=20,KB=200;function xa(...e){return e.filter(Boolean).join(" ")}function YB(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var GB=e=>{var t,n,r,s,i,c,u,p,m,y,g;let{invert:S,toast:k,unstyled:T,interacting:E,setHeights:N,visibleToasts:O,heights:D,index:M,toasts:z,expanded:q,removeToast:Y,defaultRichColors:Z,closeButton:ae,style:te,cancelButtonStyle:ye,actionButtonStyle:Te,className:Se="",descriptionClassName:_e="",duration:Le,position:ge,gap:me,loadingIcon:de,expandByDefault:Q,classNames:J,icons:xe,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:X}=e,[Pe,Be]=Ve.useState(null),[Fe,Ze]=Ve.useState(null),[Me,at]=Ve.useState(!1),[Oe,wt]=Ve.useState(!1),[At,ut]=Ve.useState(!1),[Gt,nn]=Ve.useState(!1),[On,cr]=Ve.useState(!1),[zn,Xe]=Ve.useState(0),[Ft,Zt]=Ve.useState(0),Vt=Ve.useRef(k.duration||Le||$k),ie=Ve.useRef(null),ve=Ve.useRef(null),Ie=M===0,Je=M+1<=O,He=k.type,Ue=k.dismissible!==!1,ct=k.className||"",Nt=k.descriptionClassName||"",rn=Ve.useMemo(()=>D.findIndex(Lt=>Lt.toastId===k.id)||0,[D,k.id]),fn=Ve.useMemo(()=>{var Lt;return(Lt=k.closeButton)!=null?Lt:ae},[k.closeButton,ae]),mr=Ve.useMemo(()=>k.duration||Le||$k,[k.duration,Le]),Qn=Ve.useRef(0),sr=Ve.useRef(0),Tr=Ve.useRef(0),ht=Ve.useRef(null),[ws,os]=ge.split("-"),qo=Ve.useMemo(()=>D.reduce((Lt,bn,Dn)=>Dn>=rn?Lt:Lt+bn.height,0),[D,rn]),dt=OB(),eo=k.invert||S,Ms=He==="loading";sr.current=Ve.useMemo(()=>rn*me+qo,[rn,qo]),Ve.useEffect(()=>{Vt.current=mr},[mr]),Ve.useEffect(()=>{at(!0)},[]),Ve.useEffect(()=>{let Lt=ve.current;if(Lt){let bn=Lt.getBoundingClientRect().height;return Zt(bn),N(Dn=>[{toastId:k.id,height:bn,position:k.position},...Dn]),()=>N(Dn=>Dn.filter(ur=>ur.toastId!==k.id))}},[N,k.id]),Ve.useLayoutEffect(()=>{if(!Me)return;let Lt=ve.current,bn=Lt.style.height;Lt.style.height="auto";let Dn=Lt.getBoundingClientRect().height;Lt.style.height=bn,Zt(Dn),N(ur=>ur.find(gr=>gr.toastId===k.id)?ur.map(gr=>gr.toastId===k.id?{...gr,height:Dn}:gr):[{toastId:k.id,height:Dn,position:k.position},...ur])},[Me,k.title,k.description,N,k.id]);let bs=Ve.useCallback(()=>{wt(!0),Xe(sr.current),N(Lt=>Lt.filter(bn=>bn.toastId!==k.id)),setTimeout(()=>{Y(k)},KB)},[k,Y,N,sr]);Ve.useEffect(()=>{if(k.promise&&He==="loading"||k.duration===1/0||k.type==="loading")return;let Lt;return q||E||X&&dt?(()=>{if(Tr.current<Qn.current){let bn=new Date().getTime()-Qn.current;Vt.current=Vt.current-bn}Tr.current=new Date().getTime()})():Vt.current!==1/0&&(Qn.current=new Date().getTime(),Lt=setTimeout(()=>{var bn;(bn=k.onAutoClose)==null||bn.call(k,k),bs()},Vt.current)),()=>clearTimeout(Lt)},[q,E,k,He,X,dt,bs]),Ve.useEffect(()=>{k.delete&&bs()},[bs,k.delete]);function Wl(){var Lt,bn,Dn;return xe!=null&&xe.loading?Ve.createElement("div",{className:xa(J==null?void 0:J.loader,(Lt=k==null?void 0:k.classNames)==null?void 0:Lt.loader,"sonner-loader"),"data-visible":He==="loading"},xe.loading):de?Ve.createElement("div",{className:xa(J==null?void 0:J.loader,(bn=k==null?void 0:k.classNames)==null?void 0:bn.loader,"sonner-loader"),"data-visible":He==="loading"},de):Ve.createElement(NB,{className:xa(J==null?void 0:J.loader,(Dn=k==null?void 0:k.classNames)==null?void 0:Dn.loader),visible:He==="loading"})}return Ve.createElement("li",{tabIndex:0,ref:ve,className:xa(Se,ct,J==null?void 0:J.toast,(t=k==null?void 0:k.classNames)==null?void 0:t.toast,J==null?void 0:J.default,J==null?void 0:J[He],(n=k==null?void 0:k.classNames)==null?void 0:n[He]),"data-sonner-toast":"","data-rich-colors":(r=k.richColors)!=null?r:Z,"data-styled":!(k.jsx||k.unstyled||T),"data-mounted":Me,"data-promise":!!k.promise,"data-swiped":On,"data-removed":Oe,"data-visible":Je,"data-y-position":ws,"data-x-position":os,"data-index":M,"data-front":Ie,"data-swiping":At,"data-dismissible":Ue,"data-type":He,"data-invert":eo,"data-swipe-out":Gt,"data-swipe-direction":Fe,"data-expanded":!!(q||Q&&Me),style:{"--index":M,"--toasts-before":M,"--z-index":z.length-M,"--offset":`${Oe?zn:sr.current}px`,"--initial-height":Q?"auto":`${Ft}px`,...te,...k.style},onDragEnd:()=>{ut(!1),Be(null),ht.current=null},onPointerDown:Lt=>{Ms||!Ue||(ie.current=new Date,Xe(sr.current),Lt.target.setPointerCapture(Lt.pointerId),Lt.target.tagName!=="BUTTON"&&(ut(!0),ht.current={x:Lt.clientX,y:Lt.clientY}))},onPointerUp:()=>{var Lt,bn,Dn,ur;if(Gt||!Ue)return;ht.current=null;let gr=Number(((Lt=ve.current)==null?void 0:Lt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ur=Number(((bn=ve.current)==null?void 0:bn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),zr=new Date().getTime()-((Dn=ie.current)==null?void 0:Dn.getTime()),tn=Pe==="x"?gr:Ur,Rn=Math.abs(tn)/zr;if(Math.abs(tn)>=qB||Rn>.11){Xe(sr.current),(ur=k.onDismiss)==null||ur.call(k,k),Ze(Pe==="x"?gr>0?"right":"left":Ur>0?"down":"up"),bs(),nn(!0),cr(!1);return}ut(!1),Be(null)},onPointerMove:Lt=>{var bn,Dn,ur,gr;if(!ht.current||!Ue||((bn=window.getSelection())==null?void 0:bn.toString().length)>0)return;let Ur=Lt.clientY-ht.current.y,zr=Lt.clientX-ht.current.x,tn=(Dn=e.swipeDirections)!=null?Dn:YB(ge);!Pe&&(Math.abs(zr)>1||Math.abs(Ur)>1)&&Be(Math.abs(zr)>Math.abs(Ur)?"x":"y");let Rn={x:0,y:0};Pe==="y"?(tn.includes("top")||tn.includes("bottom"))&&(tn.includes("top")&&Ur<0||tn.includes("bottom")&&Ur>0)&&(Rn.y=Ur):Pe==="x"&&(tn.includes("left")||tn.includes("right"))&&(tn.includes("left")&&zr<0||tn.includes("right")&&zr>0)&&(Rn.x=zr),(Math.abs(Rn.x)>0||Math.abs(Rn.y)>0)&&cr(!0),(ur=ve.current)==null||ur.style.setProperty("--swipe-amount-x",`${Rn.x}px`),(gr=ve.current)==null||gr.style.setProperty("--swipe-amount-y",`${Rn.y}px`)}},fn&&!k.jsx?Ve.createElement("button",{"aria-label":K,"data-disabled":Ms,"data-close-button":!0,onClick:Ms||!Ue?()=>{}:()=>{var Lt;bs(),(Lt=k.onDismiss)==null||Lt.call(k,k)},className:xa(J==null?void 0:J.closeButton,(s=k==null?void 0:k.classNames)==null?void 0:s.closeButton)},(i=xe==null?void 0:xe.close)!=null?i:PB):null,k.jsx||_.isValidElement(k.title)?k.jsx?k.jsx:typeof k.title=="function"?k.title():k.title:Ve.createElement(Ve.Fragment,null,He||k.icon||k.promise?Ve.createElement("div",{"data-icon":"",className:xa(J==null?void 0:J.icon,(c=k==null?void 0:k.classNames)==null?void 0:c.icon)},k.promise||k.type==="loading"&&!k.icon?k.icon||Wl():null,k.type!=="loading"?k.icon||(xe==null?void 0:xe[He])||kB(He):null):null,Ve.createElement("div",{"data-content":"",className:xa(J==null?void 0:J.content,(u=k==null?void 0:k.classNames)==null?void 0:u.content)},Ve.createElement("div",{"data-title":"",className:xa(J==null?void 0:J.title,(p=k==null?void 0:k.classNames)==null?void 0:p.title)},typeof k.title=="function"?k.title():k.title),k.description?Ve.createElement("div",{"data-description":"",className:xa(_e,Nt,J==null?void 0:J.description,(m=k==null?void 0:k.classNames)==null?void 0:m.description)},typeof k.description=="function"?k.description():k.description):null),_.isValidElement(k.cancel)?k.cancel:k.cancel&&y0(k.cancel)?Ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:k.cancelButtonStyle||ye,onClick:Lt=>{var bn,Dn;y0(k.cancel)&&Ue&&((Dn=(bn=k.cancel).onClick)==null||Dn.call(bn,Lt),bs())},className:xa(J==null?void 0:J.cancelButton,(y=k==null?void 0:k.classNames)==null?void 0:y.cancelButton)},k.cancel.label):null,_.isValidElement(k.action)?k.action:k.action&&y0(k.action)?Ve.createElement("button",{"data-button":!0,"data-action":!0,style:k.actionButtonStyle||Te,onClick:Lt=>{var bn,Dn;y0(k.action)&&((Dn=(bn=k.action).onClick)==null||Dn.call(bn,Lt),!Lt.defaultPrevented&&bs())},className:xa(J==null?void 0:J.actionButton,(g=k==null?void 0:k.classNames)==null?void 0:g.actionButton)},k.action.label):null))};function Bk(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function ZB(e,t){let n={};return[e,t].forEach((r,s)=>{let i=s===1,c=i?"--mobile-offset":"--offset",u=i?WB:zB;function p(m){["top","right","bottom","left"].forEach(y=>{n[`${c}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?p(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?n[`${c}-${m}`]=u:n[`${c}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):p(u)}),n}var QB=_.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:c,className:u,offset:p,mobileOffset:m,theme:y="light",richColors:g,duration:S,style:k,visibleToasts:T=UB,toastOptions:E,dir:N=Bk(),gap:O=HB,loadingIcon:D,icons:M,containerAriaLabel:z="Notifications",pauseWhenPageIsHidden:q}=e,[Y,Z]=Ve.useState([]),ae=Ve.useMemo(()=>Array.from(new Set([r].concat(Y.filter(X=>X.position).map(X=>X.position)))),[Y,r]),[te,ye]=Ve.useState([]),[Te,Se]=Ve.useState(!1),[_e,Le]=Ve.useState(!1),[ge,me]=Ve.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),de=Ve.useRef(null),Q=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),J=Ve.useRef(null),xe=Ve.useRef(!1),K=Ve.useCallback(X=>{Z(Pe=>{var Be;return(Be=Pe.find(Fe=>Fe.id===X.id))!=null&&Be.delete||Bo.dismiss(X.id),Pe.filter(({id:Fe})=>Fe!==X.id)})},[]);return Ve.useEffect(()=>Bo.subscribe(X=>{if(X.dismiss){Z(Pe=>Pe.map(Be=>Be.id===X.id?{...Be,delete:!0}:Be));return}setTimeout(()=>{DN.flushSync(()=>{Z(Pe=>{let Be=Pe.findIndex(Fe=>Fe.id===X.id);return Be!==-1?[...Pe.slice(0,Be),{...Pe[Be],...X},...Pe.slice(Be+1)]:[X,...Pe]})})})}),[]),Ve.useEffect(()=>{if(y!=="system"){me(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?me("dark"):me("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:Pe})=>{me(Pe?"dark":"light")})}catch{X.addListener(({matches:Be})=>{try{me(Be?"dark":"light")}catch(Fe){console.error(Fe)}})}},[y]),Ve.useEffect(()=>{Y.length<=1&&Se(!1)},[Y]),Ve.useEffect(()=>{let X=Pe=>{var Be,Fe;s.every(Ze=>Pe[Ze]||Pe.code===Ze)&&(Se(!0),(Be=de.current)==null||Be.focus()),Pe.code==="Escape"&&(document.activeElement===de.current||(Fe=de.current)!=null&&Fe.contains(document.activeElement))&&Se(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),Ve.useEffect(()=>{if(de.current)return()=>{J.current&&(J.current.focus({preventScroll:!0}),J.current=null,xe.current=!1)}},[de.current]),Ve.createElement("section",{ref:t,"aria-label":`${z} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},ae.map((X,Pe)=>{var Be;let[Fe,Ze]=X.split("-");return Y.length?Ve.createElement("ol",{key:X,dir:N==="auto"?Bk():N,tabIndex:-1,ref:de,className:u,"data-sonner-toaster":!0,"data-theme":ge,"data-y-position":Fe,"data-lifted":Te&&Y.length>1&&!i,"data-x-position":Ze,style:{"--front-toast-height":`${((Be=te[0])==null?void 0:Be.height)||0}px`,"--width":`${VB}px`,"--gap":`${O}px`,...k,...ZB(p,m)},onBlur:Me=>{xe.current&&!Me.currentTarget.contains(Me.relatedTarget)&&(xe.current=!1,J.current&&(J.current.focus({preventScroll:!0}),J.current=null))},onFocus:Me=>{Me.target instanceof HTMLElement&&Me.target.dataset.dismissible==="false"||xe.current||(xe.current=!0,J.current=Me.relatedTarget)},onMouseEnter:()=>Se(!0),onMouseMove:()=>Se(!0),onMouseLeave:()=>{_e||Se(!1)},onDragEnd:()=>Se(!1),onPointerDown:Me=>{Me.target instanceof HTMLElement&&Me.target.dataset.dismissible==="false"||Le(!0)},onPointerUp:()=>Le(!1)},Y.filter(Me=>!Me.position&&Pe===0||Me.position===X).map((Me,at)=>{var Oe,wt;return Ve.createElement(GB,{key:Me.id,icons:M,index:at,toast:Me,defaultRichColors:g,duration:(Oe=E==null?void 0:E.duration)!=null?Oe:S,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:n,visibleToasts:T,closeButton:(wt=E==null?void 0:E.closeButton)!=null?wt:c,interacting:_e,position:X,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,removeToast:K,toasts:Y.filter(At=>At.position==Me.position),heights:te.filter(At=>At.position==Me.position),setHeights:ye,expandByDefault:i,gap:O,loadingIcon:D,expanded:Te,pauseWhenPageIsHidden:q,swipeDirections:e.swipeDirections})})):null}))});/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qj=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:c,...u},p)=>_.createElement("svg",{ref:p,...JB,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:qj("lucide",s),...u},[...c.map(([m,y])=>_.createElement(m,y)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=(e,t)=>{const n=_.forwardRef(({className:r,...s},i)=>_.createElement(eU,{ref:i,iconNode:t,className:qj(`lucide-${XB(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Jt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=Jt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=Jt("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=Jt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=Jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=Jt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=Jt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=Jt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=Jt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=Jt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=Jt("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=Jt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=Jt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=Jt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=Jt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=Jt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=Jt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=Jt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=Jt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Jt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=Jt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=Jt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=Jt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=Jt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=Jt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=Jt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=Jt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=Jt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=Jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=Jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=Jt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=Jt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=Jt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=Jt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=Jt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=Jt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=Jt("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=Jt("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=Jt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=Jt("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=Jt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=Jt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=Jt("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=Jt("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=Jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=Jt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Lb=768;function Xj(){const[e,t]=_.useState(void 0);return _.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Lb-1}px)`),r=()=>{t(window.innerWidth<Lb)};return n.addEventListener("change",r),t(window.innerWidth<Lb),()=>n.removeEventListener("change",r)},[]),!!e}function Jc(e){const{nostr:t}=Os();return xs({queryKey:["author",e??""],queryFn:async({signal:n})=>{if(!e)return{};const[r]=await t.query([{kinds:[0],authors:[e],limit:1}],{signal:AbortSignal.any([n,AbortSignal.timeout(1500)])});if(!r)throw new Error("No event found");try{return{metadata:Pn.json().pipe(Pn.metadata()).parse(r.content),event:r}}catch{return{event:r}}},retry:3})}function lr(){const{nostr:e}=Os(),{logins:t}=fS(),n=_.useCallback(c=>{switch(c.type){case"nsec":return Qf.fromNsecLogin(c);case"bunker":return Qf.fromBunkerLogin(c,e);case"extension":return Qf.fromExtensionLogin(c);default:throw new Error(`Unsupported login type: ${c.type}`)}},[e]),r=_.useMemo(()=>{const c=[];for(const u of t)try{const p=n(u);c.push(p)}catch(p){console.warn("Skipped invalid login",u.id,p)}return c},[t,n]),s=r[0],i=Jc(s==null?void 0:s.pubkey);return{user:s,users:r,...i.data}}function Vk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Kc(...e){return t=>{let n=!1;const r=e.map(s=>{const i=Vk(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():Vk(e[s],null)}}}}function dn(...e){return _.useCallback(Kc(...e),e)}function bd(e){const t=EU(e),n=_.forwardRef((r,s)=>{const{children:i,...c}=r,u=_.Children.toArray(i),p=u.find(kU);if(p){const m=p.props.children,y=u.map(g=>g===p?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:g);return d.jsx(t,{...c,ref:s,children:_.isValidElement(m)?_.cloneElement(m,void 0,y):null})}return d.jsx(t,{...c,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var fh=bd("Slot");function EU(e){const t=_.forwardRef((n,r)=>{const{children:s,...i}=n;if(_.isValidElement(s)){const c=NU(s),u=CU(i,s.props);return s.type!==_.Fragment&&(u.ref=r?Kc(r,c):c),_.cloneElement(s,u)}return _.Children.count(s)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Jj=Symbol("radix.slottable");function eT(e){const t=({children:n})=>d.jsx(d.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Jj,t}function kU(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jj}function CU(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...u)=>{i(...u),s(...u)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function NU(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function tT(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=tT(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function nT(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=tT(e))&&(r&&(r+=" "),r+=t);return r}const vS="-",jU=e=>{const t=AU(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{const u=c.split(vS);return u[0]===""&&u.length!==1&&u.shift(),rT(u,t)||TU(c)},getConflictingClassGroupIds:(c,u)=>{const p=n[c]||[];return u&&r[c]?[...p,...r[c]]:p}}},rT=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?rT(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(vS);return(c=t.validators.find(({validator:u})=>u(i)))==null?void 0:c.classGroupId},Hk=/^\[(.+)\]$/,TU=e=>{if(Hk.test(e)){const t=Hk.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},AU=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return PU(Object.entries(e.classGroups),n).forEach(([i,c])=>{J1(c,r,i,t)}),r},J1=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:qk(t,s);i.classGroupId=n;return}if(typeof s=="function"){if(RU(s)){J1(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,c])=>{J1(c,qk(t,i),n,r)})})},qk=(e,t)=>{let n=e;return t.split(vS).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},RU=e=>e.isThemeGetter,PU=(e,t)=>t?e.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([c,u])=>[t+c,u])):i);return[n,s]}):e,OU=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(i,c)=>{n.set(i,c),t++,t>e&&(t=0,r=n,n=new Map)};return{get(i){let c=n.get(i);if(c!==void 0)return c;if((c=r.get(i))!==void 0)return s(i,c),c},set(i,c){n.has(i)?n.set(i,c):s(i,c)}}},sT="!",DU=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],i=t.length,c=u=>{const p=[];let m=0,y=0,g;for(let N=0;N<u.length;N++){let O=u[N];if(m===0){if(O===s&&(r||u.slice(N,N+i)===t)){p.push(u.slice(y,N)),y=N+i;continue}if(O==="/"){g=N;continue}}O==="["?m++:O==="]"&&m--}const S=p.length===0?u:u.substring(y),k=S.startsWith(sT),T=k?S.substring(1):S,E=g&&g>y?g-y:void 0;return{modifiers:p,hasImportantModifier:k,baseClassName:T,maybePostfixModifierPosition:E}};return n?u=>n({className:u,parseClassName:c}):c},MU=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},IU=e=>({cache:OU(e.cacheSize),parseClassName:DU(e),...jU(e)}),LU=/\s+/,FU=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,i=[],c=e.trim().split(LU);let u="";for(let p=c.length-1;p>=0;p-=1){const m=c[p],{modifiers:y,hasImportantModifier:g,baseClassName:S,maybePostfixModifierPosition:k}=n(m);let T=!!k,E=r(T?S.substring(0,k):S);if(!E){if(!T){u=m+(u.length>0?" "+u:u);continue}if(E=r(S),!E){u=m+(u.length>0?" "+u:u);continue}T=!1}const N=MU(y).join(":"),O=g?N+sT:N,D=O+E;if(i.includes(D))continue;i.push(D);const M=s(E,T);for(let z=0;z<M.length;++z){const q=M[z];i.push(O+q)}u=m+(u.length>0?" "+u:u)}return u};function $U(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=oT(t))&&(r&&(r+=" "),r+=n);return r}const oT=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=oT(e[r]))&&(n&&(n+=" "),n+=t);return n};function BU(e,...t){let n,r,s,i=c;function c(p){const m=t.reduce((y,g)=>g(y),e());return n=IU(m),r=n.cache.get,s=n.cache.set,i=u,u(p)}function u(p){const m=r(p);if(m)return m;const y=FU(p,n);return s(p,y),y}return function(){return i($U.apply(null,arguments))}}const ar=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},iT=/^\[(?:([a-z-]+):)?(.+)\]$/i,UU=/^\d+\/\d+$/,zU=new Set(["px","full","screen"]),WU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,HU=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,qU=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KU=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tc=e=>Kp(e)||zU.has(e)||UU.test(e),Ku=e=>Mm(e,"length",t9),Kp=e=>!!e&&!Number.isNaN(Number(e)),Fb=e=>Mm(e,"number",Kp),Jg=e=>!!e&&Number.isInteger(Number(e)),YU=e=>e.endsWith("%")&&Kp(e.slice(0,-1)),mn=e=>iT.test(e),Yu=e=>WU.test(e),GU=new Set(["length","size","percentage"]),ZU=e=>Mm(e,GU,aT),QU=e=>Mm(e,"position",aT),XU=new Set(["image","url"]),JU=e=>Mm(e,XU,r9),e9=e=>Mm(e,"",n9),ev=()=>!0,Mm=(e,t,n)=>{const r=iT.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},t9=e=>VU.test(e)&&!HU.test(e),aT=()=>!1,n9=e=>qU.test(e),r9=e=>KU.test(e),s9=()=>{const e=ar("colors"),t=ar("spacing"),n=ar("blur"),r=ar("brightness"),s=ar("borderColor"),i=ar("borderRadius"),c=ar("borderSpacing"),u=ar("borderWidth"),p=ar("contrast"),m=ar("grayscale"),y=ar("hueRotate"),g=ar("invert"),S=ar("gap"),k=ar("gradientColorStops"),T=ar("gradientColorStopPositions"),E=ar("inset"),N=ar("margin"),O=ar("opacity"),D=ar("padding"),M=ar("saturate"),z=ar("scale"),q=ar("sepia"),Y=ar("skew"),Z=ar("space"),ae=ar("translate"),te=()=>["auto","contain","none"],ye=()=>["auto","hidden","clip","visible","scroll"],Te=()=>["auto",mn,t],Se=()=>[mn,t],_e=()=>["",Tc,Ku],Le=()=>["auto",Kp,mn],ge=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],me=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",mn],xe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[Kp,mn];return{cacheSize:500,separator:":",theme:{colors:[ev],spacing:[Tc,Ku],blur:["none","",Yu,mn],brightness:K(),borderColor:[e],borderRadius:["none","","full",Yu,mn],borderSpacing:Se(),borderWidth:_e(),contrast:K(),grayscale:J(),hueRotate:K(),invert:J(),gap:Se(),gradientColorStops:[e],gradientColorStopPositions:[YU,Ku],inset:Te(),margin:Te(),opacity:K(),padding:Se(),saturate:K(),scale:K(),sepia:J(),skew:K(),space:Se(),translate:Se()},classGroups:{aspect:[{aspect:["auto","square","video",mn]}],container:["container"],columns:[{columns:[Yu]}],"break-after":[{"break-after":xe()}],"break-before":[{"break-before":xe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ge(),mn]}],overflow:[{overflow:ye()}],"overflow-x":[{"overflow-x":ye()}],"overflow-y":[{"overflow-y":ye()}],overscroll:[{overscroll:te()}],"overscroll-x":[{"overscroll-x":te()}],"overscroll-y":[{"overscroll-y":te()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jg,mn]}],basis:[{basis:Te()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",mn]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Jg,mn]}],"grid-cols":[{"grid-cols":[ev]}],"col-start-end":[{col:["auto",{span:["full",Jg,mn]},mn]}],"col-start":[{"col-start":Le()}],"col-end":[{"col-end":Le()}],"grid-rows":[{"grid-rows":[ev]}],"row-start-end":[{row:["auto",{span:[Jg,mn]},mn]}],"row-start":[{"row-start":Le()}],"row-end":[{"row-end":Le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",mn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",mn]}],gap:[{gap:[S]}],"gap-x":[{"gap-x":[S]}],"gap-y":[{"gap-y":[S]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[Z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",mn,t]}],"min-w":[{"min-w":[mn,t,"min","max","fit"]}],"max-w":[{"max-w":[mn,t,"none","full","min","max","fit","prose",{screen:[Yu]},Yu]}],h:[{h:[mn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[mn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[mn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[mn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Yu,Ku]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fb]}],"font-family":[{font:[ev]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",mn]}],"line-clamp":[{"line-clamp":["none",Kp,Fb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tc,mn]}],"list-image":[{"list-image":["none",mn]}],"list-style-type":[{list:["none","disc","decimal",mn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Tc,Ku]}],"underline-offset":[{"underline-offset":["auto",Tc,mn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Se()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ge(),QU]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZU]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},JU]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[...me(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:me()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...me()]}],"outline-offset":[{"outline-offset":[Tc,mn]}],"outline-w":[{outline:[Tc,Ku]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:_e()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[Tc,Ku]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Yu,e9]}],"shadow-color":[{shadow:[ev]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Yu,mn]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[g]}],saturate:[{saturate:[M]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[g]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",mn]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",mn]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",mn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[Jg,mn]}],"translate-x":[{"translate-x":[ae]}],"translate-y":[{"translate-y":[ae]}],"skew-x":[{"skew-x":[Y]}],"skew-y":[{"skew-y":[Y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",mn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Se()}],"scroll-mx":[{"scroll-mx":Se()}],"scroll-my":[{"scroll-my":Se()}],"scroll-ms":[{"scroll-ms":Se()}],"scroll-me":[{"scroll-me":Se()}],"scroll-mt":[{"scroll-mt":Se()}],"scroll-mr":[{"scroll-mr":Se()}],"scroll-mb":[{"scroll-mb":Se()}],"scroll-ml":[{"scroll-ml":Se()}],"scroll-p":[{"scroll-p":Se()}],"scroll-px":[{"scroll-px":Se()}],"scroll-py":[{"scroll-py":Se()}],"scroll-ps":[{"scroll-ps":Se()}],"scroll-pe":[{"scroll-pe":Se()}],"scroll-pt":[{"scroll-pt":Se()}],"scroll-pr":[{"scroll-pr":Se()}],"scroll-pb":[{"scroll-pb":Se()}],"scroll-pl":[{"scroll-pl":Se()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Tc,Ku,Fb]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},o9=BU(s9);function ze(...e){return o9(nT(e))}const Kk=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Yk=nT,Im=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Yk(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,c=Object.keys(s).map(m=>{const y=n==null?void 0:n[m],g=i==null?void 0:i[m];if(y===null)return null;const S=Kk(y)||Kk(g);return s[m][S]}),u=n&&Object.entries(n).reduce((m,y)=>{let[g,S]=y;return S===void 0||(m[g]=S),m},{}),p=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,y)=>{let{class:g,className:S,...k}=y;return Object.entries(k).every(T=>{let[E,N]=T;return Array.isArray(N)?N.includes({...i,...u}[E]):{...i,...u}[E]===N})?[...m,g,S]:m},[]);return Yk(e,c,p,n==null?void 0:n.class,n==null?void 0:n.className)},Iv=Im("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pt=_.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const c=r?fh:"button";return d.jsx(c,{className:ze(Iv({variant:t,size:n,className:e})),ref:i,...s})});Pt.displayName="Button";const Rs=_.forwardRef(({className:e,type:t,...n},r)=>d.jsx("input",{type:t,className:ze("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Rs.displayName="Input";function ft(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function i9(e,t){const n=_.createContext(t),r=i=>{const{children:c,...u}=i,p=_.useMemo(()=>u,Object.values(u));return d.jsx(n.Provider,{value:p,children:c})};r.displayName=e+"Provider";function s(i){const c=_.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function vo(e,t=[]){let n=[];function r(i,c){const u=_.createContext(c),p=n.length;n=[...n,c];const m=g=>{var O;const{scope:S,children:k,...T}=g,E=((O=S==null?void 0:S[e])==null?void 0:O[p])||u,N=_.useMemo(()=>T,Object.values(T));return d.jsx(E.Provider,{value:N,children:k})};m.displayName=i+"Provider";function y(g,S){var E;const k=((E=S==null?void 0:S[e])==null?void 0:E[p])||u,T=_.useContext(k);if(T)return T;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${i}\``)}return[m,y]}const s=()=>{const i=n.map(c=>_.createContext(c));return function(u){const p=(u==null?void 0:u[e])||i;return _.useMemo(()=>({[`__scope${e}`]:{...u,[e]:p}}),[u,p])}};return s.scopeName=e,[r,a9(s,...t)]}function a9(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const c=r.reduce((u,{useScope:p,scopeName:m})=>{const g=p(i)[`__scope${m}`];return{...u,...g}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}var Br=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},l9=k_[" useId ".trim().toString()]||(()=>{}),c9=0;function Fr(e){const[t,n]=_.useState(l9());return Br(()=>{n(r=>r??String(c9++))},[e]),t?`radix-${t}`:""}var u9=k_[" useInsertionEffect ".trim().toString()]||Br;function Oa({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,c]=d9({defaultProp:t,onChange:n}),u=e!==void 0,p=u?e:s;{const y=_.useRef(e!==void 0);_.useEffect(()=>{const g=y.current;g!==u&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=u},[u,r])}const m=_.useCallback(y=>{var g;if(u){const S=f9(y)?y(e):y;S!==e&&((g=c.current)==null||g.call(c,S))}else i(y)},[u,e,i,c]);return[p,m]}function d9({defaultProp:e,onChange:t}){const[n,r]=_.useState(e),s=_.useRef(n),i=_.useRef(t);return u9(()=>{i.current=t},[t]),_.useEffect(()=>{var c;s.current!==n&&((c=i.current)==null||c.call(i,n),s.current=n)},[n,s]),[n,r,i]}function f9(e){return typeof e=="function"}var h9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],kt=h9.reduce((e,t)=>{const n=bd(`Primitive.${t}`),r=_.forwardRef((s,i)=>{const{asChild:c,...u}=s,p=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(p,{...u,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function lT(e,t){e&&Gv.flushSync(()=>e.dispatchEvent(t))}function ss(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function p9(e,t=globalThis==null?void 0:globalThis.document){const n=ss(e);_.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var m9="DismissableLayer",e_="dismissableLayer.update",g9="dismissableLayer.pointerDownOutside",v9="dismissableLayer.focusOutside",Gk,cT=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lm=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:c,onDismiss:u,...p}=e,m=_.useContext(cT),[y,g]=_.useState(null),S=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,k]=_.useState({}),T=dn(t,Z=>g(Z)),E=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),O=E.indexOf(N),D=y?E.indexOf(y):-1,M=m.layersWithOutsidePointerEventsDisabled.size>0,z=D>=O,q=w9(Z=>{const ae=Z.target,te=[...m.branches].some(ye=>ye.contains(ae));!z||te||(s==null||s(Z),c==null||c(Z),Z.defaultPrevented||u==null||u())},S),Y=b9(Z=>{const ae=Z.target;[...m.branches].some(ye=>ye.contains(ae))||(i==null||i(Z),c==null||c(Z),Z.defaultPrevented||u==null||u())},S);return p9(Z=>{D===m.layers.size-1&&(r==null||r(Z),!Z.defaultPrevented&&u&&(Z.preventDefault(),u()))},S),_.useEffect(()=>{if(y)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Gk=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),Zk(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=Gk)}},[y,S,n,m]),_.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),Zk())},[y,m]),_.useEffect(()=>{const Z=()=>k({});return document.addEventListener(e_,Z),()=>document.removeEventListener(e_,Z)},[]),d.jsx(kt.div,{...p,ref:T,style:{pointerEvents:M?z?"auto":"none":void 0,...e.style},onFocusCapture:ft(e.onFocusCapture,Y.onFocusCapture),onBlurCapture:ft(e.onBlurCapture,Y.onBlurCapture),onPointerDownCapture:ft(e.onPointerDownCapture,q.onPointerDownCapture)})});Lm.displayName=m9;var y9="DismissableLayerBranch",x9=_.forwardRef((e,t)=>{const n=_.useContext(cT),r=_.useRef(null),s=dn(t,r);return _.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(kt.div,{...e,ref:s})});x9.displayName=y9;function w9(e,t=globalThis==null?void 0:globalThis.document){const n=ss(e),r=_.useRef(!1),s=_.useRef(()=>{});return _.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let p=function(){uT(g9,n,m,{discrete:!0})};const m={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=p,t.addEventListener("click",s.current,{once:!0})):p()}else t.removeEventListener("click",s.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function b9(e,t=globalThis==null?void 0:globalThis.document){const n=ss(e),r=_.useRef(!1);return _.useEffect(()=>{const s=i=>{i.target&&!r.current&&uT(v9,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Zk(){const e=new CustomEvent(e_);document.dispatchEvent(e)}function uT(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?lT(s,i):s.dispatchEvent(i)}var $b="focusScope.autoFocusOnMount",Bb="focusScope.autoFocusOnUnmount",Qk={bubbles:!1,cancelable:!0},_9="FocusScope",ty=_.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...c}=e,[u,p]=_.useState(null),m=ss(s),y=ss(i),g=_.useRef(null),S=dn(t,E=>p(E)),k=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let E=function(M){if(k.paused||!u)return;const z=M.target;u.contains(z)?g.current=z:Qu(g.current,{select:!0})},N=function(M){if(k.paused||!u)return;const z=M.relatedTarget;z!==null&&(u.contains(z)||Qu(g.current,{select:!0}))},O=function(M){if(document.activeElement===document.body)for(const q of M)q.removedNodes.length>0&&Qu(u)};document.addEventListener("focusin",E),document.addEventListener("focusout",N);const D=new MutationObserver(O);return u&&D.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",N),D.disconnect()}}},[r,u,k.paused]),_.useEffect(()=>{if(u){Jk.add(k);const E=document.activeElement;if(!u.contains(E)){const O=new CustomEvent($b,Qk);u.addEventListener($b,m),u.dispatchEvent(O),O.defaultPrevented||(S9(j9(dT(u)),{select:!0}),document.activeElement===E&&Qu(u))}return()=>{u.removeEventListener($b,m),setTimeout(()=>{const O=new CustomEvent(Bb,Qk);u.addEventListener(Bb,y),u.dispatchEvent(O),O.defaultPrevented||Qu(E??document.body,{select:!0}),u.removeEventListener(Bb,y),Jk.remove(k)},0)}}},[u,m,y,k]);const T=_.useCallback(E=>{if(!n&&!r||k.paused)return;const N=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,O=document.activeElement;if(N&&O){const D=E.currentTarget,[M,z]=E9(D);M&&z?!E.shiftKey&&O===z?(E.preventDefault(),n&&Qu(M,{select:!0})):E.shiftKey&&O===M&&(E.preventDefault(),n&&Qu(z,{select:!0})):O===D&&E.preventDefault()}},[n,r,k.paused]);return d.jsx(kt.div,{tabIndex:-1,...c,ref:S,onKeyDown:T})});ty.displayName=_9;function S9(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Qu(r,{select:t}),document.activeElement!==n)return}function E9(e){const t=dT(e),n=Xk(t,e),r=Xk(t.reverse(),e);return[n,r]}function dT(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Xk(e,t){for(const n of e)if(!k9(n,{upTo:t}))return n}function k9(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function C9(e){return e instanceof HTMLInputElement&&"select"in e}function Qu(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&C9(e)&&t&&e.select()}}var Jk=N9();function N9(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=eC(e,t),e.unshift(t)},remove(t){var n;e=eC(e,t),(n=e[0])==null||n.resume()}}}function eC(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function j9(e){return e.filter(t=>t.tagName!=="A")}var T9="Portal",ny=_.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[s,i]=_.useState(!1);Br(()=>i(!0),[]);const c=n||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?DN.createPortal(d.jsx(kt.div,{...r,ref:t}),c):null});ny.displayName=T9;function A9(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var Ds=e=>{const{present:t,children:n}=e,r=R9(t),s=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),i=dn(r.ref,P9(s));return typeof n=="function"||r.isPresent?_.cloneElement(s,{ref:i}):null};Ds.displayName="Presence";function R9(e){const[t,n]=_.useState(),r=_.useRef(null),s=_.useRef(e),i=_.useRef("none"),c=e?"mounted":"unmounted",[u,p]=A9(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const m=x0(r.current);i.current=u==="mounted"?m:"none"},[u]),Br(()=>{const m=r.current,y=s.current;if(y!==e){const S=i.current,k=x0(m);e?p("MOUNT"):k==="none"||(m==null?void 0:m.display)==="none"?p("UNMOUNT"):p(y&&S!==k?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,p]),Br(()=>{if(t){let m;const y=t.ownerDocument.defaultView??window,g=k=>{const E=x0(r.current).includes(k.animationName);if(k.target===t&&E&&(p("ANIMATION_END"),!s.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",m=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},S=k=>{k.target===t&&(i.current=x0(r.current))};return t.addEventListener("animationstart",S),t.addEventListener("animationcancel",g),t.addEventListener("animationend",g),()=>{y.clearTimeout(m),t.removeEventListener("animationstart",S),t.removeEventListener("animationcancel",g),t.removeEventListener("animationend",g)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:_.useCallback(m=>{r.current=m?getComputedStyle(m):null,n(m)},[])}}function x0(e){return(e==null?void 0:e.animationName)||"none"}function P9(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ub=0;function Gx(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tC()),document.body.insertAdjacentElement("beforeend",e[1]??tC()),Ub++,()=>{Ub===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ub--}},[])}function tC(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Nl=function(){return Nl=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Nl.apply(this,arguments)};function fT(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function O9(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var A0="right-scroll-bar-position",R0="width-before-scroll-bar",D9="with-scroll-bars-hidden",M9="--removed-body-scroll-bar-size";function zb(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function I9(e,t){var n=_.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var L9=typeof window<"u"?_.useLayoutEffect:_.useEffect,nC=new WeakMap;function F9(e,t){var n=I9(null,function(r){return e.forEach(function(s){return zb(s,r)})});return L9(function(){var r=nC.get(n);if(r){var s=new Set(r),i=new Set(e),c=n.current;s.forEach(function(u){i.has(u)||zb(u,null)}),i.forEach(function(u){s.has(u)||zb(u,c)})}nC.set(n,e)},[e]),n}function $9(e){return e}function B9(e,t){t===void 0&&(t=$9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var c=t(i,r);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(i){for(r=!0;n.length;){var c=n;n=[],c.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(i),c=n}var p=function(){var y=c;c=[],y.forEach(i)},m=function(){return Promise.resolve().then(p)};m(),n={push:function(y){c.push(y),m()},filter:function(y){return c=c.filter(y),n}}}};return s}function U9(e){e===void 0&&(e={});var t=B9(null);return t.options=Nl({async:!0,ssr:!1},e),t}var hT=function(e){var t=e.sideCar,n=fT(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,Nl({},n))};hT.isSideCarExport=!0;function z9(e,t){return e.useMedium(t),hT}var pT=U9(),Wb=function(){},Zx=_.forwardRef(function(e,t){var n=_.useRef(null),r=_.useState({onScrollCapture:Wb,onWheelCapture:Wb,onTouchMoveCapture:Wb}),s=r[0],i=r[1],c=e.forwardProps,u=e.children,p=e.className,m=e.removeScrollBar,y=e.enabled,g=e.shards,S=e.sideCar,k=e.noIsolation,T=e.inert,E=e.allowPinchZoom,N=e.as,O=N===void 0?"div":N,D=e.gapMode,M=fT(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=S,q=F9([n,t]),Y=Nl(Nl({},M),s);return _.createElement(_.Fragment,null,y&&_.createElement(z,{sideCar:pT,removeScrollBar:m,shards:g,noIsolation:k,inert:T,setCallbacks:i,allowPinchZoom:!!E,lockRef:n,gapMode:D}),c?_.cloneElement(_.Children.only(u),Nl(Nl({},Y),{ref:q})):_.createElement(O,Nl({},Y,{className:p,ref:q}),u))});Zx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zx.classNames={fullWidth:R0,zeroRight:A0};var W9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function V9(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=W9();return t&&e.setAttribute("nonce",t),e}function H9(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function q9(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var K9=function(){var e=0,t=null;return{add:function(n){e==0&&(t=V9())&&(H9(t,n),q9(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Y9=function(){var e=K9();return function(t,n){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},mT=function(){var e=Y9(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},G9={left:0,top:0,right:0,gap:0},Vb=function(e){return parseInt(e||"",10)||0},Z9=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Vb(n),Vb(r),Vb(s)]},Q9=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return G9;var t=Z9(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},X9=mT(),Yp="data-scroll-locked",J9=function(e,t,n,r){var s=e.left,i=e.top,c=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(D9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Yp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(A0,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(R0,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(A0," .").concat(A0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(R0," .").concat(R0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Yp,`] {
    `).concat(M9,": ").concat(u,`px;
  }
`)},rC=function(){var e=parseInt(document.body.getAttribute(Yp)||"0",10);return isFinite(e)?e:0},ez=function(){_.useEffect(function(){return document.body.setAttribute(Yp,(rC()+1).toString()),function(){var e=rC()-1;e<=0?document.body.removeAttribute(Yp):document.body.setAttribute(Yp,e.toString())}},[])},tz=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;ez();var i=_.useMemo(function(){return Q9(s)},[s]);return _.createElement(X9,{styles:J9(i,!t,s,n?"":"!important")})},t_=!1;if(typeof window<"u")try{var w0=Object.defineProperty({},"passive",{get:function(){return t_=!0,!0}});window.addEventListener("test",w0,w0),window.removeEventListener("test",w0,w0)}catch{t_=!1}var Pp=t_?{passive:!1}:!1,nz=function(e){return e.tagName==="TEXTAREA"},gT=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!nz(e)&&n[t]==="visible")},rz=function(e){return gT(e,"overflowY")},sz=function(e){return gT(e,"overflowX")},sC=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=vT(e,r);if(s){var i=yT(e,r),c=i[1],u=i[2];if(c>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},oz=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},iz=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},vT=function(e,t){return e==="v"?rz(t):sz(t)},yT=function(e,t){return e==="v"?oz(t):iz(t)},az=function(e,t){return e==="h"&&t==="rtl"?-1:1},lz=function(e,t,n,r,s){var i=az(e,window.getComputedStyle(t).direction),c=i*r,u=n.target,p=t.contains(u),m=!1,y=c>0,g=0,S=0;do{var k=yT(e,u),T=k[0],E=k[1],N=k[2],O=E-N-i*T;(T||O)&&vT(e,u)&&(g+=O,S+=T),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!p&&u!==document.body||p&&(t.contains(u)||t===u));return(y&&Math.abs(g)<1||!y&&Math.abs(S)<1)&&(m=!0),m},b0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},oC=function(e){return[e.deltaX,e.deltaY]},iC=function(e){return e&&"current"in e?e.current:e},cz=function(e,t){return e[0]===t[0]&&e[1]===t[1]},uz=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dz=0,Op=[];function fz(e){var t=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),s=_.useState(dz++)[0],i=_.useState(mT)[0],c=_.useRef(e);_.useEffect(function(){c.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var E=O9([e.lockRef.current],(e.shards||[]).map(iC),!0).filter(Boolean);return E.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=_.useCallback(function(E,N){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!c.current.allowPinchZoom;var O=b0(E),D=n.current,M="deltaX"in E?E.deltaX:D[0]-O[0],z="deltaY"in E?E.deltaY:D[1]-O[1],q,Y=E.target,Z=Math.abs(M)>Math.abs(z)?"h":"v";if("touches"in E&&Z==="h"&&Y.type==="range")return!1;var ae=sC(Z,Y);if(!ae)return!0;if(ae?q=Z:(q=Z==="v"?"h":"v",ae=sC(Z,Y)),!ae)return!1;if(!r.current&&"changedTouches"in E&&(M||z)&&(r.current=q),!q)return!0;var te=r.current||q;return lz(te,N,E,te==="h"?M:z)},[]),p=_.useCallback(function(E){var N=E;if(!(!Op.length||Op[Op.length-1]!==i)){var O="deltaY"in N?oC(N):b0(N),D=t.current.filter(function(q){return q.name===N.type&&(q.target===N.target||N.target===q.shadowParent)&&cz(q.delta,O)})[0];if(D&&D.should){N.cancelable&&N.preventDefault();return}if(!D){var M=(c.current.shards||[]).map(iC).filter(Boolean).filter(function(q){return q.contains(N.target)}),z=M.length>0?u(N,M[0]):!c.current.noIsolation;z&&N.cancelable&&N.preventDefault()}}},[]),m=_.useCallback(function(E,N,O,D){var M={name:E,delta:N,target:O,should:D,shadowParent:hz(O)};t.current.push(M),setTimeout(function(){t.current=t.current.filter(function(z){return z!==M})},1)},[]),y=_.useCallback(function(E){n.current=b0(E),r.current=void 0},[]),g=_.useCallback(function(E){m(E.type,oC(E),E.target,u(E,e.lockRef.current))},[]),S=_.useCallback(function(E){m(E.type,b0(E),E.target,u(E,e.lockRef.current))},[]);_.useEffect(function(){return Op.push(i),e.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:S}),document.addEventListener("wheel",p,Pp),document.addEventListener("touchmove",p,Pp),document.addEventListener("touchstart",y,Pp),function(){Op=Op.filter(function(E){return E!==i}),document.removeEventListener("wheel",p,Pp),document.removeEventListener("touchmove",p,Pp),document.removeEventListener("touchstart",y,Pp)}},[]);var k=e.removeScrollBar,T=e.inert;return _.createElement(_.Fragment,null,T?_.createElement(i,{styles:uz(s)}):null,k?_.createElement(tz,{gapMode:e.gapMode}):null)}function hz(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const pz=z9(pT,fz);var ry=_.forwardRef(function(e,t){return _.createElement(Zx,Nl({},e,{ref:t,sideCar:pz}))});ry.classNames=Zx.classNames;var mz=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Dp=new WeakMap,_0=new WeakMap,S0={},Hb=0,xT=function(e){return e&&(e.host||xT(e.parentNode))},gz=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=xT(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},vz=function(e,t,n,r){var s=gz(t,Array.isArray(e)?e:[e]);S0[n]||(S0[n]=new WeakMap);var i=S0[n],c=[],u=new Set,p=new Set(s),m=function(g){!g||u.has(g)||(u.add(g),m(g.parentNode))};s.forEach(m);var y=function(g){!g||p.has(g)||Array.prototype.forEach.call(g.children,function(S){if(u.has(S))y(S);else try{var k=S.getAttribute(r),T=k!==null&&k!=="false",E=(Dp.get(S)||0)+1,N=(i.get(S)||0)+1;Dp.set(S,E),i.set(S,N),c.push(S),E===1&&T&&_0.set(S,!0),N===1&&S.setAttribute(n,"true"),T||S.setAttribute(r,"true")}catch(O){console.error("aria-hidden: cannot operate on ",S,O)}})};return y(t),u.clear(),Hb++,function(){c.forEach(function(g){var S=Dp.get(g)-1,k=i.get(g)-1;Dp.set(g,S),i.set(g,k),S||(_0.has(g)||g.removeAttribute(r),_0.delete(g)),k||g.removeAttribute(n)}),Hb--,Hb||(Dp=new WeakMap,Dp=new WeakMap,_0=new WeakMap,S0={})}},Qx=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=mz(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),vz(r,s,n,"aria-hidden")):function(){return null}},Xx="Dialog",[wT,bT]=vo(Xx),[yz,Fa]=wT(Xx),_T=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:c=!0}=e,u=_.useRef(null),p=_.useRef(null),[m,y]=Oa({prop:r,defaultProp:s??!1,onChange:i,caller:Xx});return d.jsx(yz,{scope:t,triggerRef:u,contentRef:p,contentId:Fr(),titleId:Fr(),descriptionId:Fr(),open:m,onOpenChange:y,onOpenToggle:_.useCallback(()=>y(g=>!g),[y]),modal:c,children:n})};_T.displayName=Xx;var ST="DialogTrigger",ET=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Fa(ST,n),i=dn(t,s.triggerRef);return d.jsx(kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":wS(s.open),...r,ref:i,onClick:ft(e.onClick,s.onOpenToggle)})});ET.displayName=ST;var yS="DialogPortal",[xz,kT]=wT(yS,{forceMount:void 0}),CT=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Fa(yS,t);return d.jsx(xz,{scope:t,forceMount:n,children:_.Children.map(r,c=>d.jsx(Ds,{present:n||i.open,children:d.jsx(ny,{asChild:!0,container:s,children:c})}))})};CT.displayName=yS;var rx="DialogOverlay",NT=_.forwardRef((e,t)=>{const n=kT(rx,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Fa(rx,e.__scopeDialog);return i.modal?d.jsx(Ds,{present:r||i.open,children:d.jsx(bz,{...s,ref:t})}):null});NT.displayName=rx;var wz=bd("DialogOverlay.RemoveScroll"),bz=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Fa(rx,n);return d.jsx(ry,{as:wz,allowPinchZoom:!0,shards:[s.contentRef],children:d.jsx(kt.div,{"data-state":wS(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),sh="DialogContent",jT=_.forwardRef((e,t)=>{const n=kT(sh,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Fa(sh,e.__scopeDialog);return d.jsx(Ds,{present:r||i.open,children:i.modal?d.jsx(_z,{...s,ref:t}):d.jsx(Sz,{...s,ref:t})})});jT.displayName=sh;var _z=_.forwardRef((e,t)=>{const n=Fa(sh,e.__scopeDialog),r=_.useRef(null),s=dn(t,n.contentRef,r);return _.useEffect(()=>{const i=r.current;if(i)return Qx(i)},[]),d.jsx(TT,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(e.onCloseAutoFocus,i=>{var c;i.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:ft(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&i.preventDefault()}),onFocusOutside:ft(e.onFocusOutside,i=>i.preventDefault())})}),Sz=_.forwardRef((e,t)=>{const n=Fa(sh,e.__scopeDialog),r=_.useRef(!1),s=_.useRef(!1);return d.jsx(TT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,i),i.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var p,m;(p=e.onInteractOutside)==null||p.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=i.target;((m=n.triggerRef.current)==null?void 0:m.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),TT=_.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...c}=e,u=Fa(sh,n),p=_.useRef(null),m=dn(t,p);return Gx(),d.jsxs(d.Fragment,{children:[d.jsx(ty,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Lm,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":wS(u.open),...c,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(kz,{titleId:u.titleId}),d.jsx(Nz,{contentRef:p,descriptionId:u.descriptionId})]})]})}),xS="DialogTitle",AT=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Fa(xS,n);return d.jsx(kt.h2,{id:s.titleId,...r,ref:t})});AT.displayName=xS;var RT="DialogDescription",PT=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Fa(RT,n);return d.jsx(kt.p,{id:s.descriptionId,...r,ref:t})});PT.displayName=RT;var OT="DialogClose",DT=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Fa(OT,n);return d.jsx(kt.button,{type:"button",...r,ref:t,onClick:ft(e.onClick,()=>s.onOpenChange(!1))})});DT.displayName=OT;function wS(e){return e?"open":"closed"}var MT="DialogTitleWarning",[Ez,IT]=i9(MT,{contentName:sh,titleName:xS,docsSlug:"dialog"}),kz=({titleId:e})=>{const t=IT(MT),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Cz="DialogDescriptionWarning",Nz=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${IT(Cz).contentName}}.`;return _.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Jx=_T,LT=ET,ew=CT,Fm=NT,$m=jT,sy=AT,oy=PT,tw=DT;const jd=Jx,nw=LT,jz=ew,FT=_.forwardRef(({className:e,...t},n)=>d.jsx(Fm,{ref:n,className:ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));FT.displayName=Fm.displayName;const eu=_.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(jz,{children:[d.jsx(FT,{}),d.jsxs($m,{ref:r,className:ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,d.jsxs(tw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[d.jsx(Yx,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));eu.displayName=$m.displayName;const tu=({className:e,...t})=>d.jsx("div",{className:ze("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});tu.displayName="DialogHeader";const rw=({className:e,...t})=>d.jsx("div",{className:ze("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});rw.displayName="DialogFooter";const nu=_.forwardRef(({className:e,...t},n)=>d.jsx(sy,{ref:n,className:ze("text-lg font-semibold leading-none tracking-tight",e),...t}));nu.displayName=sy.displayName;const hh=_.forwardRef(({className:e,...t},n)=>d.jsx(oy,{ref:n,className:ze("text-sm text-muted-foreground",e),...t}));hh.displayName=oy.displayName;function bS(e){const t=e+"CollectionProvider",[n,r]=vo(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=E=>{const{scope:N,children:O}=E,D=Ve.useRef(null),M=Ve.useRef(new Map).current;return d.jsx(s,{scope:N,itemMap:M,collectionRef:D,children:O})};c.displayName=t;const u=e+"CollectionSlot",p=bd(u),m=Ve.forwardRef((E,N)=>{const{scope:O,children:D}=E,M=i(u,O),z=dn(N,M.collectionRef);return d.jsx(p,{ref:z,children:D})});m.displayName=u;const y=e+"CollectionItemSlot",g="data-radix-collection-item",S=bd(y),k=Ve.forwardRef((E,N)=>{const{scope:O,children:D,...M}=E,z=Ve.useRef(null),q=dn(N,z),Y=i(y,O);return Ve.useEffect(()=>(Y.itemMap.set(z,{ref:z,...M}),()=>void Y.itemMap.delete(z))),d.jsx(S,{[g]:"",ref:q,children:D})});k.displayName=y;function T(E){const N=i(e+"CollectionConsumer",E);return Ve.useCallback(()=>{const D=N.collectionRef.current;if(!D)return[];const M=Array.from(D.querySelectorAll(`[${g}]`));return Array.from(N.itemMap.values()).sort((Y,Z)=>M.indexOf(Y.ref.current)-M.indexOf(Z.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:c,Slot:m,ItemSlot:k},T,r]}var Tz=_.createContext(void 0);function iy(e){const t=_.useContext(Tz);return e||t||"ltr"}var qb="rovingFocusGroup.onEntryFocus",Az={bubbles:!1,cancelable:!0},ay="RovingFocusGroup",[n_,$T,Rz]=bS(ay),[Pz,sw]=vo(ay,[Rz]),[Oz,Dz]=Pz(ay),BT=_.forwardRef((e,t)=>d.jsx(n_.Provider,{scope:e.__scopeRovingFocusGroup,children:d.jsx(n_.Slot,{scope:e.__scopeRovingFocusGroup,children:d.jsx(Mz,{...e,ref:t})})}));BT.displayName=ay;var Mz=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...g}=e,S=_.useRef(null),k=dn(t,S),T=iy(i),[E,N]=Oa({prop:c,defaultProp:u??null,onChange:p,caller:ay}),[O,D]=_.useState(!1),M=ss(m),z=$T(n),q=_.useRef(!1),[Y,Z]=_.useState(0);return _.useEffect(()=>{const ae=S.current;if(ae)return ae.addEventListener(qb,M),()=>ae.removeEventListener(qb,M)},[M]),d.jsx(Oz,{scope:n,orientation:r,dir:T,loop:s,currentTabStopId:E,onItemFocus:_.useCallback(ae=>N(ae),[N]),onItemShiftTab:_.useCallback(()=>D(!0),[]),onFocusableItemAdd:_.useCallback(()=>Z(ae=>ae+1),[]),onFocusableItemRemove:_.useCallback(()=>Z(ae=>ae-1),[]),children:d.jsx(kt.div,{tabIndex:O||Y===0?-1:0,"data-orientation":r,...g,ref:k,style:{outline:"none",...e.style},onMouseDown:ft(e.onMouseDown,()=>{q.current=!0}),onFocus:ft(e.onFocus,ae=>{const te=!q.current;if(ae.target===ae.currentTarget&&te&&!O){const ye=new CustomEvent(qb,Az);if(ae.currentTarget.dispatchEvent(ye),!ye.defaultPrevented){const Te=z().filter(me=>me.focusable),Se=Te.find(me=>me.active),_e=Te.find(me=>me.id===E),ge=[Se,_e,...Te].filter(Boolean).map(me=>me.ref.current);WT(ge,y)}}q.current=!1}),onBlur:ft(e.onBlur,()=>D(!1))})})}),UT="RovingFocusGroupItem",zT=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:c,...u}=e,p=Fr(),m=i||p,y=Dz(UT,n),g=y.currentTabStopId===m,S=$T(n),{onFocusableItemAdd:k,onFocusableItemRemove:T,currentTabStopId:E}=y;return _.useEffect(()=>{if(r)return k(),()=>T()},[r,k,T]),d.jsx(n_.ItemSlot,{scope:n,id:m,focusable:r,active:s,children:d.jsx(kt.span,{tabIndex:g?0:-1,"data-orientation":y.orientation,...u,ref:t,onMouseDown:ft(e.onMouseDown,N=>{r?y.onItemFocus(m):N.preventDefault()}),onFocus:ft(e.onFocus,()=>y.onItemFocus(m)),onKeyDown:ft(e.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){y.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const O=Fz(N,y.orientation,y.dir);if(O!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let M=S().filter(z=>z.focusable).map(z=>z.ref.current);if(O==="last")M.reverse();else if(O==="prev"||O==="next"){O==="prev"&&M.reverse();const z=M.indexOf(N.currentTarget);M=y.loop?$z(M,z+1):M.slice(z+1)}setTimeout(()=>WT(M))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:E!=null}):c})})});zT.displayName=UT;var Iz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Lz(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Fz(e,t,n){const r=Lz(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Iz[r]}function WT(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function $z(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var VT=BT,HT=zT,ow="Tabs",[Bz,pX]=vo(ow,[sw]),qT=sw(),[Uz,_S]=Bz(ow),KT=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:c="horizontal",dir:u,activationMode:p="automatic",...m}=e,y=iy(u),[g,S]=Oa({prop:r,onChange:s,defaultProp:i??"",caller:ow});return d.jsx(Uz,{scope:n,baseId:Fr(),value:g,onValueChange:S,orientation:c,dir:y,activationMode:p,children:d.jsx(kt.div,{dir:y,"data-orientation":c,...m,ref:t})})});KT.displayName=ow;var YT="TabsList",GT=_.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=_S(YT,n),c=qT(n);return d.jsx(VT,{asChild:!0,...c,orientation:i.orientation,dir:i.dir,loop:r,children:d.jsx(kt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});GT.displayName=YT;var ZT="TabsTrigger",QT=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,c=_S(ZT,n),u=qT(n),p=eA(c.baseId,r),m=tA(c.baseId,r),y=r===c.value;return d.jsx(HT,{asChild:!0,...u,focusable:!s,active:y,children:d.jsx(kt.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:p,...i,ref:t,onMouseDown:ft(e.onMouseDown,g=>{!s&&g.button===0&&g.ctrlKey===!1?c.onValueChange(r):g.preventDefault()}),onKeyDown:ft(e.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(r)}),onFocus:ft(e.onFocus,()=>{const g=c.activationMode!=="manual";!y&&!s&&g&&c.onValueChange(r)})})})});QT.displayName=ZT;var XT="TabsContent",JT=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...c}=e,u=_S(XT,n),p=eA(u.baseId,r),m=tA(u.baseId,r),y=r===u.value,g=_.useRef(y);return _.useEffect(()=>{const S=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(S)},[]),d.jsx(Ds,{present:s||y,children:({present:S})=>d.jsx(kt.div,{"data-state":y?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":p,hidden:!S,id:m,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:g.current?"0s":void 0},children:S&&i})})});JT.displayName=XT;function eA(e,t){return`${e}-trigger-${t}`}function tA(e,t){return`${e}-content-${t}`}var zz=KT,nA=GT,rA=QT,sA=JT;const SS=zz,iw=_.forwardRef(({className:e,...t},n)=>d.jsx(nA,{ref:n,className:ze("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));iw.displayName=nA.displayName;const fd=_.forwardRef(({className:e,...t},n)=>d.jsx(rA,{ref:n,className:ze("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));fd.displayName=rA.displayName;const hd=_.forwardRef(({className:e,...t},n)=>d.jsx(sA,{ref:n,className:ze("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));hd.displayName=sA.displayName;function oA(){const{nostr:e}=Os(),{logins:t,addLogin:n,removeLogin:r}=fS();return{nsec(s){const i=Zf.fromNsec(s);n(i)},async bunker(s){const i=await Zf.fromBunker(s,e);n(i)},async extension(){const s=await Zf.fromExtension();n(s)},async logout(){const s=t[0];s&&r(s.id)}}}const iA=({isOpen:e,onClose:t,onLogin:n,onSignup:r})=>{const[s,i]=_.useState(!1),[c,u]=_.useState(""),[p,m]=_.useState(""),y=_.useRef(null),g=oA(),S=()=>{i(!0);try{if(!("nostr"in window))throw new Error("Nostr extension not found. Please install a NIP-07 extension.");g.extension(),n(),t()}catch(O){console.error("Extension login failed:",O)}finally{i(!1)}},k=()=>{if(c.trim()){i(!0);try{g.nsec(c),n(),t()}catch(O){console.error("Nsec login failed:",O)}finally{i(!1)}}},T=()=>{if(!(!p.trim()||!p.startsWith("bunker://"))){i(!0);try{g.bunker(p),n(),t()}catch(O){console.error("Bunker login failed:",O)}finally{i(!1)}}},E=O=>{var z;const D=(z=O.target.files)==null?void 0:z[0];if(!D)return;const M=new FileReader;M.onload=q=>{var Z;const Y=(Z=q.target)==null?void 0:Z.result;u(Y.trim())},M.readAsText(D)},N=()=>{t(),r&&r()};return d.jsx(jd,{open:e,onOpenChange:t,children:d.jsxs(eu,{className:"sm:max-w-md p-0 overflow-hidden rounded-2xl",children:[d.jsxs(tu,{className:"px-6 pt-6 pb-0 relative",children:[d.jsx(nu,{className:"text-xl font-semibold text-center",children:"Log in"}),d.jsx(hh,{className:"text-center text-muted-foreground mt-2",children:"Access your account securely with your preferred method"})]}),d.jsxs("div",{className:"px-6 py-8 space-y-6",children:[d.jsxs(SS,{defaultValue:"nostr"in window?"extension":"key",className:"w-full",children:[d.jsxs(iw,{className:"grid grid-cols-3 mb-6",children:[d.jsx(fd,{value:"extension",children:"Extension"}),d.jsx(fd,{value:"key",children:"Nsec"}),d.jsx(fd,{value:"bunker",children:"Bunker"})]}),d.jsx(hd,{value:"extension",className:"space-y-4",children:d.jsxs("div",{className:"text-center p-4 rounded-lg bg-gray-50 dark:bg-gray-800",children:[d.jsx(vU,{className:"w-12 h-12 mx-auto mb-3 text-primary"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:"Login with one click using the browser extension"}),d.jsx(Pt,{className:"w-full rounded-full py-6",onClick:S,disabled:s,children:s?"Logging in...":"Login with Extension"})]})}),d.jsx(hd,{value:"key",className:"space-y-4",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"nsec",className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"Enter your nsec"}),d.jsx(Rs,{id:"nsec",value:c,onChange:O=>u(O.target.value),className:"rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary",placeholder:"nsec1..."})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-sm mb-2 text-gray-600 dark:text-gray-400",children:"Or upload a key file"}),d.jsx("input",{type:"file",accept:".txt",className:"hidden",ref:y,onChange:E}),d.jsxs(Pt,{variant:"outline",className:"w-full dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700",onClick:()=>{var O;return(O=y.current)==null?void 0:O.click()},children:[d.jsx(Qj,{className:"w-4 h-4 mr-2"}),"Upload Nsec File"]})]}),d.jsx(Pt,{className:"w-full rounded-full py-6 mt-4",onClick:k,disabled:s||!c.trim(),children:s?"Verifying...":"Login with Nsec"})]})}),d.jsxs(hd,{value:"bunker",className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"bunkerUri",className:"text-sm font-medium text-gray-700 dark:text-gray-400",children:"Bunker URI"}),d.jsx(Rs,{id:"bunkerUri",value:p,onChange:O=>m(O.target.value),className:"rounded-lg border-gray-300 dark:border-gray-700 focus-visible:ring-primary",placeholder:"bunker://"}),p&&!p.startsWith("bunker://")&&d.jsx("p",{className:"text-red-500 text-xs",children:"URI must start with bunker://"})]}),d.jsx(Pt,{className:"w-full rounded-full py-6",onClick:T,disabled:s||!p.trim()||!p.startsWith("bunker://"),children:s?"Connecting...":"Login with Bunker"})]})]}),d.jsx("div",{className:"text-center text-sm",children:d.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",d.jsx("button",{onClick:N,className:"text-primary hover:underline font-medium",children:"Sign up"})]})})]})]})})},Wz=1,Vz=1e6;let Kb=0;function Hz(){return Kb=(Kb+1)%Number.MAX_SAFE_INTEGER,Kb.toString()}const Yb=new Map,aC=e=>{if(Yb.has(e))return;const t=setTimeout(()=>{Yb.delete(e),mv({type:"REMOVE_TOAST",toastId:e})},Vz);Yb.set(e,t)},qz=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Wz)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?aC(n):e.toasts.forEach(r=>{aC(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},P0=[];let O0={toasts:[]};function mv(e){O0=qz(O0,e),P0.forEach(t=>{t(O0)})}function D0({...e}){const t=Hz(),n=s=>mv({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>mv({type:"DISMISS_TOAST",toastId:t});return mv({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Kz(){const[e,t]=_.useState(O0);return _.useEffect(()=>(P0.push(t),()=>{const n=P0.indexOf(t);n>-1&&P0.splice(n,1)}),[e]),{...e,toast:D0,dismiss:n=>mv({type:"DISMISS_TOAST",toastId:n})}}const Yz=({isOpen:e,onClose:t})=>{const[n,r]=_.useState("generate"),[s,i]=_.useState(!1),[c,u]=_.useState(""),p=oA(),m=()=>{i(!0);try{const S=Bx();u(Ps.nsecEncode(S)),r("download")}catch(S){console.error("Failed to generate key:",S),D0({title:"Error",description:"Failed to generate key. Please try again.",variant:"destructive"})}finally{i(!1)}},y=()=>{const S=new Blob([c],{type:"text/plain"}),k=globalThis.URL.createObjectURL(S),T=document.createElement("a");T.href=k,T.download="nsec.txt",document.body.appendChild(T),T.click(),globalThis.URL.revokeObjectURL(k),document.body.removeChild(T),D0({title:"Key downloaded",description:"Your key has been downloaded. Keep it safe!"})},g=()=>{p.nsec(c),r("done"),t(),D0({title:"Account created",description:"You are now logged in."})};return d.jsx(jd,{open:e,onOpenChange:t,children:d.jsxs(eu,{className:"sm:max-w-md p-0 overflow-hidden rounded-2xl",children:[d.jsxs(tu,{className:"px-6 pt-6 pb-0 relative",children:[d.jsxs(nu,{className:"text-xl font-semibold text-center",children:[n==="generate"&&"Create Your Account",n==="download"&&"Download Your Key",n==="done"&&"Setting Up Your Account"]}),d.jsxs(hh,{className:"text-center text-muted-foreground mt-2",children:[n==="generate"&&"Generate a secure key for your account",n==="download"&&"Keep your key safe - you'll need it to log in",n==="done"&&"Finalizing your account setup"]})]}),d.jsxs("div",{className:"px-6 py-8 space-y-6",children:[n==="generate"&&d.jsxs("div",{className:"text-center space-y-6",children:[d.jsx("div",{className:"p-4 rounded-lg bg-gray-50 dark:bg-gray-800 flex items-center justify-center",children:d.jsx(dU,{className:"w-16 h-16 text-primary"})}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"We'll generate a secure key for your account. You'll need this key to log in later."}),d.jsx(Pt,{className:"w-full rounded-full py-6",onClick:m,disabled:s,children:s?"Generating key...":"Generate my key"})]}),n==="download"&&d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"p-4 rounded-lg border bg-gray-50 dark:bg-gray-800 overflow-auto",children:d.jsx("code",{className:"text-xs break-all",children:c})}),d.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-2",children:[d.jsx("p",{className:"font-medium text-red-500",children:"Important:"}),d.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[d.jsx("li",{children:"This is your only way to access your account"}),d.jsx("li",{children:"Store it somewhere safe"}),d.jsx("li",{children:"Never share this key with anyone"})]})]}),d.jsxs("div",{className:"flex flex-col space-y-3",children:[d.jsxs(Pt,{variant:"outline",className:"w-full",onClick:y,children:[d.jsx(oU,{className:"w-4 h-4 mr-2"}),"Download Key"]}),d.jsx(Pt,{className:"w-full rounded-full py-6",onClick:g,children:"I've saved my key, continue"})]})]}),n==="done"&&d.jsx("div",{className:"flex justify-center items-center py-8",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})]})]})})};function aA(){const{nostr:e}=Os(),{logins:t,setLogin:n,removeLogin:r}=fS(),{data:s=[]}=xs({queryKey:["logins",t.map(u=>u.id).join(";")],queryFn:async({signal:u})=>{const p=await e.query([{kinds:[0],authors:t.map(m=>m.pubkey)}],{signal:AbortSignal.any([u,AbortSignal.timeout(1500)])});return t.map(({id:m,pubkey:y})=>{const g=p.find(S=>S.pubkey===y);try{const S=Pn.json().pipe(Pn.metadata()).parse(g==null?void 0:g.content);return{id:m,pubkey:y,metadata:S,event:g}}catch{return{id:m,pubkey:y,metadata:{},event:g}}})},retry:3}),i=(()=>{const u=t[0];if(!u)return;const p=s.find(m=>m.id===u.id);return{metadata:{},...p,id:u.id,pubkey:u.pubkey}})(),c=(s||[]).slice(1);return{authors:s,currentUser:i,otherUsers:c,setLogin:n,removeLogin:r}}const Gz=["top","right","bottom","left"],_d=Math.min,pi=Math.max,sx=Math.round,E0=Math.floor,Dl=e=>({x:e,y:e}),Zz={left:"right",right:"left",bottom:"top",top:"bottom"},Qz={start:"end",end:"start"};function r_(e,t,n){return pi(e,_d(t,n))}function Yc(e,t){return typeof e=="function"?e(t):e}function Gc(e){return e.split("-")[0]}function Bm(e){return e.split("-")[1]}function ES(e){return e==="x"?"y":"x"}function kS(e){return e==="y"?"height":"width"}function Wc(e){return["top","bottom"].includes(Gc(e))?"y":"x"}function CS(e){return ES(Wc(e))}function Xz(e,t,n){n===void 0&&(n=!1);const r=Bm(e),s=CS(e),i=kS(s);let c=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(c=ox(c)),[c,ox(c)]}function Jz(e){const t=ox(e);return[s_(e),t,s_(t)]}function s_(e){return e.replace(/start|end/g,t=>Qz[t])}function e7(e,t,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return n?t?s:r:t?r:s;case"left":case"right":return t?i:c;default:return[]}}function t7(e,t,n,r){const s=Bm(e);let i=e7(Gc(e),n==="start",r);return s&&(i=i.map(c=>c+"-"+s),t&&(i=i.concat(i.map(s_)))),i}function ox(e){return e.replace(/left|right|bottom|top/g,t=>Zz[t])}function n7(e){return{top:0,right:0,bottom:0,left:0,...e}}function lA(e){return typeof e!="number"?n7(e):{top:e,right:e,bottom:e,left:e}}function ix(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function lC(e,t,n){let{reference:r,floating:s}=e;const i=Wc(t),c=CS(t),u=kS(c),p=Gc(t),m=i==="y",y=r.x+r.width/2-s.width/2,g=r.y+r.height/2-s.height/2,S=r[u]/2-s[u]/2;let k;switch(p){case"top":k={x:y,y:r.y-s.height};break;case"bottom":k={x:y,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:g};break;case"left":k={x:r.x-s.width,y:g};break;default:k={x:r.x,y:r.y}}switch(Bm(t)){case"start":k[c]-=S*(n&&m?-1:1);break;case"end":k[c]+=S*(n&&m?-1:1);break}return k}const r7=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:c}=n,u=i.filter(Boolean),p=await(c.isRTL==null?void 0:c.isRTL(t));let m=await c.getElementRects({reference:e,floating:t,strategy:s}),{x:y,y:g}=lC(m,r,p),S=r,k={},T=0;for(let E=0;E<u.length;E++){const{name:N,fn:O}=u[E],{x:D,y:M,data:z,reset:q}=await O({x:y,y:g,initialPlacement:r,placement:S,strategy:s,middlewareData:k,rects:m,platform:c,elements:{reference:e,floating:t}});y=D??y,g=M??g,k={...k,[N]:{...k[N],...z}},q&&T<=50&&(T++,typeof q=="object"&&(q.placement&&(S=q.placement),q.rects&&(m=q.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:s}):q.rects),{x:y,y:g}=lC(m,S,p)),E=-1)}return{x:y,y:g,placement:S,strategy:s,middlewareData:k}};async function Lv(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:c,elements:u,strategy:p}=e,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:g="floating",altBoundary:S=!1,padding:k=0}=Yc(t,e),T=lA(k),N=u[S?g==="floating"?"reference":"floating":g],O=ix(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(N)))==null||n?N:N.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:m,rootBoundary:y,strategy:p})),D=g==="floating"?{x:r,y:s,width:c.floating.width,height:c.floating.height}:c.reference,M=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),z=await(i.isElement==null?void 0:i.isElement(M))?await(i.getScale==null?void 0:i.getScale(M))||{x:1,y:1}:{x:1,y:1},q=ix(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:D,offsetParent:M,strategy:p}):D);return{top:(O.top-q.top+T.top)/z.y,bottom:(q.bottom-O.bottom+T.bottom)/z.y,left:(O.left-q.left+T.left)/z.x,right:(q.right-O.right+T.right)/z.x}}const s7=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:c,elements:u,middlewareData:p}=t,{element:m,padding:y=0}=Yc(e,t)||{};if(m==null)return{};const g=lA(y),S={x:n,y:r},k=CS(s),T=kS(k),E=await c.getDimensions(m),N=k==="y",O=N?"top":"left",D=N?"bottom":"right",M=N?"clientHeight":"clientWidth",z=i.reference[T]+i.reference[k]-S[k]-i.floating[T],q=S[k]-i.reference[k],Y=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let Z=Y?Y[M]:0;(!Z||!await(c.isElement==null?void 0:c.isElement(Y)))&&(Z=u.floating[M]||i.floating[T]);const ae=z/2-q/2,te=Z/2-E[T]/2-1,ye=_d(g[O],te),Te=_d(g[D],te),Se=ye,_e=Z-E[T]-Te,Le=Z/2-E[T]/2+ae,ge=r_(Se,Le,_e),me=!p.arrow&&Bm(s)!=null&&Le!==ge&&i.reference[T]/2-(Le<Se?ye:Te)-E[T]/2<0,de=me?Le<Se?Le-Se:Le-_e:0;return{[k]:S[k]+de,data:{[k]:ge,centerOffset:Le-ge-de,...me&&{alignmentOffset:de}},reset:me}}}),o7=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:c,initialPlacement:u,platform:p,elements:m}=t,{mainAxis:y=!0,crossAxis:g=!0,fallbackPlacements:S,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:E=!0,...N}=Yc(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const O=Gc(s),D=Wc(u),M=Gc(u)===u,z=await(p.isRTL==null?void 0:p.isRTL(m.floating)),q=S||(M||!E?[ox(u)]:Jz(u)),Y=T!=="none";!S&&Y&&q.push(...t7(u,E,T,z));const Z=[u,...q],ae=await Lv(t,N),te=[];let ye=((r=i.flip)==null?void 0:r.overflows)||[];if(y&&te.push(ae[O]),g){const ge=Xz(s,c,z);te.push(ae[ge[0]],ae[ge[1]])}if(ye=[...ye,{placement:s,overflows:te}],!te.every(ge=>ge<=0)){var Te,Se;const ge=(((Te=i.flip)==null?void 0:Te.index)||0)+1,me=Z[ge];if(me){var _e;const Q=g==="alignment"?D!==Wc(me):!1,J=((_e=ye[0])==null?void 0:_e.overflows[0])>0;if(!Q||J)return{data:{index:ge,overflows:ye},reset:{placement:me}}}let de=(Se=ye.filter(Q=>Q.overflows[0]<=0).sort((Q,J)=>Q.overflows[1]-J.overflows[1])[0])==null?void 0:Se.placement;if(!de)switch(k){case"bestFit":{var Le;const Q=(Le=ye.filter(J=>{if(Y){const xe=Wc(J.placement);return xe===D||xe==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(xe=>xe>0).reduce((xe,K)=>xe+K,0)]).sort((J,xe)=>J[1]-xe[1])[0])==null?void 0:Le[0];Q&&(de=Q);break}case"initialPlacement":de=u;break}if(s!==de)return{reset:{placement:de}}}return{}}}};function cC(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uC(e){return Gz.some(t=>e[t]>=0)}const i7=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Yc(e,t);switch(r){case"referenceHidden":{const i=await Lv(t,{...s,elementContext:"reference"}),c=cC(i,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:uC(c)}}}case"escaped":{const i=await Lv(t,{...s,altBoundary:!0}),c=cC(i,n.floating);return{data:{escapedOffsets:c,escaped:uC(c)}}}default:return{}}}}};async function a7(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),c=Gc(n),u=Bm(n),p=Wc(n)==="y",m=["left","top"].includes(c)?-1:1,y=i&&p?-1:1,g=Yc(t,e);let{mainAxis:S,crossAxis:k,alignmentAxis:T}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof T=="number"&&(k=u==="end"?T*-1:T),p?{x:k*y,y:S*m}:{x:S*m,y:k*y}}const l7=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:c,middlewareData:u}=t,p=await a7(t,e);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+p.x,y:i+p.y,data:{...p,placement:c}}}}},c7=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:c=!1,limiter:u={fn:N=>{let{x:O,y:D}=N;return{x:O,y:D}}},...p}=Yc(e,t),m={x:n,y:r},y=await Lv(t,p),g=Wc(Gc(s)),S=ES(g);let k=m[S],T=m[g];if(i){const N=S==="y"?"top":"left",O=S==="y"?"bottom":"right",D=k+y[N],M=k-y[O];k=r_(D,k,M)}if(c){const N=g==="y"?"top":"left",O=g==="y"?"bottom":"right",D=T+y[N],M=T-y[O];T=r_(D,T,M)}const E=u.fn({...t,[S]:k,[g]:T});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[S]:i,[g]:c}}}}}},u7=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:c}=t,{offset:u=0,mainAxis:p=!0,crossAxis:m=!0}=Yc(e,t),y={x:n,y:r},g=Wc(s),S=ES(g);let k=y[S],T=y[g];const E=Yc(u,t),N=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(p){const M=S==="y"?"height":"width",z=i.reference[S]-i.floating[M]+N.mainAxis,q=i.reference[S]+i.reference[M]-N.mainAxis;k<z?k=z:k>q&&(k=q)}if(m){var O,D;const M=S==="y"?"width":"height",z=["top","left"].includes(Gc(s)),q=i.reference[g]-i.floating[M]+(z&&((O=c.offset)==null?void 0:O[g])||0)+(z?0:N.crossAxis),Y=i.reference[g]+i.reference[M]+(z?0:((D=c.offset)==null?void 0:D[g])||0)-(z?N.crossAxis:0);T<q?T=q:T>Y&&(T=Y)}return{[S]:k,[g]:T}}}},d7=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:c,elements:u}=t,{apply:p=()=>{},...m}=Yc(e,t),y=await Lv(t,m),g=Gc(s),S=Bm(s),k=Wc(s)==="y",{width:T,height:E}=i.floating;let N,O;g==="top"||g==="bottom"?(N=g,O=S===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(O=g,N=S==="end"?"top":"bottom");const D=E-y.top-y.bottom,M=T-y.left-y.right,z=_d(E-y[N],D),q=_d(T-y[O],M),Y=!t.middlewareData.shift;let Z=z,ae=q;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(ae=M),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(Z=D),Y&&!S){const ye=pi(y.left,0),Te=pi(y.right,0),Se=pi(y.top,0),_e=pi(y.bottom,0);k?ae=T-2*(ye!==0||Te!==0?ye+Te:pi(y.left,y.right)):Z=E-2*(Se!==0||_e!==0?Se+_e:pi(y.top,y.bottom))}await p({...t,availableWidth:ae,availableHeight:Z});const te=await c.getDimensions(u.floating);return T!==te.width||E!==te.height?{reset:{rects:!0}}:{}}}};function aw(){return typeof window<"u"}function Um(e){return cA(e)?(e.nodeName||"").toLowerCase():"#document"}function gi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bl(e){var t;return(t=(cA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function cA(e){return aw()?e instanceof Node||e instanceof gi(e).Node:!1}function Da(e){return aw()?e instanceof Element||e instanceof gi(e).Element:!1}function Fl(e){return aw()?e instanceof HTMLElement||e instanceof gi(e).HTMLElement:!1}function dC(e){return!aw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof gi(e).ShadowRoot}function ly(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ma(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(s)}function f7(e){return["table","td","th"].includes(Um(e))}function lw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function NS(e){const t=jS(),n=Da(e)?Ma(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function h7(e){let t=Sd(e);for(;Fl(t)&&!wm(t);){if(NS(t))return t;if(lw(t))return null;t=Sd(t)}return null}function jS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function wm(e){return["html","body","#document"].includes(Um(e))}function Ma(e){return gi(e).getComputedStyle(e)}function cw(e){return Da(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Sd(e){if(Um(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dC(e)&&e.host||Bl(e);return dC(t)?t.host:t}function uA(e){const t=Sd(e);return wm(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fl(t)&&ly(t)?t:uA(t)}function Fv(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=uA(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),c=gi(s);if(i){const u=o_(c);return t.concat(c,c.visualViewport||[],ly(s)?s:[],u&&n?Fv(u):[])}return t.concat(s,Fv(s,[],n))}function o_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dA(e){const t=Ma(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Fl(e),i=s?e.offsetWidth:n,c=s?e.offsetHeight:r,u=sx(n)!==i||sx(r)!==c;return u&&(n=i,r=c),{width:n,height:r,$:u}}function TS(e){return Da(e)?e:e.contextElement}function Gp(e){const t=TS(e);if(!Fl(t))return Dl(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=dA(t);let c=(i?sx(n.width):n.width)/r,u=(i?sx(n.height):n.height)/s;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const p7=Dl(0);function fA(e){const t=gi(e);return!jS()||!t.visualViewport?p7:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function m7(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==gi(e)?!1:t}function oh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=TS(e);let c=Dl(1);t&&(r?Da(r)&&(c=Gp(r)):c=Gp(e));const u=m7(i,n,r)?fA(i):Dl(0);let p=(s.left+u.x)/c.x,m=(s.top+u.y)/c.y,y=s.width/c.x,g=s.height/c.y;if(i){const S=gi(i),k=r&&Da(r)?gi(r):r;let T=S,E=o_(T);for(;E&&r&&k!==T;){const N=Gp(E),O=E.getBoundingClientRect(),D=Ma(E),M=O.left+(E.clientLeft+parseFloat(D.paddingLeft))*N.x,z=O.top+(E.clientTop+parseFloat(D.paddingTop))*N.y;p*=N.x,m*=N.y,y*=N.x,g*=N.y,p+=M,m+=z,T=gi(E),E=o_(T)}}return ix({width:y,height:g,x:p,y:m})}function AS(e,t){const n=cw(e).scrollLeft;return t?t.left+n:oh(Bl(e)).left+n}function hA(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:AS(e,r)),i=r.top+t.scrollTop;return{x:s,y:i}}function g7(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",c=Bl(r),u=t?lw(t.floating):!1;if(r===c||u&&i)return n;let p={scrollLeft:0,scrollTop:0},m=Dl(1);const y=Dl(0),g=Fl(r);if((g||!g&&!i)&&((Um(r)!=="body"||ly(c))&&(p=cw(r)),Fl(r))){const k=oh(r);m=Gp(r),y.x=k.x+r.clientLeft,y.y=k.y+r.clientTop}const S=c&&!g&&!i?hA(c,p,!0):Dl(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-p.scrollLeft*m.x+y.x+S.x,y:n.y*m.y-p.scrollTop*m.y+y.y+S.y}}function v7(e){return Array.from(e.getClientRects())}function y7(e){const t=Bl(e),n=cw(e),r=e.ownerDocument.body,s=pi(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=pi(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+AS(e);const u=-n.scrollTop;return Ma(r).direction==="rtl"&&(c+=pi(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:c,y:u}}function x7(e,t){const n=gi(e),r=Bl(e),s=n.visualViewport;let i=r.clientWidth,c=r.clientHeight,u=0,p=0;if(s){i=s.width,c=s.height;const m=jS();(!m||m&&t==="fixed")&&(u=s.offsetLeft,p=s.offsetTop)}return{width:i,height:c,x:u,y:p}}function w7(e,t){const n=oh(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=Fl(e)?Gp(e):Dl(1),c=e.clientWidth*i.x,u=e.clientHeight*i.y,p=s*i.x,m=r*i.y;return{width:c,height:u,x:p,y:m}}function fC(e,t,n){let r;if(t==="viewport")r=x7(e,n);else if(t==="document")r=y7(Bl(e));else if(Da(t))r=w7(t,n);else{const s=fA(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return ix(r)}function pA(e,t){const n=Sd(e);return n===t||!Da(n)||wm(n)?!1:Ma(n).position==="fixed"||pA(n,t)}function b7(e,t){const n=t.get(e);if(n)return n;let r=Fv(e,[],!1).filter(u=>Da(u)&&Um(u)!=="body"),s=null;const i=Ma(e).position==="fixed";let c=i?Sd(e):e;for(;Da(c)&&!wm(c);){const u=Ma(c),p=NS(c);!p&&u.position==="fixed"&&(s=null),(i?!p&&!s:!p&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ly(c)&&!p&&pA(e,c))?r=r.filter(y=>y!==c):s=u,c=Sd(c)}return t.set(e,r),r}function _7(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const c=[...n==="clippingAncestors"?lw(t)?[]:b7(t,this._c):[].concat(n),r],u=c[0],p=c.reduce((m,y)=>{const g=fC(t,y,s);return m.top=pi(g.top,m.top),m.right=_d(g.right,m.right),m.bottom=_d(g.bottom,m.bottom),m.left=pi(g.left,m.left),m},fC(t,u,s));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function S7(e){const{width:t,height:n}=dA(e);return{width:t,height:n}}function E7(e,t,n){const r=Fl(t),s=Bl(t),i=n==="fixed",c=oh(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const p=Dl(0);function m(){p.x=AS(s)}if(r||!r&&!i)if((Um(t)!=="body"||ly(s))&&(u=cw(t)),r){const k=oh(t,!0,i,t);p.x=k.x+t.clientLeft,p.y=k.y+t.clientTop}else s&&m();i&&!r&&s&&m();const y=s&&!r&&!i?hA(s,u):Dl(0),g=c.left+u.scrollLeft-p.x-y.x,S=c.top+u.scrollTop-p.y-y.y;return{x:g,y:S,width:c.width,height:c.height}}function Gb(e){return Ma(e).position==="static"}function hC(e,t){if(!Fl(e)||Ma(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Bl(e)===n&&(n=n.ownerDocument.body),n}function mA(e,t){const n=gi(e);if(lw(e))return n;if(!Fl(e)){let s=Sd(e);for(;s&&!wm(s);){if(Da(s)&&!Gb(s))return s;s=Sd(s)}return n}let r=hC(e,t);for(;r&&f7(r)&&Gb(r);)r=hC(r,t);return r&&wm(r)&&Gb(r)&&!NS(r)?n:r||h7(e)||n}const k7=async function(e){const t=this.getOffsetParent||mA,n=this.getDimensions,r=await n(e.floating);return{reference:E7(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function C7(e){return Ma(e).direction==="rtl"}const N7={convertOffsetParentRelativeRectToViewportRelativeRect:g7,getDocumentElement:Bl,getClippingRect:_7,getOffsetParent:mA,getElementRects:k7,getClientRects:v7,getDimensions:S7,getScale:Gp,isElement:Da,isRTL:C7};function gA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function j7(e,t){let n=null,r;const s=Bl(e);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,p){u===void 0&&(u=!1),p===void 0&&(p=1),i();const m=e.getBoundingClientRect(),{left:y,top:g,width:S,height:k}=m;if(u||t(),!S||!k)return;const T=E0(g),E=E0(s.clientWidth-(y+S)),N=E0(s.clientHeight-(g+k)),O=E0(y),M={rootMargin:-T+"px "+-E+"px "+-N+"px "+-O+"px",threshold:pi(0,_d(1,p))||1};let z=!0;function q(Y){const Z=Y[0].intersectionRatio;if(Z!==p){if(!z)return c();Z?c(!1,Z):r=setTimeout(()=>{c(!1,1e-7)},1e3)}Z===1&&!gA(m,e.getBoundingClientRect())&&c(),z=!1}try{n=new IntersectionObserver(q,{...M,root:s.ownerDocument})}catch{n=new IntersectionObserver(q,M)}n.observe(e)}return c(!0),i}function T7(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:p=!1}=r,m=TS(e),y=s||i?[...m?Fv(m):[],...Fv(t)]:[];y.forEach(O=>{s&&O.addEventListener("scroll",n,{passive:!0}),i&&O.addEventListener("resize",n)});const g=m&&u?j7(m,n):null;let S=-1,k=null;c&&(k=new ResizeObserver(O=>{let[D]=O;D&&D.target===m&&k&&(k.unobserve(t),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var M;(M=k)==null||M.observe(t)})),n()}),m&&!p&&k.observe(m),k.observe(t));let T,E=p?oh(e):null;p&&N();function N(){const O=oh(e);E&&!gA(E,O)&&n(),E=O,T=requestAnimationFrame(N)}return n(),()=>{var O;y.forEach(D=>{s&&D.removeEventListener("scroll",n),i&&D.removeEventListener("resize",n)}),g==null||g(),(O=k)==null||O.disconnect(),k=null,p&&cancelAnimationFrame(T)}}const A7=l7,R7=c7,P7=o7,O7=d7,D7=i7,pC=s7,M7=u7,I7=(e,t,n)=>{const r=new Map,s={platform:N7,...n},i={...s.platform,_c:r};return r7(e,t,{...s,platform:i})};var M0=typeof document<"u"?_.useLayoutEffect:_.useEffect;function ax(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ax(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!ax(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function vA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function mC(e,t){const n=vA(e);return Math.round(t*n)/n}function Zb(e){const t=_.useRef(e);return M0(()=>{t.current=e}),t}function L7(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:c}={},transform:u=!0,whileElementsMounted:p,open:m}=e,[y,g]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[S,k]=_.useState(r);ax(S,r)||k(r);const[T,E]=_.useState(null),[N,O]=_.useState(null),D=_.useCallback(Q=>{Q!==Y.current&&(Y.current=Q,E(Q))},[]),M=_.useCallback(Q=>{Q!==Z.current&&(Z.current=Q,O(Q))},[]),z=i||T,q=c||N,Y=_.useRef(null),Z=_.useRef(null),ae=_.useRef(y),te=p!=null,ye=Zb(p),Te=Zb(s),Se=Zb(m),_e=_.useCallback(()=>{if(!Y.current||!Z.current)return;const Q={placement:t,strategy:n,middleware:S};Te.current&&(Q.platform=Te.current),I7(Y.current,Z.current,Q).then(J=>{const xe={...J,isPositioned:Se.current!==!1};Le.current&&!ax(ae.current,xe)&&(ae.current=xe,Gv.flushSync(()=>{g(xe)}))})},[S,t,n,Te,Se]);M0(()=>{m===!1&&ae.current.isPositioned&&(ae.current.isPositioned=!1,g(Q=>({...Q,isPositioned:!1})))},[m]);const Le=_.useRef(!1);M0(()=>(Le.current=!0,()=>{Le.current=!1}),[]),M0(()=>{if(z&&(Y.current=z),q&&(Z.current=q),z&&q){if(ye.current)return ye.current(z,q,_e);_e()}},[z,q,_e,ye,te]);const ge=_.useMemo(()=>({reference:Y,floating:Z,setReference:D,setFloating:M}),[D,M]),me=_.useMemo(()=>({reference:z,floating:q}),[z,q]),de=_.useMemo(()=>{const Q={position:n,left:0,top:0};if(!me.floating)return Q;const J=mC(me.floating,y.x),xe=mC(me.floating,y.y);return u?{...Q,transform:"translate("+J+"px, "+xe+"px)",...vA(me.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:J,top:xe}},[n,u,me.floating,y.x,y.y]);return _.useMemo(()=>({...y,update:_e,refs:ge,elements:me,floatingStyles:de}),[y,_e,ge,me,de])}const F7=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?pC({element:r.current,padding:s}).fn(n):{}:r?pC({element:r,padding:s}).fn(n):{}}}},$7=(e,t)=>({...A7(e),options:[e,t]}),B7=(e,t)=>({...R7(e),options:[e,t]}),U7=(e,t)=>({...M7(e),options:[e,t]}),z7=(e,t)=>({...P7(e),options:[e,t]}),W7=(e,t)=>({...O7(e),options:[e,t]}),V7=(e,t)=>({...D7(e),options:[e,t]}),H7=(e,t)=>({...F7(e),options:[e,t]});var q7="Arrow",yA=_.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return d.jsx(kt.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});yA.displayName=q7;var K7=yA;function xA(e){const[t,n]=_.useState(void 0);return Br(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let c,u;if("borderBoxSize"in i){const p=i.borderBoxSize,m=Array.isArray(p)?p[0]:p;c=m.inlineSize,u=m.blockSize}else c=e.offsetWidth,u=e.offsetHeight;n({width:c,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var RS="Popper",[wA,Td]=vo(RS),[Y7,bA]=wA(RS),_A=e=>{const{__scopePopper:t,children:n}=e,[r,s]=_.useState(null);return d.jsx(Y7,{scope:t,anchor:r,onAnchorChange:s,children:n})};_A.displayName=RS;var SA="PopperAnchor",EA=_.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=bA(SA,n),c=_.useRef(null),u=dn(t,c);return _.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:d.jsx(kt.div,{...s,ref:u})});EA.displayName=SA;var PS="PopperContent",[G7,Z7]=wA(PS),kA=_.forwardRef((e,t)=>{var Me,at,Oe,wt,At,ut;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:g="partial",hideWhenDetached:S=!1,updatePositionStrategy:k="optimized",onPlaced:T,...E}=e,N=bA(PS,n),[O,D]=_.useState(null),M=dn(t,Gt=>D(Gt)),[z,q]=_.useState(null),Y=xA(z),Z=(Y==null?void 0:Y.width)??0,ae=(Y==null?void 0:Y.height)??0,te=r+(i!=="center"?"-"+i:""),ye=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},Te=Array.isArray(m)?m:[m],Se=Te.length>0,_e={padding:ye,boundary:Te.filter(X7),altBoundary:Se},{refs:Le,floatingStyles:ge,placement:me,isPositioned:de,middlewareData:Q}=L7({strategy:"fixed",placement:te,whileElementsMounted:(...Gt)=>T7(...Gt,{animationFrame:k==="always"}),elements:{reference:N.anchor},middleware:[$7({mainAxis:s+ae,alignmentAxis:c}),p&&B7({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?U7():void 0,..._e}),p&&z7({..._e}),W7({..._e,apply:({elements:Gt,rects:nn,availableWidth:On,availableHeight:cr})=>{const{width:zn,height:Xe}=nn.reference,Ft=Gt.floating.style;Ft.setProperty("--radix-popper-available-width",`${On}px`),Ft.setProperty("--radix-popper-available-height",`${cr}px`),Ft.setProperty("--radix-popper-anchor-width",`${zn}px`),Ft.setProperty("--radix-popper-anchor-height",`${Xe}px`)}}),z&&H7({element:z,padding:u}),J7({arrowWidth:Z,arrowHeight:ae}),S&&V7({strategy:"referenceHidden",..._e})]}),[J,xe]=jA(me),K=ss(T);Br(()=>{de&&(K==null||K())},[de,K]);const X=(Me=Q.arrow)==null?void 0:Me.x,Pe=(at=Q.arrow)==null?void 0:at.y,Be=((Oe=Q.arrow)==null?void 0:Oe.centerOffset)!==0,[Fe,Ze]=_.useState();return Br(()=>{O&&Ze(window.getComputedStyle(O).zIndex)},[O]),d.jsx("div",{ref:Le.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:de?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(wt=Q.transformOrigin)==null?void 0:wt.x,(At=Q.transformOrigin)==null?void 0:At.y].join(" "),...((ut=Q.hide)==null?void 0:ut.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:d.jsx(G7,{scope:n,placedSide:J,onArrowChange:q,arrowX:X,arrowY:Pe,shouldHideArrow:Be,children:d.jsx(kt.div,{"data-side":J,"data-align":xe,...E,ref:M,style:{...E.style,animation:de?void 0:"none"}})})})});kA.displayName=PS;var CA="PopperArrow",Q7={top:"bottom",right:"left",bottom:"top",left:"right"},NA=_.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=Z7(CA,r),c=Q7[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(K7,{...s,ref:n,style:{...s.style,display:"block"}})})});NA.displayName=CA;function X7(e){return e!==null}var J7=e=>({name:"transformOrigin",options:e,fn(t){var N,O,D;const{placement:n,rects:r,middlewareData:s}=t,c=((N=s.arrow)==null?void 0:N.centerOffset)!==0,u=c?0:e.arrowWidth,p=c?0:e.arrowHeight,[m,y]=jA(n),g={start:"0%",center:"50%",end:"100%"}[y],S=(((O=s.arrow)==null?void 0:O.x)??0)+u/2,k=(((D=s.arrow)==null?void 0:D.y)??0)+p/2;let T="",E="";return m==="bottom"?(T=c?g:`${S}px`,E=`${-p}px`):m==="top"?(T=c?g:`${S}px`,E=`${r.floating.height+p}px`):m==="right"?(T=`${-p}px`,E=c?g:`${k}px`):m==="left"&&(T=`${r.floating.width+p}px`,E=c?g:`${k}px`),{data:{x:T,y:E}}}});function jA(e){const[t,n="center"]=e.split("-");return[t,n]}var cy=_A,uy=EA,uw=kA,dw=NA,i_=["Enter"," "],eW=["ArrowDown","PageUp","Home"],TA=["ArrowUp","PageDown","End"],tW=[...eW,...TA],nW={ltr:[...i_,"ArrowRight"],rtl:[...i_,"ArrowLeft"]},rW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dy="Menu",[$v,sW,oW]=bS(dy),[ph,AA]=vo(dy,[oW,Td,sw]),fy=Td(),RA=sw(),[PA,Ad]=ph(dy),[iW,hy]=ph(dy),OA=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:c=!0}=e,u=fy(t),[p,m]=_.useState(null),y=_.useRef(!1),g=ss(i),S=iy(s);return _.useEffect(()=>{const k=()=>{y.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>y.current=!1;return document.addEventListener("keydown",k,{capture:!0}),()=>{document.removeEventListener("keydown",k,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),d.jsx(cy,{...u,children:d.jsx(PA,{scope:t,open:n,onOpenChange:g,content:p,onContentChange:m,children:d.jsx(iW,{scope:t,onClose:_.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:y,dir:S,modal:c,children:r})})})};OA.displayName=dy;var aW="MenuAnchor",OS=_.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=fy(n);return d.jsx(uy,{...s,...r,ref:t})});OS.displayName=aW;var DS="MenuPortal",[lW,DA]=ph(DS,{forceMount:void 0}),MA=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=Ad(DS,t);return d.jsx(lW,{scope:t,forceMount:n,children:d.jsx(Ds,{present:n||i.open,children:d.jsx(ny,{asChild:!0,container:s,children:r})})})};MA.displayName=DS;var Hi="MenuContent",[cW,MS]=ph(Hi),IA=_.forwardRef((e,t)=>{const n=DA(Hi,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Ad(Hi,e.__scopeMenu),c=hy(Hi,e.__scopeMenu);return d.jsx($v.Provider,{scope:e.__scopeMenu,children:d.jsx(Ds,{present:r||i.open,children:d.jsx($v.Slot,{scope:e.__scopeMenu,children:c.modal?d.jsx(uW,{...s,ref:t}):d.jsx(dW,{...s,ref:t})})})})}),uW=_.forwardRef((e,t)=>{const n=Ad(Hi,e.__scopeMenu),r=_.useRef(null),s=dn(t,r);return _.useEffect(()=>{const i=r.current;if(i)return Qx(i)},[]),d.jsx(IS,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ft(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),dW=_.forwardRef((e,t)=>{const n=Ad(Hi,e.__scopeMenu);return d.jsx(IS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),fW=bd("MenuContent.ScrollLock"),IS=_.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:p,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:S,onDismiss:k,disableOutsideScroll:T,...E}=e,N=Ad(Hi,n),O=hy(Hi,n),D=fy(n),M=RA(n),z=sW(n),[q,Y]=_.useState(null),Z=_.useRef(null),ae=dn(t,Z,N.onContentChange),te=_.useRef(0),ye=_.useRef(""),Te=_.useRef(0),Se=_.useRef(null),_e=_.useRef("right"),Le=_.useRef(0),ge=T?ry:_.Fragment,me=T?{as:fW,allowPinchZoom:!0}:void 0,de=J=>{var Me,at;const xe=ye.current+J,K=z().filter(Oe=>!Oe.disabled),X=document.activeElement,Pe=(Me=K.find(Oe=>Oe.ref.current===X))==null?void 0:Me.textValue,Be=K.map(Oe=>Oe.textValue),Fe=EW(Be,xe,Pe),Ze=(at=K.find(Oe=>Oe.textValue===Fe))==null?void 0:at.ref.current;(function Oe(wt){ye.current=wt,window.clearTimeout(te.current),wt!==""&&(te.current=window.setTimeout(()=>Oe(""),1e3))})(xe),Ze&&setTimeout(()=>Ze.focus())};_.useEffect(()=>()=>window.clearTimeout(te.current),[]),Gx();const Q=_.useCallback(J=>{var K,X;return _e.current===((K=Se.current)==null?void 0:K.side)&&CW(J,(X=Se.current)==null?void 0:X.area)},[]);return d.jsx(cW,{scope:n,searchRef:ye,onItemEnter:_.useCallback(J=>{Q(J)&&J.preventDefault()},[Q]),onItemLeave:_.useCallback(J=>{var xe;Q(J)||((xe=Z.current)==null||xe.focus(),Y(null))},[Q]),onTriggerLeave:_.useCallback(J=>{Q(J)&&J.preventDefault()},[Q]),pointerGraceTimerRef:Te,onPointerGraceIntentChange:_.useCallback(J=>{Se.current=J},[]),children:d.jsx(ge,{...me,children:d.jsx(ty,{asChild:!0,trapped:s,onMountAutoFocus:ft(i,J=>{var xe;J.preventDefault(),(xe=Z.current)==null||xe.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:d.jsx(Lm,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:m,onPointerDownOutside:y,onFocusOutside:g,onInteractOutside:S,onDismiss:k,children:d.jsx(VT,{asChild:!0,...M,dir:O.dir,orientation:"vertical",loop:r,currentTabStopId:q,onCurrentTabStopIdChange:Y,onEntryFocus:ft(p,J=>{O.isUsingKeyboardRef.current||J.preventDefault()}),preventScrollOnEntryFocus:!0,children:d.jsx(uw,{role:"menu","aria-orientation":"vertical","data-state":JA(N.open),"data-radix-menu-content":"",dir:O.dir,...D,...E,ref:ae,style:{outline:"none",...E.style},onKeyDown:ft(E.onKeyDown,J=>{const K=J.target.closest("[data-radix-menu-content]")===J.currentTarget,X=J.ctrlKey||J.altKey||J.metaKey,Pe=J.key.length===1;K&&(J.key==="Tab"&&J.preventDefault(),!X&&Pe&&de(J.key));const Be=Z.current;if(J.target!==Be||!tW.includes(J.key))return;J.preventDefault();const Ze=z().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);TA.includes(J.key)&&Ze.reverse(),_W(Ze)}),onBlur:ft(e.onBlur,J=>{J.currentTarget.contains(J.target)||(window.clearTimeout(te.current),ye.current="")}),onPointerMove:ft(e.onPointerMove,Bv(J=>{const xe=J.target,K=Le.current!==J.clientX;if(J.currentTarget.contains(xe)&&K){const X=J.clientX>Le.current?"right":"left";_e.current=X,Le.current=J.clientX}}))})})})})})})});IA.displayName=Hi;var hW="MenuGroup",LS=_.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return d.jsx(kt.div,{role:"group",...r,ref:t})});LS.displayName=hW;var pW="MenuLabel",LA=_.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return d.jsx(kt.div,{...r,ref:t})});LA.displayName=pW;var lx="MenuItem",gC="menu.itemSelect",fw=_.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=_.useRef(null),c=hy(lx,e.__scopeMenu),u=MS(lx,e.__scopeMenu),p=dn(t,i),m=_.useRef(!1),y=()=>{const g=i.current;if(!n&&g){const S=new CustomEvent(gC,{bubbles:!0,cancelable:!0});g.addEventListener(gC,k=>r==null?void 0:r(k),{once:!0}),lT(g,S),S.defaultPrevented?m.current=!1:c.onClose()}};return d.jsx(FA,{...s,ref:p,disabled:n,onClick:ft(e.onClick,y),onPointerDown:g=>{var S;(S=e.onPointerDown)==null||S.call(e,g),m.current=!0},onPointerUp:ft(e.onPointerUp,g=>{var S;m.current||(S=g.currentTarget)==null||S.click()}),onKeyDown:ft(e.onKeyDown,g=>{const S=u.searchRef.current!=="";n||S&&g.key===" "||i_.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});fw.displayName=lx;var FA=_.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,c=MS(lx,n),u=RA(n),p=_.useRef(null),m=dn(t,p),[y,g]=_.useState(!1),[S,k]=_.useState("");return _.useEffect(()=>{const T=p.current;T&&k((T.textContent??"").trim())},[i.children]),d.jsx($v.ItemSlot,{scope:n,disabled:r,textValue:s??S,children:d.jsx(HT,{asChild:!0,...u,focusable:!r,children:d.jsx(kt.div,{role:"menuitem","data-highlighted":y?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:m,onPointerMove:ft(e.onPointerMove,Bv(T=>{r?c.onItemLeave(T):(c.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ft(e.onPointerLeave,Bv(T=>c.onItemLeave(T))),onFocus:ft(e.onFocus,()=>g(!0)),onBlur:ft(e.onBlur,()=>g(!1))})})})}),mW="MenuCheckboxItem",$A=_.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return d.jsx(VA,{scope:e.__scopeMenu,checked:n,children:d.jsx(fw,{role:"menuitemcheckbox","aria-checked":cx(n)?"mixed":n,...s,ref:t,"data-state":BS(n),onSelect:ft(s.onSelect,()=>r==null?void 0:r(cx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});$A.displayName=mW;var BA="MenuRadioGroup",[gW,vW]=ph(BA,{value:void 0,onValueChange:()=>{}}),UA=_.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=ss(r);return d.jsx(gW,{scope:e.__scopeMenu,value:n,onValueChange:i,children:d.jsx(LS,{...s,ref:t})})});UA.displayName=BA;var zA="MenuRadioItem",WA=_.forwardRef((e,t)=>{const{value:n,...r}=e,s=vW(zA,e.__scopeMenu),i=n===s.value;return d.jsx(VA,{scope:e.__scopeMenu,checked:i,children:d.jsx(fw,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":BS(i),onSelect:ft(r.onSelect,()=>{var c;return(c=s.onValueChange)==null?void 0:c.call(s,n)},{checkForDefaultPrevented:!1})})})});WA.displayName=zA;var FS="MenuItemIndicator",[VA,yW]=ph(FS,{checked:!1}),HA=_.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=yW(FS,n);return d.jsx(Ds,{present:r||cx(i.checked)||i.checked===!0,children:d.jsx(kt.span,{...s,ref:t,"data-state":BS(i.checked)})})});HA.displayName=FS;var xW="MenuSeparator",qA=_.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return d.jsx(kt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});qA.displayName=xW;var wW="MenuArrow",KA=_.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=fy(n);return d.jsx(dw,{...s,...r,ref:t})});KA.displayName=wW;var $S="MenuSub",[bW,YA]=ph($S),GA=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:s}=e,i=Ad($S,t),c=fy(t),[u,p]=_.useState(null),[m,y]=_.useState(null),g=ss(s);return _.useEffect(()=>(i.open===!1&&g(!1),()=>g(!1)),[i.open,g]),d.jsx(cy,{...c,children:d.jsx(PA,{scope:t,open:r,onOpenChange:g,content:m,onContentChange:y,children:d.jsx(bW,{scope:t,contentId:Fr(),triggerId:Fr(),trigger:u,onTriggerChange:p,children:n})})})};GA.displayName=$S;var dv="MenuSubTrigger",ZA=_.forwardRef((e,t)=>{const n=Ad(dv,e.__scopeMenu),r=hy(dv,e.__scopeMenu),s=YA(dv,e.__scopeMenu),i=MS(dv,e.__scopeMenu),c=_.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:p}=i,m={__scopeMenu:e.__scopeMenu},y=_.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return _.useEffect(()=>y,[y]),_.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),p(null)}},[u,p]),d.jsx(OS,{asChild:!0,...m,children:d.jsx(FA,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":JA(n.open),...e,ref:Kc(t,s.onTriggerChange),onClick:g=>{var S;(S=e.onClick)==null||S.call(e,g),!(e.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ft(e.onPointerMove,Bv(g=>{i.onItemEnter(g),!g.defaultPrevented&&!e.disabled&&!n.open&&!c.current&&(i.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),y()},100))})),onPointerLeave:ft(e.onPointerLeave,Bv(g=>{var k,T;y();const S=(k=n.content)==null?void 0:k.getBoundingClientRect();if(S){const E=(T=n.content)==null?void 0:T.dataset.side,N=E==="right",O=N?-5:5,D=S[N?"left":"right"],M=S[N?"right":"left"];i.onPointerGraceIntentChange({area:[{x:g.clientX+O,y:g.clientY},{x:D,y:S.top},{x:M,y:S.top},{x:M,y:S.bottom},{x:D,y:S.bottom}],side:E}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(g),g.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ft(e.onKeyDown,g=>{var k;const S=i.searchRef.current!=="";e.disabled||S&&g.key===" "||nW[r.dir].includes(g.key)&&(n.onOpenChange(!0),(k=n.content)==null||k.focus(),g.preventDefault())})})})});ZA.displayName=dv;var QA="MenuSubContent",XA=_.forwardRef((e,t)=>{const n=DA(Hi,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=Ad(Hi,e.__scopeMenu),c=hy(Hi,e.__scopeMenu),u=YA(QA,e.__scopeMenu),p=_.useRef(null),m=dn(t,p);return d.jsx($v.Provider,{scope:e.__scopeMenu,children:d.jsx(Ds,{present:r||i.open,children:d.jsx($v.Slot,{scope:e.__scopeMenu,children:d.jsx(IS,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var g;c.isUsingKeyboardRef.current&&((g=p.current)==null||g.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:ft(e.onFocusOutside,y=>{y.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ft(e.onEscapeKeyDown,y=>{c.onClose(),y.preventDefault()}),onKeyDown:ft(e.onKeyDown,y=>{var k;const g=y.currentTarget.contains(y.target),S=rW[c.dir].includes(y.key);g&&S&&(i.onOpenChange(!1),(k=u.trigger)==null||k.focus(),y.preventDefault())})})})})})});XA.displayName=QA;function JA(e){return e?"open":"closed"}function cx(e){return e==="indeterminate"}function BS(e){return cx(e)?"indeterminate":e?"checked":"unchecked"}function _W(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function SW(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function EW(e,t,n){const s=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let c=SW(e,Math.max(i,0));s.length===1&&(c=c.filter(m=>m!==n));const p=c.find(m=>m.toLowerCase().startsWith(s.toLowerCase()));return p!==n?p:void 0}function kW(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,c=t.length-1;i<t.length;c=i++){const u=t[i],p=t[c],m=u.x,y=u.y,g=p.x,S=p.y;y>r!=S>r&&n<(g-m)*(r-y)/(S-y)+m&&(s=!s)}return s}function CW(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return kW(n,t)}function Bv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var NW=OA,jW=OS,TW=MA,AW=IA,RW=LS,PW=LA,OW=fw,DW=$A,MW=UA,IW=WA,LW=HA,FW=qA,$W=KA,BW=GA,UW=ZA,zW=XA,hw="DropdownMenu",[WW,mX]=vo(hw,[AA]),Js=AA(),[VW,eR]=WW(hw),tR=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:c,modal:u=!0}=e,p=Js(t),m=_.useRef(null),[y,g]=Oa({prop:s,defaultProp:i??!1,onChange:c,caller:hw});return d.jsx(VW,{scope:t,triggerId:Fr(),triggerRef:m,contentId:Fr(),open:y,onOpenChange:g,onOpenToggle:_.useCallback(()=>g(S=>!S),[g]),modal:u,children:d.jsx(NW,{...p,open:y,onOpenChange:g,dir:r,modal:u,children:n})})};tR.displayName=hw;var nR="DropdownMenuTrigger",rR=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=eR(nR,n),c=Js(n);return d.jsx(jW,{asChild:!0,...c,children:d.jsx(kt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Kc(t,i.triggerRef),onPointerDown:ft(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:ft(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});rR.displayName=nR;var HW="DropdownMenuPortal",sR=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Js(t);return d.jsx(TW,{...r,...n})};sR.displayName=HW;var oR="DropdownMenuContent",iR=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=eR(oR,n),i=Js(n),c=_.useRef(!1);return d.jsx(AW,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:ft(e.onCloseAutoFocus,u=>{var p;c.current||(p=s.triggerRef.current)==null||p.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:ft(e.onInteractOutside,u=>{const p=u.detail.originalEvent,m=p.button===0&&p.ctrlKey===!0,y=p.button===2||m;(!s.modal||y)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});iR.displayName=oR;var qW="DropdownMenuGroup",KW=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Js(n);return d.jsx(RW,{...s,...r,ref:t})});KW.displayName=qW;var YW="DropdownMenuLabel",aR=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Js(n);return d.jsx(PW,{...s,...r,ref:t})});aR.displayName=YW;var GW="DropdownMenuItem",lR=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Js(n);return d.jsx(OW,{...s,...r,ref:t})});lR.displayName=GW;var ZW="DropdownMenuCheckboxItem",cR=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Js(n);return d.jsx(DW,{...s,...r,ref:t})});cR.displayName=ZW;var QW="DropdownMenuRadioGroup",XW=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Js(n);return d.jsx(MW,{...s,...r,ref:t})});XW.displayName=QW;var JW="DropdownMenuRadioItem",uR=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Js(n);return d.jsx(IW,{...s,...r,ref:t})});uR.displayName=JW;var eV="DropdownMenuItemIndicator",dR=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Js(n);return d.jsx(LW,{...s,...r,ref:t})});dR.displayName=eV;var tV="DropdownMenuSeparator",fR=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Js(n);return d.jsx(FW,{...s,...r,ref:t})});fR.displayName=tV;var nV="DropdownMenuArrow",rV=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Js(n);return d.jsx($W,{...s,...r,ref:t})});rV.displayName=nV;var sV=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:s,defaultOpen:i}=e,c=Js(t),[u,p]=Oa({prop:r,defaultProp:i??!1,onChange:s,caller:"DropdownMenuSub"});return d.jsx(BW,{...c,open:u,onOpenChange:p,children:n})},oV="DropdownMenuSubTrigger",hR=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Js(n);return d.jsx(UW,{...s,...r,ref:t})});hR.displayName=oV;var iV="DropdownMenuSubContent",pR=_.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Js(n);return d.jsx(zW,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pR.displayName=iV;var aV=tR,lV=rR,cV=sR,mR=iR,gR=aR,vR=lR,yR=cR,xR=uR,wR=dR,bR=fR,uV=sV,_R=hR,SR=pR;const zm=aV,Wm=lV,dV=uV,ER=_.forwardRef(({className:e,inset:t,children:n,...r},s)=>d.jsxs(_R,{ref:s,className:ze("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...r,children:[n,d.jsx(Kj,{className:"ml-auto h-4 w-4"})]}));ER.displayName=_R.displayName;const kR=_.forwardRef(({className:e,...t},n)=>d.jsx(SR,{ref:n,className:ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));kR.displayName=SR.displayName;const mh=_.forwardRef(({className:e,sideOffset:t=4,...n},r)=>d.jsx(cV,{children:d.jsx(mR,{ref:r,sideOffset:t,className:ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));mh.displayName=mR.displayName;const vs=_.forwardRef(({className:e,inset:t,...n},r)=>d.jsx(vR,{ref:r,className:ze("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));vs.displayName=vR.displayName;const fV=_.forwardRef(({className:e,children:t,checked:n,...r},s)=>d.jsxs(yR,{ref:s,className:ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(wR,{children:d.jsx(mS,{className:"h-4 w-4"})})}),t]}));fV.displayName=yR.displayName;const hV=_.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(xR,{ref:r,className:ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(wR,{children:d.jsx(sU,{className:"h-2 w-2 fill-current"})})}),t]}));hV.displayName=xR.displayName;const pV=_.forwardRef(({className:e,inset:t,...n},r)=>d.jsx(gR,{ref:r,className:ze("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));pV.displayName=gR.displayName;const pd=_.forwardRef(({className:e,...t},n)=>d.jsx(bR,{ref:n,className:ze("-mx-1 my-1 h-px bg-muted",e),...t}));pd.displayName=bR.displayName;var Qb={exports:{}},Xb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vC;function mV(){if(vC)return Xb;vC=1;var e=Ax();function t(g,S){return g===S&&(g!==0||1/g===1/S)||g!==g&&S!==S}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,c=e.useDebugValue;function u(g,S){var k=S(),T=r({inst:{value:k,getSnapshot:S}}),E=T[0].inst,N=T[1];return i(function(){E.value=k,E.getSnapshot=S,p(E)&&N({inst:E})},[g,k,S]),s(function(){return p(E)&&N({inst:E}),g(function(){p(E)&&N({inst:E})})},[g]),c(k),k}function p(g){var S=g.getSnapshot;g=g.value;try{var k=S();return!n(g,k)}catch{return!0}}function m(g,S){return S()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Xb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:y,Xb}var yC;function gV(){return yC||(yC=1,Qb.exports=mV()),Qb.exports}var vV=gV();function yV(){return vV.useSyncExternalStore(xV,()=>!0,()=>!1)}function xV(){return()=>{}}var US="Avatar",[wV,gX]=vo(US),[bV,CR]=wV(US),NR=_.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=_.useState("idle");return d.jsx(bV,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:d.jsx(kt.span,{...r,ref:t})})});NR.displayName=US;var jR="AvatarImage",TR=_.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,c=CR(jR,n),u=_V(r,i),p=ss(m=>{s(m),c.onImageLoadingStatusChange(m)});return Br(()=>{u!=="idle"&&p(u)},[u,p]),u==="loaded"?d.jsx(kt.img,{...i,ref:t,src:r}):null});TR.displayName=jR;var AR="AvatarFallback",RR=_.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=CR(AR,n),[c,u]=_.useState(r===void 0);return _.useEffect(()=>{if(r!==void 0){const p=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(p)}},[r]),c&&i.imageLoadingStatus!=="loaded"?d.jsx(kt.span,{...s,ref:t}):null});RR.displayName=AR;function xC(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function _V(e,{referrerPolicy:t,crossOrigin:n}){const r=yV(),s=_.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[c,u]=_.useState(()=>xC(i,e));return Br(()=>{u(xC(i,e))},[i,e]),Br(()=>{const p=g=>()=>{u(g)};if(!i)return;const m=p("loaded"),y=p("error");return i.addEventListener("load",m),i.addEventListener("error",y),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",m),i.removeEventListener("error",y)}},[i,n,t]),c}var PR=NR,OR=TR,DR=RR;const ja=_.forwardRef(({className:e,...t},n)=>d.jsx(PR,{ref:n,className:ze("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ja.displayName=PR.displayName;const Ta=_.forwardRef(({className:e,...t},n)=>d.jsx(OR,{ref:n,className:ze("aspect-square h-full w-full",e),...t}));Ta.displayName=OR.displayName;const Aa=_.forwardRef(({className:e,...t},n)=>d.jsx(DR,{ref:n,className:ze("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Aa.displayName=DR.displayName;function MR(e){const t=["Swift","Bright","Calm","Bold","Wise","Kind","Quick","Brave","Cool","Sharp","Clear","Strong","Smart","Fast","Keen","Pure","Noble","Gentle","Fierce","Steady","Clever","Proud","Silent","Wild"],n=["Fox","Eagle","Wolf","Bear","Lion","Tiger","Hawk","Owl","Deer","Raven","Falcon","Lynx","Otter","Whale","Shark","Dolphin","Phoenix","Dragon","Panther","Jaguar","Cheetah","Leopard","Puma","Cobra"];let r=0;for(let c=0;c<e.length;c++){const u=e.charCodeAt(c);r=(r<<5)-r+u,r=r&r}const s=Math.abs(r)%t.length,i=Math.abs(r>>8)%n.length;return[t[s],n[i]].join(" ")}const SV={theme:"system",setTheme:()=>null},IR=_.createContext(SV);function EV({children:e,defaultTheme:t="system",storageKey:n="vite-ui-theme",...r}){const[s,i]=_.useState(()=>localStorage.getItem(n)||t);_.useEffect(()=>{const u=window.document.documentElement;if(u.classList.remove("light","dark"),s==="system"){const p=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";u.classList.add(p);return}u.classList.add(s)},[s]);const c={theme:s,setTheme:u=>{localStorage.setItem(n,u),i(u)}};return d.jsx(IR.Provider,{...r,value:c,children:e})}const LR=()=>{const e=_.useContext(IR);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e};function FR({onAddAccountClick:e,variant:t="default"}){const{currentUser:n,otherUsers:r,setLogin:s,removeLogin:i}=aA(),{setTheme:c}=LR();if(!n)return d.jsx("div",{className:"p-2",children:d.jsxs(Pt,{onClick:e,className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary text-primary-foreground w-full font-medium transition-all hover:bg-primary/90",children:[d.jsx(Rf,{className:"w-4 h-4"}),d.jsx("span",{className:"truncate",children:"Log in"})]})});const u=p=>p.metadata.name??MR(p.pubkey);return t==="menu"?d.jsxs("div",{className:"p-2 space-y-2",children:[d.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Account"}),r.map(p=>{var m;return d.jsxs("button",{onClick:()=>s(p.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md w-full hover:bg-accent",children:[d.jsxs(ja,{className:"w-8 h-8",children:[d.jsx(Ta,{src:p.metadata.picture,alt:u(p)}),d.jsx(Aa,{children:((m=u(p))==null?void 0:m.charAt(0))||d.jsx(Rf,{})})]}),d.jsx("div",{className:"flex-1 truncate",children:d.jsx("p",{className:"text-sm font-medium",children:u(p)})}),p.id===n.id&&d.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]},p.id)}),d.jsx("div",{className:"h-px bg-border my-2"}),d.jsxs("button",{onClick:e,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md w-full hover:bg-accent",children:[d.jsx(X1,{className:"w-4 h-4"}),d.jsx("span",{children:"Add another account"})]}),d.jsx("div",{className:"h-px bg-border my-2"}),d.jsxs(Pl,{to:`/profile/${Ps.npubEncode(n.pubkey)}`,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md w-full hover:bg-accent",children:[d.jsx(Rf,{className:"w-4 h-4"}),d.jsx("span",{children:"Profile"})]}),d.jsx("div",{className:"h-px bg-border my-2"}),d.jsxs("div",{className:"space-y-1",children:[d.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Theme"}),d.jsxs("button",{onClick:()=>c("light"),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md w-full hover:bg-accent",children:[d.jsx(Ib,{className:"w-4 h-4 mr-2"}),d.jsx("span",{children:"Light"})]}),d.jsxs("button",{onClick:()=>c("dark"),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md w-full hover:bg-accent",children:[d.jsx(Mb,{className:"w-4 h-4 mr-2"}),d.jsx("span",{children:"Dark"})]}),d.jsxs("button",{onClick:()=>c("system"),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md w-full hover:bg-accent",children:[d.jsx(Wk,{className:"w-4 h-4 mr-2"}),d.jsx("span",{children:"System"})]})]}),d.jsx("div",{className:"h-px bg-border my-2"}),d.jsxs("button",{onClick:()=>i(n.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md w-full hover:bg-accent text-red-500",children:[d.jsx(zk,{className:"w-4 h-4"}),d.jsx("span",{children:"Log out"})]})]}):d.jsxs(zm,{children:[d.jsx(Wm,{asChild:!0,children:d.jsxs("button",{className:"flex items-center gap-3 p-3 rounded-full hover:bg-accent transition-all w-full text-foreground",children:[d.jsxs(ja,{className:"w-10 h-10",children:[d.jsx(Ta,{src:n.metadata.picture,alt:u(n)}),d.jsx(Aa,{children:u(n).charAt(0)})]}),d.jsx("div",{className:"flex-1 text-left hidden md:block truncate",children:d.jsx("p",{className:"font-medium text-sm truncate",children:u(n)})}),d.jsx(Dm,{className:"w-4 h-4 text-muted-foreground"})]})}),d.jsxs(mh,{className:"w-56 p-2 animate-scale-in",children:[d.jsx("div",{className:"font-medium text-sm px-2 py-1.5",children:"Switch Account"}),r.map(p=>{var m;return d.jsxs(vs,{onClick:()=>s(p.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[d.jsxs(ja,{className:"w-8 h-8",children:[d.jsx(Ta,{src:p.metadata.picture,alt:u(p)}),d.jsx(Aa,{children:((m=u(p))==null?void 0:m.charAt(0))||d.jsx(Rf,{})})]}),d.jsx("div",{className:"flex-1 truncate",children:d.jsx("p",{className:"text-sm font-medium",children:u(p)})}),p.id===n.id&&d.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"})]},p.id)}),d.jsx(pd,{}),d.jsxs(vs,{onClick:e,className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[d.jsx(X1,{className:"w-4 h-4"}),d.jsx("span",{children:"Add another account"})]}),d.jsx(pd,{}),d.jsx(vs,{asChild:!0,className:"cursor-pointer p-2 rounded-md",children:d.jsxs(Pl,{to:`/profile/${Ps.npubEncode(n.pubkey)}`,className:"flex items-center gap-2",children:[d.jsx(Rf,{className:"w-4 h-4"}),d.jsx("span",{children:"Profile"})]})}),d.jsx(pd,{}),d.jsxs(dV,{children:[d.jsxs(ER,{className:"flex items-center gap-2 cursor-pointer p-2 rounded-md",children:[d.jsx(Ib,{className:"w-4 h-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),d.jsx(Mb,{className:"absolute w-4 h-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),d.jsx("span",{children:"Theme"})]}),d.jsxs(kR,{children:[d.jsxs(vs,{onClick:()=>c("light"),children:[d.jsx(Ib,{className:"w-4 h-4 mr-2"}),d.jsx("span",{children:"Light"})]}),d.jsxs(vs,{onClick:()=>c("dark"),children:[d.jsx(Mb,{className:"w-4 h-4 mr-2"}),d.jsx("span",{children:"Dark"})]}),d.jsxs(vs,{onClick:()=>c("system"),children:[d.jsx(Wk,{className:"w-4 h-4 mr-2"}),d.jsx("span",{children:"System"})]})]})]}),d.jsxs(vs,{onClick:()=>i(n.id),className:"flex items-center gap-2 cursor-pointer p-2 rounded-md text-red-500",children:[d.jsx(zk,{className:"w-4 h-4"}),d.jsx("span",{children:"Log out"})]})]})]})}function a_({className:e}){const{currentUser:t}=aA(),[n,r]=_.useState(!1),[s,i]=_.useState(!1),c=()=>{r(!1),i(!1)};return d.jsxs("div",{className:ze("inline-flex items-center justify-center",e),children:[t?d.jsx(FR,{onAddAccountClick:()=>r(!0)}):d.jsxs(Pt,{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 rounded-full bg-primary text-primary-foreground w-full font-medium transition-all hover:bg-primary/90 animate-scale-in",children:[d.jsx(Rf,{className:"w-4 h-4"}),d.jsx("span",{className:"truncate",children:"Log in"})]}),d.jsx(iA,{isOpen:n,onClose:()=>r(!1),onLogin:c,onSignup:()=>i(!0)}),d.jsx(Yz,{isOpen:s,onClose:()=>i(!1)})]})}const kV=Im("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Vi({className:e,variant:t,...n}){return d.jsx("div",{className:ze(kV({variant:t}),e),...n})}function l_(e,[t,n]){return Math.min(n,Math.max(t,e))}function CV(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var zS="ScrollArea",[$R,vX]=vo(zS),[NV,Ki]=$R(zS),BR=_.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...c}=e,[u,p]=_.useState(null),[m,y]=_.useState(null),[g,S]=_.useState(null),[k,T]=_.useState(null),[E,N]=_.useState(null),[O,D]=_.useState(0),[M,z]=_.useState(0),[q,Y]=_.useState(!1),[Z,ae]=_.useState(!1),te=dn(t,Te=>p(Te)),ye=iy(s);return d.jsx(NV,{scope:n,type:r,dir:ye,scrollHideDelay:i,scrollArea:u,viewport:m,onViewportChange:y,content:g,onContentChange:S,scrollbarX:k,onScrollbarXChange:T,scrollbarXEnabled:q,onScrollbarXEnabledChange:Y,scrollbarY:E,onScrollbarYChange:N,scrollbarYEnabled:Z,onScrollbarYEnabledChange:ae,onCornerWidthChange:D,onCornerHeightChange:z,children:d.jsx(kt.div,{dir:ye,...c,ref:te,style:{position:"relative","--radix-scroll-area-corner-width":O+"px","--radix-scroll-area-corner-height":M+"px",...e.style}})})});BR.displayName=zS;var UR="ScrollAreaViewport",zR=_.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,c=Ki(UR,n),u=_.useRef(null),p=dn(t,u,c.onViewportChange);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),d.jsx(kt.div,{"data-radix-scroll-area-viewport":"",...i,ref:p,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:d.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});zR.displayName=UR;var Ul="ScrollAreaScrollbar",WS=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Ki(Ul,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:c}=s,u=e.orientation==="horizontal";return _.useEffect(()=>(u?i(!0):c(!0),()=>{u?i(!1):c(!1)}),[u,i,c]),s.type==="hover"?d.jsx(jV,{...r,ref:t,forceMount:n}):s.type==="scroll"?d.jsx(TV,{...r,ref:t,forceMount:n}):s.type==="auto"?d.jsx(WR,{...r,ref:t,forceMount:n}):s.type==="always"?d.jsx(VS,{...r,ref:t}):null});WS.displayName=Ul;var jV=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Ki(Ul,e.__scopeScrollArea),[i,c]=_.useState(!1);return _.useEffect(()=>{const u=s.scrollArea;let p=0;if(u){const m=()=>{window.clearTimeout(p),c(!0)},y=()=>{p=window.setTimeout(()=>c(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",m),u.addEventListener("pointerleave",y),()=>{window.clearTimeout(p),u.removeEventListener("pointerenter",m),u.removeEventListener("pointerleave",y)}}},[s.scrollArea,s.scrollHideDelay]),d.jsx(Ds,{present:n||i,children:d.jsx(WR,{"data-state":i?"visible":"hidden",...r,ref:t})})}),TV=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Ki(Ul,e.__scopeScrollArea),i=e.orientation==="horizontal",c=mw(()=>p("SCROLL_END"),100),[u,p]=CV("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return _.useEffect(()=>{if(u==="idle"){const m=window.setTimeout(()=>p("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(m)}},[u,s.scrollHideDelay,p]),_.useEffect(()=>{const m=s.viewport,y=i?"scrollLeft":"scrollTop";if(m){let g=m[y];const S=()=>{const k=m[y];g!==k&&(p("SCROLL"),c()),g=k};return m.addEventListener("scroll",S),()=>m.removeEventListener("scroll",S)}},[s.viewport,i,p,c]),d.jsx(Ds,{present:n||u!=="hidden",children:d.jsx(VS,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ft(e.onPointerEnter,()=>p("POINTER_ENTER")),onPointerLeave:ft(e.onPointerLeave,()=>p("POINTER_LEAVE"))})})}),WR=_.forwardRef((e,t)=>{const n=Ki(Ul,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,c]=_.useState(!1),u=e.orientation==="horizontal",p=mw(()=>{if(n.viewport){const m=n.viewport.offsetWidth<n.viewport.scrollWidth,y=n.viewport.offsetHeight<n.viewport.scrollHeight;c(u?m:y)}},10);return bm(n.viewport,p),bm(n.content,p),d.jsx(Ds,{present:r||i,children:d.jsx(VS,{"data-state":i?"visible":"hidden",...s,ref:t})})}),VS=_.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Ki(Ul,e.__scopeScrollArea),i=_.useRef(null),c=_.useRef(0),[u,p]=_.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=YR(u.viewport,u.content),y={...r,sizes:u,onSizesChange:p,hasThumb:m>0&&m<1,onThumbChange:S=>i.current=S,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:S=>c.current=S};function g(S,k){return MV(S,c.current,u,k)}return n==="horizontal"?d.jsx(AV,{...y,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const S=s.viewport.scrollLeft,k=wC(S,u,s.dir);i.current.style.transform=`translate3d(${k}px, 0, 0)`}},onWheelScroll:S=>{s.viewport&&(s.viewport.scrollLeft=S)},onDragScroll:S=>{s.viewport&&(s.viewport.scrollLeft=g(S,s.dir))}}):n==="vertical"?d.jsx(RV,{...y,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const S=s.viewport.scrollTop,k=wC(S,u);i.current.style.transform=`translate3d(0, ${k}px, 0)`}},onWheelScroll:S=>{s.viewport&&(s.viewport.scrollTop=S)},onDragScroll:S=>{s.viewport&&(s.viewport.scrollTop=g(S))}}):null}),AV=_.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Ki(Ul,e.__scopeScrollArea),[c,u]=_.useState(),p=_.useRef(null),m=dn(t,p,i.onScrollbarXChange);return _.useEffect(()=>{p.current&&u(getComputedStyle(p.current))},[p]),d.jsx(HR,{"data-orientation":"horizontal",...s,ref:m,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":pw(n)+"px",...e.style},onThumbPointerDown:y=>e.onThumbPointerDown(y.x),onDragScroll:y=>e.onDragScroll(y.x),onWheelScroll:(y,g)=>{if(i.viewport){const S=i.viewport.scrollLeft+y.deltaX;e.onWheelScroll(S),ZR(S,g)&&y.preventDefault()}},onResize:()=>{p.current&&i.viewport&&c&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:p.current.clientWidth,paddingStart:dx(c.paddingLeft),paddingEnd:dx(c.paddingRight)}})}})}),RV=_.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=Ki(Ul,e.__scopeScrollArea),[c,u]=_.useState(),p=_.useRef(null),m=dn(t,p,i.onScrollbarYChange);return _.useEffect(()=>{p.current&&u(getComputedStyle(p.current))},[p]),d.jsx(HR,{"data-orientation":"vertical",...s,ref:m,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":pw(n)+"px",...e.style},onThumbPointerDown:y=>e.onThumbPointerDown(y.y),onDragScroll:y=>e.onDragScroll(y.y),onWheelScroll:(y,g)=>{if(i.viewport){const S=i.viewport.scrollTop+y.deltaY;e.onWheelScroll(S),ZR(S,g)&&y.preventDefault()}},onResize:()=>{p.current&&i.viewport&&c&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:p.current.clientHeight,paddingStart:dx(c.paddingTop),paddingEnd:dx(c.paddingBottom)}})}})}),[PV,VR]=$R(Ul),HR=_.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:c,onThumbPointerDown:u,onThumbPositionChange:p,onDragScroll:m,onWheelScroll:y,onResize:g,...S}=e,k=Ki(Ul,n),[T,E]=_.useState(null),N=dn(t,te=>E(te)),O=_.useRef(null),D=_.useRef(""),M=k.viewport,z=r.content-r.viewport,q=ss(y),Y=ss(p),Z=mw(g,10);function ae(te){if(O.current){const ye=te.clientX-O.current.left,Te=te.clientY-O.current.top;m({x:ye,y:Te})}}return _.useEffect(()=>{const te=ye=>{const Te=ye.target;(T==null?void 0:T.contains(Te))&&q(ye,z)};return document.addEventListener("wheel",te,{passive:!1}),()=>document.removeEventListener("wheel",te,{passive:!1})},[M,T,z,q]),_.useEffect(Y,[r,Y]),bm(T,Z),bm(k.content,Z),d.jsx(PV,{scope:n,scrollbar:T,hasThumb:s,onThumbChange:ss(i),onThumbPointerUp:ss(c),onThumbPositionChange:Y,onThumbPointerDown:ss(u),children:d.jsx(kt.div,{...S,ref:N,style:{position:"absolute",...S.style},onPointerDown:ft(e.onPointerDown,te=>{te.button===0&&(te.target.setPointerCapture(te.pointerId),O.current=T.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k.viewport&&(k.viewport.style.scrollBehavior="auto"),ae(te))}),onPointerMove:ft(e.onPointerMove,ae),onPointerUp:ft(e.onPointerUp,te=>{const ye=te.target;ye.hasPointerCapture(te.pointerId)&&ye.releasePointerCapture(te.pointerId),document.body.style.webkitUserSelect=D.current,k.viewport&&(k.viewport.style.scrollBehavior=""),O.current=null})})})}),ux="ScrollAreaThumb",qR=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=VR(ux,e.__scopeScrollArea);return d.jsx(Ds,{present:n||s.hasThumb,children:d.jsx(OV,{ref:t,...r})})}),OV=_.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=Ki(ux,n),c=VR(ux,n),{onThumbPositionChange:u}=c,p=dn(t,g=>c.onThumbChange(g)),m=_.useRef(void 0),y=mw(()=>{m.current&&(m.current(),m.current=void 0)},100);return _.useEffect(()=>{const g=i.viewport;if(g){const S=()=>{if(y(),!m.current){const k=IV(g,u);m.current=k,u()}};return u(),g.addEventListener("scroll",S),()=>g.removeEventListener("scroll",S)}},[i.viewport,y,u]),d.jsx(kt.div,{"data-state":c.hasThumb?"visible":"hidden",...s,ref:p,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ft(e.onPointerDownCapture,g=>{const k=g.target.getBoundingClientRect(),T=g.clientX-k.left,E=g.clientY-k.top;c.onThumbPointerDown({x:T,y:E})}),onPointerUp:ft(e.onPointerUp,c.onThumbPointerUp)})});qR.displayName=ux;var HS="ScrollAreaCorner",KR=_.forwardRef((e,t)=>{const n=Ki(HS,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?d.jsx(DV,{...e,ref:t}):null});KR.displayName=HS;var DV=_.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Ki(HS,n),[i,c]=_.useState(0),[u,p]=_.useState(0),m=!!(i&&u);return bm(s.scrollbarX,()=>{var g;const y=((g=s.scrollbarX)==null?void 0:g.offsetHeight)||0;s.onCornerHeightChange(y),p(y)}),bm(s.scrollbarY,()=>{var g;const y=((g=s.scrollbarY)==null?void 0:g.offsetWidth)||0;s.onCornerWidthChange(y),c(y)}),m?d.jsx(kt.div,{...r,ref:t,style:{width:i,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function dx(e){return e?parseInt(e,10):0}function YR(e,t){const n=e/t;return isNaN(n)?0:n}function pw(e){const t=YR(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function MV(e,t,n,r="ltr"){const s=pw(n),i=s/2,c=t||i,u=s-c,p=n.scrollbar.paddingStart+c,m=n.scrollbar.size-n.scrollbar.paddingEnd-u,y=n.content-n.viewport,g=r==="ltr"?[0,y]:[y*-1,0];return GR([p,m],g)(e)}function wC(e,t,n="ltr"){const r=pw(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,c=t.content-t.viewport,u=i-r,p=n==="ltr"?[0,c]:[c*-1,0],m=l_(e,p);return GR([0,c],[0,u])(m)}function GR(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function ZR(e,t){return e>0&&e<t}var IV=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},c=n.left!==i.left,u=n.top!==i.top;(c||u)&&t(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function mw(e,t){const n=ss(e),r=_.useRef(0);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),_.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function bm(e,t){const n=ss(t);Br(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var QR=BR,LV=zR,FV=KR;const XR=_.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(QR,{ref:r,className:ze("relative overflow-hidden",e),...n,children:[d.jsx(LV,{className:"h-full w-full rounded-[inherit]",children:t}),d.jsx(JR,{}),d.jsx(FV,{})]}));XR.displayName=QR.displayName;const JR=_.forwardRef(({className:e,orientation:t="vertical",...n},r)=>d.jsx(WS,{ref:r,orientation:t,className:ze("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:d.jsx(qR,{className:"relative flex-1 rounded-full bg-border"})}));JR.displayName=WS.displayName;const eP=_.createContext(void 0),$V=50,bC="plektos-notifications";function BV({children:e}){const[t,n]=_.useState([]);_.useEffect(()=>{try{const m=localStorage.getItem(bC);if(m){const y=JSON.parse(m);Array.isArray(y)&&n(y)}}catch(m){console.error("Failed to load notifications from storage:",m)}},[]),_.useEffect(()=>{try{localStorage.setItem(bC,JSON.stringify(t))}catch(m){console.error("Failed to save notifications to storage:",m)}},[t]);const r=_.useCallback(m=>{n(y=>y.some(k=>k.id===m.id||k.type===m.type&&k.eventId===m.eventId&&k.fromPubkey===m.fromPubkey&&Math.abs(k.timestamp-m.timestamp)<6e4)?y:[m,...y].sort((k,T)=>T.timestamp-k.timestamp).slice(0,$V))},[]),s=_.useCallback(m=>{n(y=>y.map(g=>g.id===m?{...g,read:!0}:g))},[]),i=_.useCallback(()=>{n(m=>m.map(y=>({...y,read:!0})))},[]),c=_.useCallback(()=>{n([])},[]),u=t.filter(m=>!m.read).length,p={notifications:t,unreadCount:u,addNotification:r,markAsRead:s,markAllAsRead:i,clearAll:c};return d.jsx(eP.Provider,{value:p,children:e})}function qS(){const e=_.useContext(eP);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e}function Xt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Vo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ho(e,t){const n=Xt(e);return isNaN(t)?Vo(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ia(e,t){const n=Xt(e);if(isNaN(t))return Vo(e,NaN);if(!t)return n;const r=n.getDate(),s=Vo(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const KS=6048e5,UV=864e5,k0=43200,_C=1440;let zV={};function Vm(){return zV}function $l(e,t){var u,p,m,y;const n=Vm(),r=(t==null?void 0:t.weekStartsOn)??((p=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((y=(m=n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,s=Xt(e),i=s.getDay(),c=(i<r?7:0)+i-r;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function ih(e){return $l(e,{weekStartsOn:1})}function tP(e){const t=Xt(e),n=t.getFullYear(),r=Vo(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=ih(r),i=Vo(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const c=ih(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=c.getTime()?n:n-1}function _m(e){const t=Xt(e);return t.setHours(0,0,0,0),t}function Sm(e){const t=Xt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Al(e,t){const n=_m(e),r=_m(t),s=+n-Sm(n),i=+r-Sm(r);return Math.round((s-i)/UV)}function WV(e){const t=tP(e),n=Vo(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),ih(n)}function c_(e,t){const n=t*7;return ho(e,n)}function VV(e,t){return Ia(e,t*12)}function HV(e){let t;return e.forEach(function(n){const r=Xt(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function qV(e){let t;return e.forEach(n=>{const r=Xt(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function I0(e,t){const n=Xt(e),r=Xt(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function KV(e){return Vo(e,Date.now())}function Uo(e,t){const n=_m(e),r=_m(t);return+n==+r}function YS(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function YV(e){if(!YS(e)&&typeof e!="number")return!1;const t=Xt(e);return!isNaN(Number(t))}function Em(e,t){const n=Xt(e),r=Xt(t),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function GV(e,t,n){const r=$l(e,n),s=$l(t,n),i=+r-Sm(r),c=+s-Sm(s);return Math.round((i-c)/KS)}function ZV(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function QV(e,t){return+Xt(e)-+Xt(t)}function XV(e){const t=Xt(e);return t.setHours(23,59,59,999),t}function gw(e){const t=Xt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function JV(e){const t=Xt(e);return+XV(t)==+gw(t)}function eH(e,t){const n=Xt(e),r=Xt(t),s=I0(n,r),i=Math.abs(Em(n,r));let c;if(i<1)c=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-s*i);let u=I0(n,r)===-s;JV(Xt(e))&&i===1&&I0(e,r)===1&&(u=!1),c=s*(i-Number(u))}return c===0?0:c}function tH(e,t,n){const r=QV(e,t)/1e3;return ZV(n==null?void 0:n.roundingMethod)(r)}function Wo(e){const t=Xt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function nP(e){const t=Xt(e),n=Vo(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function GS(e,t){var u,p,m,y;const n=Vm(),r=(t==null?void 0:t.weekStartsOn)??((p=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((y=(m=n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,s=Xt(e),i=s.getDay(),c=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+c),s.setHours(23,59,59,999),s}function rP(e){return GS(e,{weekStartsOn:1})}const nH={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rH=(e,t,n)=>{let r;const s=nH[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Jb(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const sH={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oH={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iH={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},aH={date:Jb({formats:sH,defaultWidth:"full"}),time:Jb({formats:oH,defaultWidth:"full"}),dateTime:Jb({formats:iH,defaultWidth:"full"})},lH={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cH=(e,t,n,r)=>lH[e];function tv(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):c;s=e.formattingValues[u]||e.formattingValues[c]}else{const c=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[u]||e.values[c]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const uH={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dH={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fH={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hH={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},mH={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gH=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},vH={ordinalNumber:gH,era:tv({values:uH,defaultWidth:"wide"}),quarter:tv({values:dH,defaultWidth:"wide",argumentCallback:e=>e-1}),month:tv({values:fH,defaultWidth:"wide"}),day:tv({values:hH,defaultWidth:"wide"}),dayPeriod:tv({values:pH,defaultWidth:"wide",formattingValues:mH,defaultFormattingWidth:"wide"})};function nv(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const c=i[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(u)?xH(u,g=>g.test(c)):yH(u,g=>g.test(c));let m;m=e.valueCallback?e.valueCallback(p):p,m=n.valueCallback?n.valueCallback(m):m;const y=t.slice(c.length);return{value:m,rest:y}}}function yH(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function xH(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function wH(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let c=e.valueCallback?e.valueCallback(i[0]):i[0];c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(s.length);return{value:c,rest:u}}}const bH=/^(\d+)(th|st|nd|rd)?/i,_H=/\d+/i,SH={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},EH={any:[/^b/i,/^(a|c)/i]},kH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CH={any:[/1/i,/2/i,/3/i,/4/i]},NH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},TH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},AH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},PH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},OH={ordinalNumber:wH({matchPattern:bH,parsePattern:_H,valueCallback:e=>parseInt(e,10)}),era:nv({matchPatterns:SH,defaultMatchWidth:"wide",parsePatterns:EH,defaultParseWidth:"any"}),quarter:nv({matchPatterns:kH,defaultMatchWidth:"wide",parsePatterns:CH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:nv({matchPatterns:NH,defaultMatchWidth:"wide",parsePatterns:jH,defaultParseWidth:"any"}),day:nv({matchPatterns:TH,defaultMatchWidth:"wide",parsePatterns:AH,defaultParseWidth:"any"}),dayPeriod:nv({matchPatterns:RH,defaultMatchWidth:"any",parsePatterns:PH,defaultParseWidth:"any"})},ZS={code:"en-US",formatDistance:rH,formatLong:aH,formatRelative:cH,localize:vH,match:OH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function DH(e){const t=Xt(e);return Al(t,nP(t))+1}function sP(e){const t=Xt(e),n=+ih(t)-+WV(t);return Math.round(n/KS)+1}function oP(e,t){var y,g,S,k;const n=Xt(e),r=n.getFullYear(),s=Vm(),i=(t==null?void 0:t.firstWeekContainsDate)??((g=(y=t==null?void 0:t.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((k=(S=s.locale)==null?void 0:S.options)==null?void 0:k.firstWeekContainsDate)??1,c=Vo(e,0);c.setFullYear(r+1,0,i),c.setHours(0,0,0,0);const u=$l(c,t),p=Vo(e,0);p.setFullYear(r,0,i),p.setHours(0,0,0,0);const m=$l(p,t);return n.getTime()>=u.getTime()?r+1:n.getTime()>=m.getTime()?r:r-1}function MH(e,t){var u,p,m,y;const n=Vm(),r=(t==null?void 0:t.firstWeekContainsDate)??((p=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(m=n.locale)==null?void 0:m.options)==null?void 0:y.firstWeekContainsDate)??1,s=oP(e,t),i=Vo(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),$l(i,t)}function iP(e,t){const n=Xt(e),r=+$l(n,t)-+MH(n,t);return Math.round(r/KS)+1}function Hn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Gu={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Hn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Hn(n+1,2)},d(e,t){return Hn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Hn(e.getHours()%12||12,t.length)},H(e,t){return Hn(e.getHours(),t.length)},m(e,t){return Hn(e.getMinutes(),t.length)},s(e,t){return Hn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Hn(s,t.length)}},Mp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},SC={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Gu.y(e,t)},Y:function(e,t,n,r){const s=oP(e,r),i=s>0?s:1-s;if(t==="YY"){const c=i%100;return Hn(c,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):Hn(i,t.length)},R:function(e,t){const n=tP(e);return Hn(n,t.length)},u:function(e,t){const n=e.getFullYear();return Hn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Hn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Hn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Gu.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Hn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=iP(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Hn(s,t.length)},I:function(e,t,n){const r=sP(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Hn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Gu.d(e,t)},D:function(e,t,n){const r=DH(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Hn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Hn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Hn(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Hn(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Mp.noon:r===0?s=Mp.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Mp.evening:r>=12?s=Mp.afternoon:r>=4?s=Mp.morning:s=Mp.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Gu.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Gu.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Hn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Hn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Gu.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Gu.s(e,t)},S:function(e,t){return Gu.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return kC(r);case"XXXX":case"XX":return Tf(r);case"XXXXX":case"XXX":default:return Tf(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return kC(r);case"xxxx":case"xx":return Tf(r);case"xxxxx":case"xxx":default:return Tf(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+EC(r,":");case"OOOO":default:return"GMT"+Tf(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+EC(r,":");case"zzzz":default:return"GMT"+Tf(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Hn(r,t.length)},T:function(e,t,n){const r=e.getTime();return Hn(r,t.length)}};function EC(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+Hn(i,2)}function kC(e,t){return e%60===0?(e>0?"-":"+")+Hn(Math.abs(e)/60,2):Tf(e,t)}function Tf(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Hn(Math.trunc(r/60),2),i=Hn(r%60,2);return n+s+t+i}const CC=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},aP=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},IH=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return CC(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",CC(r,t)).replace("{{time}}",aP(s,t))},LH={p:aP,P:IH},FH=/^D+$/,$H=/^Y+$/,BH=["D","DD","YY","YYYY"];function UH(e){return FH.test(e)}function zH(e){return $H.test(e)}function WH(e,t,n){const r=VH(e,t,n);if(console.warn(r),BH.includes(e))throw new RangeError(r)}function VH(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const HH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,KH=/^'([^]*?)'?$/,YH=/''/g,GH=/[a-zA-Z]/;function Ml(e,t,n){var y,g,S,k,T,E,N,O;const r=Vm(),s=(n==null?void 0:n.locale)??r.locale??ZS,i=(n==null?void 0:n.firstWeekContainsDate)??((g=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((k=(S=r.locale)==null?void 0:S.options)==null?void 0:k.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((E=(T=n==null?void 0:n.locale)==null?void 0:T.options)==null?void 0:E.weekStartsOn)??r.weekStartsOn??((O=(N=r.locale)==null?void 0:N.options)==null?void 0:O.weekStartsOn)??0,u=Xt(e);if(!YV(u))throw new RangeError("Invalid time value");let p=t.match(qH).map(D=>{const M=D[0];if(M==="p"||M==="P"){const z=LH[M];return z(D,s.formatLong)}return D}).join("").match(HH).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const M=D[0];if(M==="'")return{isToken:!1,value:ZH(D)};if(SC[M])return{isToken:!0,value:D};if(M.match(GH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:D}});s.localize.preprocessor&&(p=s.localize.preprocessor(u,p));const m={firstWeekContainsDate:i,weekStartsOn:c,locale:s};return p.map(D=>{if(!D.isToken)return D.value;const M=D.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&zH(M)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&UH(M))&&WH(M,t,String(e));const z=SC[M[0]];return z(u,M,s.localize,m)}).join("")}function ZH(e){const t=e.match(KH);return t?t[1].replace(YH,"'"):e}function lP(e,t,n){const r=Vm(),s=(n==null?void 0:n.locale)??r.locale??ZS,i=2520,c=I0(e,t);if(isNaN(c))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:c});let p,m;c>0?(p=Xt(t),m=Xt(e)):(p=Xt(e),m=Xt(t));const y=tH(m,p),g=(Sm(m)-Sm(p))/1e3,S=Math.round((y-g)/60);let k;if(S<2)return n!=null&&n.includeSeconds?y<5?s.formatDistance("lessThanXSeconds",5,u):y<10?s.formatDistance("lessThanXSeconds",10,u):y<20?s.formatDistance("lessThanXSeconds",20,u):y<40?s.formatDistance("halfAMinute",0,u):y<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):S===0?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",S,u);if(S<45)return s.formatDistance("xMinutes",S,u);if(S<90)return s.formatDistance("aboutXHours",1,u);if(S<_C){const T=Math.round(S/60);return s.formatDistance("aboutXHours",T,u)}else{if(S<i)return s.formatDistance("xDays",1,u);if(S<k0){const T=Math.round(S/_C);return s.formatDistance("xDays",T,u)}else if(S<k0*2)return k=Math.round(S/k0),s.formatDistance("aboutXMonths",k,u)}if(k=eH(m,p),k<12){const T=Math.round(S/k0);return s.formatDistance("xMonths",T,u)}else{const T=k%12,E=Math.trunc(k/12);return T<3?s.formatDistance("aboutXYears",E,u):T<9?s.formatDistance("overXYears",E,u):s.formatDistance("almostXYears",E+1,u)}}function QH(e,t){return lP(e,KV(e),t)}function XH(e){const t=Xt(e),n=t.getFullYear(),r=t.getMonth(),s=Vo(e,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function JH(e){return Math.trunc(+Xt(e)/1e3)}function eq(e){const t=Xt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function tq(e,t){return GV(eq(e),Wo(e),t)+1}function u_(e,t){const n=Xt(e),r=Xt(t);return n.getTime()>r.getTime()}function cP(e,t){const n=Xt(e),r=Xt(t);return+n<+r}function QS(e,t){const n=Xt(e),r=Xt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function nq(e,t){const n=Xt(e),r=Xt(t);return n.getFullYear()===r.getFullYear()}function e1(e,t){return ho(e,-t)}function t1(e,t){const n=Xt(e),r=n.getFullYear(),s=n.getDate(),i=Vo(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const c=XH(i);return n.setMonth(t,Math.min(s,c)),n}function NC(e,t){const n=Xt(e);return isNaN(+n)?Vo(e,NaN):(n.setFullYear(t),n)}function rq({notification:e,onMarkAsRead:t}){var m,y,g,S,k,T;const n=Jc(e.fromPubkey),r=((y=(m=n.data)==null?void 0:m.metadata)==null?void 0:y.display_name)||((S=(g=n.data)==null?void 0:g.metadata)==null?void 0:S.name)||`${e.fromPubkey.slice(0,8)}...`,s=(T=(k=n.data)==null?void 0:k.metadata)==null?void 0:T.picture,i=()=>{e.read||t(e.id)},c=()=>{switch(e.type){case"rsvp":return d.jsx(Zj,{className:"h-4 w-4 text-pink-500"});case"comment":return d.jsx(Q1,{className:"h-4 w-4 text-blue-500"});case"zap":return d.jsx($f,{className:"h-4 w-4 text-yellow-500"});default:return d.jsx(G1,{className:"h-4 w-4"})}},u=()=>{switch(e.type){case"rsvp":return`${e.status} your event "${e.eventTitle}"`;case"comment":return`commented on "${e.eventTitle}": "${e.commentContent.slice(0,50)}${e.commentContent.length>50?"...":""}"`;case"zap":const E=`zapped ${e.amount} sats to "${e.eventTitle}"`;return e.comment?`${E}: "${e.comment.slice(0,30)}${e.comment.length>30?"...":""}"`:E;default:return"Unknown notification"}},p=lP(new Date(e.timestamp),new Date,{addSuffix:!0});return d.jsxs(vs,{className:ze("flex items-start gap-3 p-3 cursor-pointer hover:bg-muted/50",!e.read&&"bg-muted/20"),onClick:i,children:[d.jsxs(ja,{className:"h-8 w-8 flex-shrink-0",children:[d.jsx(Ta,{src:s,alt:r}),d.jsx(Aa,{className:"text-xs",children:r.slice(0,2).toUpperCase()})]}),d.jsxs("div",{className:"flex-1 space-y-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[c(),d.jsx("span",{className:"font-medium text-sm truncate",children:r})]}),!e.read&&d.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full flex-shrink-0"})]}),d.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:u()}),d.jsx("span",{className:"text-xs text-muted-foreground",children:p})]})]})}function jC(){const{notifications:e,unreadCount:t,markAsRead:n,markAllAsRead:r,clearAll:s}=qS();return d.jsxs(zm,{children:[d.jsx(Wm,{asChild:!0,children:d.jsxs(Pt,{variant:"ghost",size:"sm",className:"relative",children:[d.jsx(G1,{className:"h-5 w-5"}),t>0&&d.jsx(Vi,{variant:"destructive",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 text-xs",children:t>99?"99+":t}),d.jsx("span",{className:"sr-only",children:t>0?`${t} unread notifications`:"Notifications"})]})}),d.jsxs(mh,{align:"end",className:"w-80 max-h-96",forceMount:!0,children:[d.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[d.jsx("h3",{className:"font-semibold",children:"Notifications"}),d.jsxs("div",{className:"flex items-center gap-1",children:[t>0&&d.jsxs(Pt,{variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:r,children:[d.jsx(tU,{className:"h-3 w-3 mr-1"}),"Mark all read"]}),e.length>0&&d.jsx(Pt,{variant:"ghost",size:"sm",className:"h-8 px-2 text-xs text-muted-foreground",onClick:s,children:"Clear all"})]})]}),d.jsx(XR,{className:"max-h-80",children:e.length===0?d.jsxs("div",{className:"p-6 text-center text-muted-foreground",children:[d.jsx(G1,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),d.jsx("p",{className:"text-sm",children:"No notifications yet"}),d.jsx("p",{className:"text-xs",children:"You'll see RSVPs, comments, and zaps here"})]}):d.jsx("div",{className:"py-1",children:e.map(i=>d.jsx(rq,{notification:i,onMarkAsRead:n},i.id))})})]})]})}var sq="Separator",TC="horizontal",oq=["horizontal","vertical"],uP=_.forwardRef((e,t)=>{const{decorative:n,orientation:r=TC,...s}=e,i=iq(r)?r:TC,u=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return d.jsx(kt.div,{"data-orientation":i,...u,...s,ref:t})});uP.displayName=sq;function iq(e){return oq.includes(e)}var dP=uP;const fP=_.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>d.jsx(dP,{ref:s,decorative:n,orientation:t,className:ze("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));fP.displayName=dP.displayName;const aq=Jx,lq=ew,hP=_.forwardRef(({className:e,...t},n)=>d.jsx(Fm,{className:ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));hP.displayName=Fm.displayName;const cq=Im("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),pP=_.forwardRef(({side:e="right",className:t,children:n,...r},s)=>d.jsxs(lq,{children:[d.jsx(hP,{}),d.jsxs($m,{ref:s,className:ze(cq({side:e}),t),...r,children:[n,d.jsxs(tw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[d.jsx(Yx,{className:"h-4 w-4"}),d.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pP.displayName=$m.displayName;const uq=_.forwardRef(({className:e,...t},n)=>d.jsx(sy,{ref:n,className:ze("text-lg font-semibold text-foreground",e),...t}));uq.displayName=sy.displayName;const dq=_.forwardRef(({className:e,...t},n)=>d.jsx(oy,{ref:n,className:ze("text-sm text-muted-foreground",e),...t}));dq.displayName=oy.displayName;function Pf({className:e,...t}){return d.jsx("div",{className:ze("animate-pulse rounded-md bg-muted",e),...t})}var mP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fq="VisuallyHidden",gP=_.forwardRef((e,t)=>d.jsx(kt.span,{...e,ref:t,style:{...mP,...e.style}}));gP.displayName=fq;var hq=gP,[vw,yX]=vo("Tooltip",[Td]),yw=Td(),vP="TooltipProvider",pq=700,d_="tooltip.open",[mq,XS]=vw(vP),yP=e=>{const{__scopeTooltip:t,delayDuration:n=pq,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,c=_.useRef(!0),u=_.useRef(!1),p=_.useRef(0);return _.useEffect(()=>{const m=p.current;return()=>window.clearTimeout(m)},[]),d.jsx(mq,{scope:t,isOpenDelayedRef:c,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(p.current),c.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:_.useCallback(m=>{u.current=m},[]),disableHoverableContent:s,children:i})};yP.displayName=vP;var Uv="Tooltip",[gq,xw]=vw(Uv),xP=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:c,delayDuration:u}=e,p=XS(Uv,e.__scopeTooltip),m=yw(t),[y,g]=_.useState(null),S=Fr(),k=_.useRef(0),T=c??p.disableHoverableContent,E=u??p.delayDuration,N=_.useRef(!1),[O,D]=Oa({prop:r,defaultProp:s??!1,onChange:Z=>{Z?(p.onOpen(),document.dispatchEvent(new CustomEvent(d_))):p.onClose(),i==null||i(Z)},caller:Uv}),M=_.useMemo(()=>O?N.current?"delayed-open":"instant-open":"closed",[O]),z=_.useCallback(()=>{window.clearTimeout(k.current),k.current=0,N.current=!1,D(!0)},[D]),q=_.useCallback(()=>{window.clearTimeout(k.current),k.current=0,D(!1)},[D]),Y=_.useCallback(()=>{window.clearTimeout(k.current),k.current=window.setTimeout(()=>{N.current=!0,D(!0),k.current=0},E)},[E,D]);return _.useEffect(()=>()=>{k.current&&(window.clearTimeout(k.current),k.current=0)},[]),d.jsx(cy,{...m,children:d.jsx(gq,{scope:t,contentId:S,open:O,stateAttribute:M,trigger:y,onTriggerChange:g,onTriggerEnter:_.useCallback(()=>{p.isOpenDelayedRef.current?Y():z()},[p.isOpenDelayedRef,Y,z]),onTriggerLeave:_.useCallback(()=>{T?q():(window.clearTimeout(k.current),k.current=0)},[q,T]),onOpen:z,onClose:q,disableHoverableContent:T,children:n})})};xP.displayName=Uv;var f_="TooltipTrigger",wP=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=xw(f_,n),i=XS(f_,n),c=yw(n),u=_.useRef(null),p=dn(t,u,s.onTriggerChange),m=_.useRef(!1),y=_.useRef(!1),g=_.useCallback(()=>m.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),d.jsx(uy,{asChild:!0,...c,children:d.jsx(kt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:p,onPointerMove:ft(e.onPointerMove,S=>{S.pointerType!=="touch"&&!y.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),y.current=!0)}),onPointerLeave:ft(e.onPointerLeave,()=>{s.onTriggerLeave(),y.current=!1}),onPointerDown:ft(e.onPointerDown,()=>{s.open&&s.onClose(),m.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:ft(e.onFocus,()=>{m.current||s.onOpen()}),onBlur:ft(e.onBlur,s.onClose),onClick:ft(e.onClick,s.onClose)})})});wP.displayName=f_;var vq="TooltipPortal",[xX,yq]=vw(vq,{forceMount:void 0}),km="TooltipContent",bP=_.forwardRef((e,t)=>{const n=yq(km,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,c=xw(km,e.__scopeTooltip);return d.jsx(Ds,{present:r||c.open,children:c.disableHoverableContent?d.jsx(_P,{side:s,...i,ref:t}):d.jsx(xq,{side:s,...i,ref:t})})}),xq=_.forwardRef((e,t)=>{const n=xw(km,e.__scopeTooltip),r=XS(km,e.__scopeTooltip),s=_.useRef(null),i=dn(t,s),[c,u]=_.useState(null),{trigger:p,onClose:m}=n,y=s.current,{onPointerInTransitChange:g}=r,S=_.useCallback(()=>{u(null),g(!1)},[g]),k=_.useCallback((T,E)=>{const N=T.currentTarget,O={x:T.clientX,y:T.clientY},D=Eq(O,N.getBoundingClientRect()),M=kq(O,D),z=Cq(E.getBoundingClientRect()),q=jq([...M,...z]);u(q),g(!0)},[g]);return _.useEffect(()=>()=>S(),[S]),_.useEffect(()=>{if(p&&y){const T=N=>k(N,y),E=N=>k(N,p);return p.addEventListener("pointerleave",T),y.addEventListener("pointerleave",E),()=>{p.removeEventListener("pointerleave",T),y.removeEventListener("pointerleave",E)}}},[p,y,k,S]),_.useEffect(()=>{if(c){const T=E=>{const N=E.target,O={x:E.clientX,y:E.clientY},D=(p==null?void 0:p.contains(N))||(y==null?void 0:y.contains(N)),M=!Nq(O,c);D?S():M&&(S(),m())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[p,y,c,m,S]),d.jsx(_P,{...e,ref:i})}),[wq,bq]=vw(Uv,{isInside:!1}),_q=eT("TooltipContent"),_P=_.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:c,...u}=e,p=xw(km,n),m=yw(n),{onClose:y}=p;return _.useEffect(()=>(document.addEventListener(d_,y),()=>document.removeEventListener(d_,y)),[y]),_.useEffect(()=>{if(p.trigger){const g=S=>{const k=S.target;k!=null&&k.contains(p.trigger)&&y()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[p.trigger,y]),d.jsx(Lm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:y,children:d.jsxs(uw,{"data-state":p.stateAttribute,...m,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(_q,{children:r}),d.jsx(wq,{scope:n,isInside:!0,children:d.jsx(hq,{id:p.contentId,role:"tooltip",children:s||r})})]})})});bP.displayName=km;var SP="TooltipArrow",Sq=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=yw(n);return bq(SP,n).isInside?null:d.jsx(dw,{...s,...r,ref:t})});Sq.displayName=SP;function Eq(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function kq(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Cq(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function Nq(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,c=t.length-1;i<t.length;c=i++){const u=t[i],p=t[c],m=u.x,y=u.y,g=p.x,S=p.y;y>r!=S>r&&n<(g-m)*(r-y)/(S-y)+m&&(s=!s)}return s}function jq(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Tq(t)}function Tq(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],c=t[t.length-2];if((i.x-c.x)*(s.y-c.y)>=(i.y-c.y)*(s.x-c.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],c=n[n.length-2];if((i.x-c.x)*(s.y-c.y)>=(i.y-c.y)*(s.x-c.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Aq=yP,Rq=xP,Pq=wP,EP=bP;const kP=Aq,CP=Rq,NP=Pq,JS=_.forwardRef(({className:e,sideOffset:t=4,...n},r)=>d.jsx(EP,{ref:r,sideOffset:t,className:ze("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));JS.displayName=EP.displayName;const Oq="sidebar:state",Dq=60*60*24*7,Mq="16rem",Iq="18rem",Lq="3rem",Fq="b",jP=_.createContext(null);function ww(){const e=_.useContext(jP);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const $q=Im("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),TP=_.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:s,children:i,...c},u)=>{const p=Xj(),[m,y]=_.useState(!1),[g,S]=_.useState(e),k=t??g,T=_.useCallback(D=>{const M=typeof D=="function"?D(k):D;n?n(M):S(M),document.cookie=`${Oq}=${M}; path=/; max-age=${Dq}`},[n,k]),E=_.useCallback(()=>p?y(D=>!D):T(D=>!D),[p,T,y]);_.useEffect(()=>{const D=M=>{M.key===Fq&&(M.metaKey||M.ctrlKey)&&(M.preventDefault(),E())};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[E]);const N=k?"expanded":"collapsed",O=_.useMemo(()=>({state:N,open:k,setOpen:T,isMobile:p,openMobile:m,setOpenMobile:y,toggleSidebar:E}),[N,k,T,p,m,y,E]);return d.jsx(jP.Provider,{value:O,children:d.jsx(kP,{delayDuration:0,children:d.jsx("div",{style:{"--sidebar-width":Mq,"--sidebar-width-icon":Lq,...s},className:ze("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:u,...c,children:i})})})});TP.displayName="SidebarProvider";const AP=_.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:s,...i},c)=>{const{isMobile:u,state:p,openMobile:m,setOpenMobile:y}=ww();return n==="none"?d.jsx("div",{className:ze("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:c,...i,children:s}):u?d.jsx(aq,{open:m,onOpenChange:y,...i,children:d.jsx(pP,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":Iq},side:e,children:d.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):d.jsxs("div",{ref:c,className:"group peer hidden md:block text-sidebar-foreground","data-state":p,"data-collapsible":p==="collapsed"?n:"","data-variant":t,"data-side":e,children:[d.jsx("div",{className:ze("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),d.jsx("div",{className:ze("duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:d.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});AP.displayName="Sidebar";const Bq=_.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:s}=ww();return d.jsxs(Pt,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ze("h-7 w-7",e),onClick:i=>{t==null||t(i),s()},...n,children:[d.jsx(fU,{}),d.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});Bq.displayName="SidebarTrigger";const Uq=_.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=ww();return d.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:ze("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});Uq.displayName="SidebarRail";const zq=_.forwardRef(({className:e,...t},n)=>d.jsx("main",{ref:n,className:ze("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));zq.displayName="SidebarInset";const Wq=_.forwardRef(({className:e,...t},n)=>d.jsx(Rs,{ref:n,"data-sidebar":"input",className:ze("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));Wq.displayName="SidebarInput";const RP=_.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,"data-sidebar":"header",className:ze("flex flex-col gap-2 p-2",e),...t}));RP.displayName="SidebarHeader";const Vq=_.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,"data-sidebar":"footer",className:ze("flex flex-col gap-2 p-2",e),...t}));Vq.displayName="SidebarFooter";const Hq=_.forwardRef(({className:e,...t},n)=>d.jsx(fP,{ref:n,"data-sidebar":"separator",className:ze("mx-2 w-auto bg-sidebar-border",e),...t}));Hq.displayName="SidebarSeparator";const PP=_.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,"data-sidebar":"content",className:ze("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));PP.displayName="SidebarContent";const qq=_.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,"data-sidebar":"group",className:ze("relative flex w-full min-w-0 flex-col p-2",e),...t}));qq.displayName="SidebarGroup";const Kq=_.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?fh:"div";return d.jsx(s,{ref:r,"data-sidebar":"group-label",className:ze("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});Kq.displayName="SidebarGroupLabel";const Yq=_.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?fh:"button";return d.jsx(s,{ref:r,"data-sidebar":"group-action",className:ze("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});Yq.displayName="SidebarGroupAction";const Gq=_.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,"data-sidebar":"group-content",className:ze("w-full text-sm",e),...t}));Gq.displayName="SidebarGroupContent";const OP=_.forwardRef(({className:e,...t},n)=>d.jsx("ul",{ref:n,"data-sidebar":"menu",className:ze("flex w-full min-w-0 flex-col gap-1",e),...t}));OP.displayName="SidebarMenu";const DP=_.forwardRef(({className:e,...t},n)=>d.jsx("li",{ref:n,"data-sidebar":"menu-item",className:ze("group/menu-item relative",e),...t}));DP.displayName="SidebarMenuItem";const MP=_.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:s,className:i,...c},u)=>{const p=e?fh:"button",{isMobile:m,state:y}=ww(),g=d.jsx(p,{ref:u,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:ze($q({variant:n,size:r}),i),...c});return s?(typeof s=="string"&&(s={children:s}),d.jsxs(CP,{children:[d.jsx(NP,{asChild:!0,children:g}),d.jsx(JS,{side:"right",align:"center",hidden:y!=="collapsed"||m,...s})]})):g});MP.displayName="SidebarMenuButton";const Zq=_.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},s)=>{const i=t?fh:"button";return d.jsx(i,{ref:s,"data-sidebar":"menu-action",className:ze("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});Zq.displayName="SidebarMenuAction";const Qq=_.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:ze("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));Qq.displayName="SidebarMenuBadge";const Xq=_.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const s=_.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return d.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:ze("rounded-md h-8 flex gap-2 px-2 items-center",e),...n,children:[t&&d.jsx(Pf,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),d.jsx(Pf,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});Xq.displayName="SidebarMenuSkeleton";const Jq=_.forwardRef(({className:e,...t},n)=>d.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:ze("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));Jq.displayName="SidebarMenuSub";const eK=_.forwardRef(({...e},t)=>d.jsx("li",{ref:t,...e}));eK.displayName="SidebarMenuSubItem";const tK=_.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...s},i)=>{const c=e?fh:"a";return d.jsx(c,{ref:i,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:ze("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});tK.displayName="SidebarMenuSubButton";function nK({children:e}){const{user:t}=lr(),n=Qv(),r=Xj(),[s,i]=_.useState(!1),c=g=>{n.pathname==="/"&&(g.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}))},u=()=>{i(!1)},p=[{href:"/",label:"Discover",icon:gS,isActive:n.pathname==="/",onClick:c},{href:"/create",label:"Create",icon:hU,isActive:n.pathname==="/create",requireAuth:!0},{href:"/tickets",label:"Tickets",icon:wU,isActive:n.pathname==="/tickets",requireAuth:!0}],m=()=>d.jsxs(AP,{side:"left",variant:"sidebar",collapsible:"offcanvas",children:[d.jsx(RP,{className:"border-b",children:d.jsxs("div",{className:"flex items-center gap-2 px-2 py-1",children:[d.jsx("img",{src:"/icon.svg",alt:"Plektos",className:"h-8 w-8"}),d.jsx("span",{className:"font-bold text-lg",children:"Plektos"})]})}),d.jsxs(PP,{children:[d.jsx(OP,{className:"p-2",children:p.map(g=>g.requireAuth&&!t?null:d.jsx(DP,{children:d.jsx(MP,{asChild:!0,isActive:g.isActive,size:"lg",children:d.jsxs(Pl,{to:g.href,onClick:g.onClick,children:[d.jsx(g.icon,{className:"h-5 w-5"}),d.jsx("span",{className:"text-base",children:g.label})]})})},g.href))}),d.jsx("div",{className:"mt-auto p-4 border-t",children:d.jsx(a_,{className:"flex w-full"})})]})]}),y=()=>d.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t md:hidden",children:d.jsxs("nav",{className:"flex items-center justify-around py-2 px-4",children:[p.map(g=>g.requireAuth&&!t?null:d.jsx(Pt,{variant:"ghost",size:"sm",className:ze("flex flex-col items-center gap-1 h-auto py-3 px-4",g.isActive&&"text-primary bg-primary/10"),asChild:!0,children:d.jsx(Pl,{to:g.href,onClick:g.onClick,children:d.jsx(g.icon,{className:"h-6 w-6 scale-125"})})},g.href)),d.jsxs("div",{className:"flex items-center py-2 px-3",children:[d.jsx("div",{className:"hidden md:block",children:d.jsx(a_,{className:"flex items-center [&_button]:h-8 [&_button]:w-8 [&_img]:h-6 [&_img]:w-6 [&_svg]:h-4 [&_svg]:w-4"})}),d.jsxs(zm,{children:[d.jsx(Wm,{asChild:!0,children:d.jsx(Pt,{variant:"ghost",size:"sm",className:"flex flex-col items-center gap-1 h-auto py-3 px-4 md:hidden",children:d.jsx(Rf,{className:"h-6 w-6 scale-125"})})}),d.jsx(mh,{align:"end",className:"w-56",children:d.jsx("div",{className:"md:hidden",children:d.jsx(FR,{onAddAccountClick:()=>i(!0),variant:"menu"})})})]})]})]})});return d.jsxs(d.Fragment,{children:[r?d.jsxs("div",{className:"min-h-screen bg-background pb-16",children:[d.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:d.jsxs("div",{className:"container flex h-14 items-center justify-between",children:[d.jsxs(Pl,{to:"/",className:"flex items-center space-x-2",children:[d.jsx("img",{src:"/icon.svg",alt:"Plektos",className:"h-6 w-6"}),d.jsx("span",{className:"font-bold",children:"Plektos"})]}),t&&d.jsx(jC,{})]})}),d.jsx("main",{className:"container py-6",children:e}),d.jsx(y,{})]}):d.jsx(TP,{defaultOpen:!0,children:d.jsxs("div",{className:"flex min-h-screen w-full",children:[d.jsx(m,{}),d.jsxs("div",{className:"flex-1",children:[d.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:d.jsx("div",{className:"container flex h-14 items-center justify-end",children:d.jsx("div",{className:"flex items-center space-x-2",children:t&&d.jsx(jC,{})})})}),d.jsx("main",{className:"container py-6",children:e})]})]})}),d.jsx(iA,{isOpen:s,onClose:()=>i(!1),onLogin:u})]})}function rK({children:e}){return d.jsx(nK,{children:e})}var L0={exports:{}},sK=L0.exports,AC;function oK(){return AC||(AC=1,function(e,t){(function(n,r){e.exports=r()})(sK,function(){var n=function(v,b){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,P){j.__proto__=P}||function(j,P){for(var I in P)Object.prototype.hasOwnProperty.call(P,I)&&(j[I]=P[I])})(v,b)},r=function(){return(r=Object.assign||function(v){for(var b,j=1,P=arguments.length;j<P;j++)for(var I in b=arguments[j])Object.prototype.hasOwnProperty.call(b,I)&&(v[I]=b[I]);return v}).apply(this,arguments)};function s(v,b,j){for(var P,I=0,U=b.length;I<U;I++)!P&&I in b||((P=P||Array.prototype.slice.call(b,0,I))[I]=b[I]);return v.concat(P||Array.prototype.slice.call(b))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:av,c=Object.keys,u=Array.isArray;function p(v,b){return typeof b!="object"||c(b).forEach(function(j){v[j]=b[j]}),v}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var m=Object.getPrototypeOf,y={}.hasOwnProperty;function g(v,b){return y.call(v,b)}function S(v,b){typeof b=="function"&&(b=b(m(v))),(typeof Reflect>"u"?c:Reflect.ownKeys)(b).forEach(function(j){T(v,j,b[j])})}var k=Object.defineProperty;function T(v,b,j,P){k(v,b,p(j&&g(j,"get")&&typeof j.get=="function"?{get:j.get,set:j.set,configurable:!0}:{value:j,configurable:!0,writable:!0},P))}function E(v){return{from:function(b){return v.prototype=Object.create(b.prototype),T(v.prototype,"constructor",v),{extend:S.bind(null,v.prototype)}}}}var N=Object.getOwnPropertyDescriptor,O=[].slice;function D(v,b,j){return O.call(v,b,j)}function M(v,b){return b(v)}function z(v){if(!v)throw new Error("Assertion Failed")}function q(v){i.setImmediate?setImmediate(v):setTimeout(v,0)}function Y(v,b){if(typeof b=="string"&&g(v,b))return v[b];if(!b)return v;if(typeof b!="string"){for(var j=[],P=0,I=b.length;P<I;++P){var U=Y(v,b[P]);j.push(U)}return j}var G=b.indexOf(".");if(G!==-1){var oe=v[b.substr(0,G)];return oe==null?void 0:Y(oe,b.substr(G+1))}}function Z(v,b,j){if(v&&b!==void 0&&!("isFrozen"in Object&&Object.isFrozen(v)))if(typeof b!="string"&&"length"in b){z(typeof j!="string"&&"length"in j);for(var P=0,I=b.length;P<I;++P)Z(v,b[P],j[P])}else{var U,G,oe=b.indexOf(".");oe!==-1?(U=b.substr(0,oe),(G=b.substr(oe+1))===""?j===void 0?u(v)&&!isNaN(parseInt(U))?v.splice(U,1):delete v[U]:v[U]=j:Z(oe=!(oe=v[U])||!g(v,U)?v[U]={}:oe,G,j)):j===void 0?u(v)&&!isNaN(parseInt(b))?v.splice(b,1):delete v[b]:v[b]=j}}function ae(v){var b,j={};for(b in v)g(v,b)&&(j[b]=v[b]);return j}var te=[].concat;function ye(v){return te.apply([],v)}var He="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ye([8,16,32,64].map(function(v){return["Int","Uint","Float"].map(function(b){return b+v+"Array"})}))).filter(function(v){return i[v]}),Te=new Set(He.map(function(v){return i[v]})),Se=null;function _e(v){return Se=new WeakMap,v=function b(j){if(!j||typeof j!="object")return j;var P=Se.get(j);if(P)return P;if(u(j)){P=[],Se.set(j,P);for(var I=0,U=j.length;I<U;++I)P.push(b(j[I]))}else if(Te.has(j.constructor))P=j;else{var G,oe=m(j);for(G in P=oe===Object.prototype?{}:Object.create(oe),Se.set(j,P),j)g(j,G)&&(P[G]=b(j[G]))}return P}(v),Se=null,v}var Le={}.toString;function ge(v){return Le.call(v).slice(8,-1)}var me=typeof Symbol<"u"?Symbol.iterator:"@@iterator",de=typeof me=="symbol"?function(v){var b;return v!=null&&(b=v[me])&&b.apply(v)}:function(){return null};function Q(v,b){return b=v.indexOf(b),0<=b&&v.splice(b,1),0<=b}var J={};function xe(v){var b,j,P,I;if(arguments.length===1){if(u(v))return v.slice();if(this===J&&typeof v=="string")return[v];if(I=de(v)){for(j=[];!(P=I.next()).done;)j.push(P.value);return j}if(v==null)return[v];if(typeof(b=v.length)!="number")return[v];for(j=new Array(b);b--;)j[b]=v[b];return j}for(b=arguments.length,j=new Array(b);b--;)j[b]=arguments[b];return j}var K=typeof Symbol<"u"?function(v){return v[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Je=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Us=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Je),X={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Pe(v,b){this.name=v,this.message=b}function Be(v,b){return v+". Errors: "+Object.keys(b).map(function(j){return b[j].toString()}).filter(function(j,P,I){return I.indexOf(j)===P}).join(`
`)}function Fe(v,b,j,P){this.failures=b,this.failedKeys=P,this.successCount=j,this.message=Be(v,b)}function Ze(v,b){this.name="BulkError",this.failures=Object.keys(b).map(function(j){return b[j]}),this.failuresByPos=b,this.message=Be(v,this.failures)}E(Pe).from(Error).extend({toString:function(){return this.name+": "+this.message}}),E(Fe).from(Pe),E(Ze).from(Pe);var Me=Us.reduce(function(v,b){return v[b]=b+"Error",v},{}),at=Pe,Oe=Us.reduce(function(v,b){var j=b+"Error";function P(I,U){this.name=j,I?typeof I=="string"?(this.message="".concat(I).concat(U?`
 `+U:""),this.inner=U||null):typeof I=="object"&&(this.message="".concat(I.name," ").concat(I.message),this.inner=I):(this.message=X[b]||j,this.inner=null)}return E(P).from(at),v[b]=P,v},{});Oe.Syntax=SyntaxError,Oe.Type=TypeError,Oe.Range=RangeError;var wt=Je.reduce(function(v,b){return v[b+"Error"]=Oe[b],v},{}),At=Us.reduce(function(v,b){return["Syntax","Type","Range"].indexOf(b)===-1&&(v[b+"Error"]=Oe[b]),v},{});function ut(){}function Gt(v){return v}function nn(v,b){return v==null||v===Gt?b:function(j){return b(v(j))}}function On(v,b){return function(){v.apply(this,arguments),b.apply(this,arguments)}}function cr(v,b){return v===ut?b:function(){var j=v.apply(this,arguments);j!==void 0&&(arguments[0]=j);var P=this.onsuccess,I=this.onerror;this.onsuccess=null,this.onerror=null;var U=b.apply(this,arguments);return P&&(this.onsuccess=this.onsuccess?On(P,this.onsuccess):P),I&&(this.onerror=this.onerror?On(I,this.onerror):I),U!==void 0?U:j}}function zn(v,b){return v===ut?b:function(){v.apply(this,arguments);var j=this.onsuccess,P=this.onerror;this.onsuccess=this.onerror=null,b.apply(this,arguments),j&&(this.onsuccess=this.onsuccess?On(j,this.onsuccess):j),P&&(this.onerror=this.onerror?On(P,this.onerror):P)}}function Xe(v,b){return v===ut?b:function(j){var P=v.apply(this,arguments);p(j,P);var I=this.onsuccess,U=this.onerror;return this.onsuccess=null,this.onerror=null,j=b.apply(this,arguments),I&&(this.onsuccess=this.onsuccess?On(I,this.onsuccess):I),U&&(this.onerror=this.onerror?On(U,this.onerror):U),P===void 0?j===void 0?void 0:j:p(P,j)}}function Ft(v,b){return v===ut?b:function(){return b.apply(this,arguments)!==!1&&v.apply(this,arguments)}}function Zt(v,b){return v===ut?b:function(){var j=v.apply(this,arguments);if(j&&typeof j.then=="function"){for(var P=this,I=arguments.length,U=new Array(I);I--;)U[I]=arguments[I];return j.then(function(){return b.apply(P,U)})}return b.apply(this,arguments)}}At.ModifyError=Fe,At.DexieError=Pe,At.BulkError=Ze;var Vt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ie(v){Vt=v}var ve={},Ie=100,He=typeof Promise>"u"?[]:function(){var v=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[v,m(v),v];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,m(b),v]}(),Je=He[0],Us=He[1],He=He[2],Us=Us&&Us.then,Ue=Je&&Je.constructor,ct=!!He,Nt=function(v,b){ws.push([v,b]),fn&&(queueMicrotask(Dn),fn=!1)},rn=!0,fn=!0,mr=[],Qn=[],sr=Gt,Tr={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ut,pgp:!1,env:{},finalize:ut},ht=Tr,ws=[],os=0,qo=[];function dt(v){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var b=this._PSD=ht;if(typeof v!="function"){if(v!==ve)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&bs(this,this._value))}this._state=null,this._value=null,++b.ref,function j(P,I){try{I(function(U){if(P._state===null){if(U===P)throw new TypeError("A promise cannot be resolved with itself.");var G=P._lib&&ur();U&&typeof U.then=="function"?j(P,function(oe,pe){U instanceof dt?U._then(oe,pe):U.then(oe,pe)}):(P._state=!0,P._value=U,Wl(P)),G&&gr()}},bs.bind(null,P))}catch(U){bs(P,U)}}(this,v)}var eo={get:function(){var v=ht,b=$a;function j(P,I){var U=this,G=!v.global&&(v!==ht||b!==$a),oe=G&&!is(),pe=new dt(function($,H){Lt(U,new Ms(Md(P,v,G,oe),Md(I,v,G,oe),$,H,v))});return this._consoleTask&&(pe._consoleTask=this._consoleTask),pe}return j.prototype=ve,j},set:function(v){T(this,"then",v&&v.prototype===ve?eo:{get:function(){return v},set:eo.set})}};function Ms(v,b,j,P,I){this.onFulfilled=typeof v=="function"?v:null,this.onRejected=typeof b=="function"?b:null,this.resolve=j,this.reject=P,this.psd=I}function bs(v,b){var j,P;Qn.push(b),v._state===null&&(j=v._lib&&ur(),b=sr(b),v._state=!1,v._value=b,P=v,mr.some(function(I){return I._value===P._value})||mr.push(P),Wl(v),j&&gr())}function Wl(v){var b=v._listeners;v._listeners=[];for(var j=0,P=b.length;j<P;++j)Lt(v,b[j]);var I=v._PSD;--I.ref||I.finalize(),os===0&&(++os,Nt(function(){--os==0&&Ur()},[]))}function Lt(v,b){if(v._state!==null){var j=v._state?b.onFulfilled:b.onRejected;if(j===null)return(v._state?b.resolve:b.reject)(v._value);++b.psd.ref,++os,Nt(bn,[j,v,b])}else v._listeners.push(b)}function bn(v,b,j){try{var P,I=b._value;!b._state&&Qn.length&&(Qn=[]),P=Vt&&b._consoleTask?b._consoleTask.run(function(){return v(I)}):v(I),b._state||Qn.indexOf(I)!==-1||function(U){for(var G=mr.length;G;)if(mr[--G]._value===U._value)return mr.splice(G,1)}(b),j.resolve(P)}catch(U){j.reject(U)}finally{--os==0&&Ur(),--j.psd.ref||j.psd.finalize()}}function Dn(){xi(Tr,function(){ur()&&gr()})}function ur(){var v=rn;return fn=rn=!1,v}function gr(){var v,b,j;do for(;0<ws.length;)for(v=ws,ws=[],j=v.length,b=0;b<j;++b){var P=v[b];P[0].apply(null,P[1])}while(0<ws.length);fn=rn=!0}function Ur(){var v=mr;mr=[],v.forEach(function(P){P._PSD.onunhandled.call(null,P._value,P)});for(var b=qo.slice(0),j=b.length;j;)b[--j]()}function zr(v){return new dt(ve,!1,v)}function tn(v,b){var j=ht;return function(){var P=ur(),I=ht;try{return yi(j,!0),v.apply(this,arguments)}catch(U){b&&b(U)}finally{yi(I,!1),P&&gr()}}}S(dt.prototype,{then:eo,_then:function(v,b){Lt(this,new Ms(null,null,v,b,ht))},catch:function(v){if(arguments.length===1)return this.then(null,v);var b=v,j=arguments[1];return typeof b=="function"?this.then(null,function(P){return(P instanceof b?j:zr)(P)}):this.then(null,function(P){return(P&&P.name===b?j:zr)(P)})},finally:function(v){return this.then(function(b){return dt.resolve(v()).then(function(){return b})},function(b){return dt.resolve(v()).then(function(){return zr(b)})})},timeout:function(v,b){var j=this;return v<1/0?new dt(function(P,I){var U=setTimeout(function(){return I(new Oe.Timeout(b))},v);j.then(P,I).finally(clearTimeout.bind(null,U))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&T(dt.prototype,Symbol.toStringTag,"Dexie.Promise"),Tr.env=Dd(),S(dt,{all:function(){var v=xe.apply(null,arguments).map(Ua);return new dt(function(b,j){v.length===0&&b([]);var P=v.length;v.forEach(function(I,U){return dt.resolve(I).then(function(G){v[U]=G,--P||b(v)},j)})})},resolve:function(v){return v instanceof dt?v:v&&typeof v.then=="function"?new dt(function(b,j){v.then(b,j)}):new dt(ve,!0,v)},reject:zr,race:function(){var v=xe.apply(null,arguments).map(Ua);return new dt(function(b,j){v.map(function(P){return dt.resolve(P).then(b,j)})})},PSD:{get:function(){return ht},set:function(v){return ht=v}},totalEchoes:{get:function(){return $a}},newPSD:vi,usePSD:xi,scheduler:{get:function(){return Nt},set:function(v){Nt=v}},rejectionMapper:{get:function(){return sr},set:function(v){sr=v}},follow:function(v,b){return new dt(function(j,P){return vi(function(I,U){var G=ht;G.unhandleds=[],G.onunhandled=U,G.finalize=On(function(){var oe,pe=this;oe=function(){pe.unhandleds.length===0?I():U(pe.unhandleds[0])},qo.push(function $(){oe(),qo.splice(qo.indexOf($),1)}),++os,Nt(function(){--os==0&&Ur()},[])},G.finalize),v()},b,j,P)})}}),Ue&&(Ue.allSettled&&T(dt,"allSettled",function(){var v=xe.apply(null,arguments).map(Ua);return new dt(function(b){v.length===0&&b([]);var j=v.length,P=new Array(j);v.forEach(function(I,U){return dt.resolve(I).then(function(G){return P[U]={status:"fulfilled",value:G}},function(G){return P[U]={status:"rejected",reason:G}}).then(function(){return--j||b(P)})})})}),Ue.any&&typeof AggregateError<"u"&&T(dt,"any",function(){var v=xe.apply(null,arguments).map(Ua);return new dt(function(b,j){v.length===0&&j(new AggregateError([]));var P=v.length,I=new Array(P);v.forEach(function(U,G){return dt.resolve(U).then(function(oe){return b(oe)},function(oe){I[G]=oe,--P||j(new AggregateError(I))})})})}),Ue.withResolvers&&(dt.withResolvers=Ue.withResolvers));var Rn={awaits:0,echoes:0,id:0},Vl=0,Yi=[],Gi=0,$a=0,Km=0;function vi(v,b,j,P){var I=ht,U=Object.create(I);return U.parent=I,U.ref=0,U.global=!1,U.id=++Km,Tr.env,U.env=ct?{Promise:dt,PromiseProp:{value:dt,configurable:!0,writable:!0},all:dt.all,race:dt.race,allSettled:dt.allSettled,any:dt.any,resolve:dt.resolve,reject:dt.reject}:{},b&&p(U,b),++I.ref,U.finalize=function(){--this.parent.ref||this.parent.finalize()},P=xi(U,v,j,P),U.ref===0&&U.finalize(),P}function Ba(){return Rn.id||(Rn.id=++Vl),++Rn.awaits,Rn.echoes+=Ie,Rn.id}function is(){return!!Rn.awaits&&(--Rn.awaits==0&&(Rn.id=0),Rn.echoes=Rn.awaits*Ie,!0)}function Ua(v){return Rn.echoes&&v&&v.constructor===Ue?(Ba(),v.then(function(b){return is(),b},function(b){return is(),qn(b)})):v}function vh(){var v=Yi[Yi.length-1];Yi.pop(),yi(v,!1)}function yi(v,b){var j,P=ht;(b?!Rn.echoes||Gi++&&v===ht:!Gi||--Gi&&v===ht)||queueMicrotask(b?(function(I){++$a,Rn.echoes&&--Rn.echoes!=0||(Rn.echoes=Rn.awaits=Rn.id=0),Yi.push(ht),yi(I,!0)}).bind(null,v):vh),v!==ht&&(ht=v,P===Tr&&(Tr.env=Dd()),ct&&(j=Tr.env.Promise,b=v.env,(P.global||v.global)&&(Object.defineProperty(i,"Promise",b.PromiseProp),j.all=b.all,j.race=b.race,j.resolve=b.resolve,j.reject=b.reject,b.allSettled&&(j.allSettled=b.allSettled),b.any&&(j.any=b.any))))}function Dd(){var v=i.Promise;return ct?{Promise:v,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:v.all,race:v.race,allSettled:v.allSettled,any:v.any,resolve:v.resolve,reject:v.reject}:{}}function xi(v,b,j,P,I){var U=ht;try{return yi(v,!0),b(j,P,I)}finally{yi(U,!1)}}function Md(v,b,j,P){return typeof v!="function"?v:function(){var I=ht;j&&Ba(),yi(b,!0);try{return v.apply(this,arguments)}finally{yi(I,!1),P&&queueMicrotask(is)}}}function su(v){Promise===Ue&&Rn.echoes===0?Gi===0?v():enqueueNativeMicroTask(v):setTimeout(v,0)}(""+Us).indexOf("[native code]")===-1&&(Ba=is=ut);var qn=dt.reject,Zi="￿",wn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",yh="String expected.",wi=[],Hl="__dbnames",Qi="readonly",ou="readwrite";function Ko(v,b){return v?b?function(){return v.apply(this,arguments)&&b.apply(this,arguments)}:v:b}var ql={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function _s(v){return typeof v!="string"||/\./.test(v)?function(b){return b}:function(b){return b[v]===void 0&&v in b&&delete(b=_e(b))[v],b}}function xh(){throw Oe.Type()}function Ht(v,b){try{var j=Id(v),P=Id(b);if(j!==P)return j==="Array"?1:P==="Array"?-1:j==="binary"?1:P==="binary"?-1:j==="string"?1:P==="string"?-1:j==="Date"?1:P!=="Date"?NaN:-1;switch(j){case"number":case"Date":case"string":return b<v?1:v<b?-1:0;case"binary":return function(I,U){for(var G=I.length,oe=U.length,pe=G<oe?G:oe,$=0;$<pe;++$)if(I[$]!==U[$])return I[$]<U[$]?-1:1;return G===oe?0:G<oe?-1:1}(Ld(v),Ld(b));case"Array":return function(I,U){for(var G=I.length,oe=U.length,pe=G<oe?G:oe,$=0;$<pe;++$){var H=Ht(I[$],U[$]);if(H!==0)return H}return G===oe?0:G<oe?-1:1}(v,b)}}catch{}return NaN}function Id(v){var b=typeof v;return b!="object"?b:ArrayBuffer.isView(v)?"binary":(v=ge(v),v==="ArrayBuffer"?"binary":v)}function Ld(v){return v instanceof Uint8Array?v:ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):new Uint8Array(v)}var Fd=(jn.prototype._trans=function(v,b,j){var P=this._tx||ht.trans,I=this.name,U=Vt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(v==="readonly"?"read":"write"," ").concat(this.name));function G($,H,B){if(!B.schema[I])throw new Oe.NotFound("Table "+I+" not part of transaction");return b(B.idbtrans,B)}var oe=ur();try{var pe=P&&P.db._novip===this.db._novip?P===ht.trans?P._promise(v,G,j):vi(function(){return P._promise(v,G,j)},{trans:P,transless:ht.transless||ht}):function $(H,B,re,ne){if(H.idbdb&&(H._state.openComplete||ht.letThrough||H._vip)){var ue=H._createTransaction(B,re,H._dbSchema);try{ue.create(),H._state.PR1398_maxLoop=3}catch(be){return be.name===Me.InvalidState&&H.isOpen()&&0<--H._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),H.close({disableAutoOpen:!1}),H.open().then(function(){return $(H,B,re,ne)})):qn(be)}return ue._promise(B,function(be,ce){return vi(function(){return ht.trans=ue,ne(be,ce,ue)})}).then(function(be){if(B==="readwrite")try{ue.idbtrans.commit()}catch{}return B==="readonly"?be:ue._completion.then(function(){return be})})}if(H._state.openComplete)return qn(new Oe.DatabaseClosed(H._state.dbOpenError));if(!H._state.isBeingOpened){if(!H._state.autoOpen)return qn(new Oe.DatabaseClosed);H.open().catch(ut)}return H._state.dbReadyPromise.then(function(){return $(H,B,re,ne)})}(this.db,v,[this.name],G);return U&&(pe._consoleTask=U,pe=pe.catch(function($){return console.trace($),qn($)})),pe}finally{oe&&gr()}},jn.prototype.get=function(v,b){var j=this;return v&&v.constructor===Object?this.where(v).first(b):v==null?qn(new Oe.Type("Invalid argument to Table.get()")):this._trans("readonly",function(P){return j.core.get({trans:P,key:v}).then(function(I){return j.hook.reading.fire(I)})}).then(b)},jn.prototype.where=function(v){if(typeof v=="string")return new this.db.WhereClause(this,v);if(u(v))return new this.db.WhereClause(this,"[".concat(v.join("+"),"]"));var b=c(v);if(b.length===1)return this.where(b[0]).equals(v[b[0]]);var j=this.schema.indexes.concat(this.schema.primKey).filter(function(oe){if(oe.compound&&b.every(function($){return 0<=oe.keyPath.indexOf($)})){for(var pe=0;pe<b.length;++pe)if(b.indexOf(oe.keyPath[pe])===-1)return!1;return!0}return!1}).sort(function(oe,pe){return oe.keyPath.length-pe.keyPath.length})[0];if(j&&this.db._maxKey!==Zi){var U=j.keyPath.slice(0,b.length);return this.where(U).equals(U.map(function(pe){return v[pe]}))}!j&&Vt&&console.warn("The query ".concat(JSON.stringify(v)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(b.join("+"),"]"));var P=this.schema.idxByName;function I(oe,pe){return Ht(oe,pe)===0}var G=b.reduce(function(B,pe){var $=B[0],H=B[1],B=P[pe],re=v[pe];return[$||B,$||!B?Ko(H,B&&B.multi?function(ne){return ne=Y(ne,pe),u(ne)&&ne.some(function(ue){return I(re,ue)})}:function(ne){return I(re,Y(ne,pe))}):H]},[null,null]),U=G[0],G=G[1];return U?this.where(U.name).equals(v[U.keyPath]).filter(G):j?this.filter(G):this.where(b).equals("")},jn.prototype.filter=function(v){return this.toCollection().and(v)},jn.prototype.count=function(v){return this.toCollection().count(v)},jn.prototype.offset=function(v){return this.toCollection().offset(v)},jn.prototype.limit=function(v){return this.toCollection().limit(v)},jn.prototype.each=function(v){return this.toCollection().each(v)},jn.prototype.toArray=function(v){return this.toCollection().toArray(v)},jn.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},jn.prototype.orderBy=function(v){return new this.db.Collection(new this.db.WhereClause(this,u(v)?"[".concat(v.join("+"),"]"):v))},jn.prototype.reverse=function(){return this.toCollection().reverse()},jn.prototype.mapToClass=function(v){var b,j=this.db,P=this.name;function I(){return b!==null&&b.apply(this,arguments)||this}(this.schema.mappedClass=v).prototype instanceof xh&&(function(pe,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function H(){this.constructor=pe}n(pe,$),pe.prototype=$===null?Object.create($):(H.prototype=$.prototype,new H)}(I,b=v),Object.defineProperty(I.prototype,"db",{get:function(){return j},enumerable:!1,configurable:!0}),I.prototype.table=function(){return P},v=I);for(var U=new Set,G=v.prototype;G;G=m(G))Object.getOwnPropertyNames(G).forEach(function(pe){return U.add(pe)});function oe(pe){if(!pe)return pe;var $,H=Object.create(v.prototype);for($ in pe)if(!U.has($))try{H[$]=pe[$]}catch{}return H}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=oe,this.hook("reading",oe),v},jn.prototype.defineClass=function(){return this.mapToClass(function(v){p(this,v)})},jn.prototype.add=function(v,b){var j=this,P=this.schema.primKey,I=P.auto,U=P.keyPath,G=v;return U&&I&&(G=_s(U)(v)),this._trans("readwrite",function(oe){return j.core.mutate({trans:oe,type:"add",keys:b!=null?[b]:null,values:[G]})}).then(function(oe){return oe.numFailures?dt.reject(oe.failures[0]):oe.lastResult}).then(function(oe){if(U)try{Z(v,U,oe)}catch{}return oe})},jn.prototype.update=function(v,b){return typeof v!="object"||u(v)?this.where(":id").equals(v).modify(b):(v=Y(v,this.schema.primKey.keyPath),v===void 0?qn(new Oe.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(v).modify(b))},jn.prototype.put=function(v,b){var j=this,P=this.schema.primKey,I=P.auto,U=P.keyPath,G=v;return U&&I&&(G=_s(U)(v)),this._trans("readwrite",function(oe){return j.core.mutate({trans:oe,type:"put",values:[G],keys:b!=null?[b]:null})}).then(function(oe){return oe.numFailures?dt.reject(oe.failures[0]):oe.lastResult}).then(function(oe){if(U)try{Z(v,U,oe)}catch{}return oe})},jn.prototype.delete=function(v){var b=this;return this._trans("readwrite",function(j){return b.core.mutate({trans:j,type:"delete",keys:[v]})}).then(function(j){return j.numFailures?dt.reject(j.failures[0]):void 0})},jn.prototype.clear=function(){var v=this;return this._trans("readwrite",function(b){return v.core.mutate({trans:b,type:"deleteRange",range:ql})}).then(function(b){return b.numFailures?dt.reject(b.failures[0]):void 0})},jn.prototype.bulkGet=function(v){var b=this;return this._trans("readonly",function(j){return b.core.getMany({keys:v,trans:j}).then(function(P){return P.map(function(I){return b.hook.reading.fire(I)})})})},jn.prototype.bulkAdd=function(v,b,j){var P=this,I=Array.isArray(b)?b:void 0,U=(j=j||(I?void 0:b))?j.allKeys:void 0;return this._trans("readwrite",function(G){var $=P.schema.primKey,oe=$.auto,$=$.keyPath;if($&&I)throw new Oe.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(I&&I.length!==v.length)throw new Oe.InvalidArgument("Arguments objects and keys must have the same length");var pe=v.length,$=$&&oe?v.map(_s($)):v;return P.core.mutate({trans:G,type:"add",keys:I,values:$,wantResults:U}).then(function(ue){var B=ue.numFailures,re=ue.results,ne=ue.lastResult,ue=ue.failures;if(B===0)return U?re:ne;throw new Ze("".concat(P.name,".bulkAdd(): ").concat(B," of ").concat(pe," operations failed"),ue)})})},jn.prototype.bulkPut=function(v,b,j){var P=this,I=Array.isArray(b)?b:void 0,U=(j=j||(I?void 0:b))?j.allKeys:void 0;return this._trans("readwrite",function(G){var $=P.schema.primKey,oe=$.auto,$=$.keyPath;if($&&I)throw new Oe.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(I&&I.length!==v.length)throw new Oe.InvalidArgument("Arguments objects and keys must have the same length");var pe=v.length,$=$&&oe?v.map(_s($)):v;return P.core.mutate({trans:G,type:"put",keys:I,values:$,wantResults:U}).then(function(ue){var B=ue.numFailures,re=ue.results,ne=ue.lastResult,ue=ue.failures;if(B===0)return U?re:ne;throw new Ze("".concat(P.name,".bulkPut(): ").concat(B," of ").concat(pe," operations failed"),ue)})})},jn.prototype.bulkUpdate=function(v){var b=this,j=this.core,P=v.map(function(G){return G.key}),I=v.map(function(G){return G.changes}),U=[];return this._trans("readwrite",function(G){return j.getMany({trans:G,keys:P,cache:"clone"}).then(function(oe){var pe=[],$=[];v.forEach(function(B,re){var ne=B.key,ue=B.changes,be=oe[re];if(be){for(var ce=0,Ne=Object.keys(ue);ce<Ne.length;ce++){var De=Ne[ce],Ae=ue[De];if(De===b.schema.primKey.keyPath){if(Ht(Ae,ne)!==0)throw new Oe.Constraint("Cannot update primary key in bulkUpdate()")}else Z(be,De,Ae)}U.push(re),pe.push(ne),$.push(be)}});var H=pe.length;return j.mutate({trans:G,type:"put",keys:pe,values:$,updates:{keys:P,changeSpecs:I}}).then(function(B){var re=B.numFailures,ne=B.failures;if(re===0)return H;for(var ue=0,be=Object.keys(ne);ue<be.length;ue++){var ce,Ne=be[ue],De=U[Number(Ne)];De!=null&&(ce=ne[Ne],delete ne[Ne],ne[De]=ce)}throw new Ze("".concat(b.name,".bulkUpdate(): ").concat(re," of ").concat(H," operations failed"),ne)})})})},jn.prototype.bulkDelete=function(v){var b=this,j=v.length;return this._trans("readwrite",function(P){return b.core.mutate({trans:P,type:"delete",keys:v})}).then(function(G){var I=G.numFailures,U=G.lastResult,G=G.failures;if(I===0)return U;throw new Ze("".concat(b.name,".bulkDelete(): ").concat(I," of ").concat(j," operations failed"),G)})},jn);function jn(){}function bi(v){function b(G,oe){if(oe){for(var pe=arguments.length,$=new Array(pe-1);--pe;)$[pe-1]=arguments[pe];return j[G].subscribe.apply(null,$),v}if(typeof G=="string")return j[G]}var j={};b.addEventType=U;for(var P=1,I=arguments.length;P<I;++P)U(arguments[P]);return b;function U(G,oe,pe){if(typeof G!="object"){var $;oe=oe||Ft;var H={subscribers:[],fire:pe=pe||ut,subscribe:function(B){H.subscribers.indexOf(B)===-1&&(H.subscribers.push(B),H.fire=oe(H.fire,B))},unsubscribe:function(B){H.subscribers=H.subscribers.filter(function(re){return re!==B}),H.fire=H.subscribers.reduce(oe,pe)}};return j[G]=b[G]=H}c($=G).forEach(function(B){var re=$[B];if(u(re))U(B,$[B][0],$[B][1]);else{if(re!=="asap")throw new Oe.InvalidArgument("Invalid event config");var ne=U(B,Gt,function(){for(var ue=arguments.length,be=new Array(ue);ue--;)be[ue]=arguments[ue];ne.subscribers.forEach(function(ce){q(function(){ce.apply(null,be)})})})}})}}function yo(v,b){return E(b).from({prototype:v}),b}function Is(v,b){return!(v.filter||v.algorithm||v.or)&&(b?v.justLimit:!v.replayFilter)}function iu(v,b){v.filter=Ko(v.filter,b)}function $d(v,b,j){var P=v.replayFilter;v.replayFilter=P?function(){return Ko(P(),b())}:b,v.justLimit=j&&!P}function Xi(v,b){if(v.isPrimKey)return b.primaryKey;var j=b.getIndexByKeyPath(v.index);if(!j)throw new Oe.Schema("KeyPath "+v.index+" on object store "+b.name+" is not indexed");return j}function au(v,b,j){var P=Xi(v,b.schema);return b.openCursor({trans:j,values:!v.keysOnly,reverse:v.dir==="prev",unique:!!v.unique,query:{index:P,range:v.range}})}function _i(v,b,j,P){var I=v.replayFilter?Ko(v.filter,v.replayFilter()):v.filter;if(v.or){var U={},G=function(oe,pe,$){var H,B;I&&!I(pe,$,function(re){return pe.stop(re)},function(re){return pe.fail(re)})||((B=""+(H=pe.primaryKey))=="[object ArrayBuffer]"&&(B=""+new Uint8Array(H)),g(U,B)||(U[B]=!0,b(oe,pe,$)))};return Promise.all([v.or._iterate(G,j),za(au(v,P,j),v.algorithm,G,!v.keysOnly&&v.valueMapper)])}return za(au(v,P,j),Ko(v.algorithm,I),b,!v.keysOnly&&v.valueMapper)}function za(v,b,j,P){var I=tn(P?function(U,G,oe){return j(P(U),G,oe)}:j);return v.then(function(U){if(U)return U.start(function(){var G=function(){return U.continue()};b&&!b(U,function(oe){return G=oe},function(oe){U.stop(oe),G=ut},function(oe){U.fail(oe),G=ut})||I(U.value,U,function(oe){return G=oe}),G()})})}var Wa=(Va.prototype.execute=function(v){var b=this["@@propmod"];if(b.add!==void 0){var j=b.add;if(u(j))return s(s([],u(v)?v:[],!0),j).sort();if(typeof j=="number")return(Number(v)||0)+j;if(typeof j=="bigint")try{return BigInt(v)+j}catch{return BigInt(0)+j}throw new TypeError("Invalid term ".concat(j))}if(b.remove!==void 0){var P=b.remove;if(u(P))return u(v)?v.filter(function(I){return!P.includes(I)}).sort():[];if(typeof P=="number")return Number(v)-P;if(typeof P=="bigint")try{return BigInt(v)-P}catch{return BigInt(0)-P}throw new TypeError("Invalid subtrahend ".concat(P))}return j=(j=b.replacePrefix)===null||j===void 0?void 0:j[0],j&&typeof v=="string"&&v.startsWith(j)?b.replacePrefix[1]+v.substring(j.length):v},Va);function Va(v){this["@@propmod"]=v}var _n=(cn.prototype._read=function(v,b){var j=this._ctx;return j.error?j.table._trans(null,qn.bind(null,j.error)):j.table._trans("readonly",v).then(b)},cn.prototype._write=function(v){var b=this._ctx;return b.error?b.table._trans(null,qn.bind(null,b.error)):b.table._trans("readwrite",v,"locked")},cn.prototype._addAlgorithm=function(v){var b=this._ctx;b.algorithm=Ko(b.algorithm,v)},cn.prototype._iterate=function(v,b){return _i(this._ctx,v,b,this._ctx.table.core)},cn.prototype.clone=function(v){var b=Object.create(this.constructor.prototype),j=Object.create(this._ctx);return v&&p(j,v),b._ctx=j,b},cn.prototype.raw=function(){return this._ctx.valueMapper=null,this},cn.prototype.each=function(v){var b=this._ctx;return this._read(function(j){return _i(b,v,j,b.table.core)})},cn.prototype.count=function(v){var b=this;return this._read(function(j){var P=b._ctx,I=P.table.core;if(Is(P,!0))return I.count({trans:j,query:{index:Xi(P,I.schema),range:P.range}}).then(function(G){return Math.min(G,P.limit)});var U=0;return _i(P,function(){return++U,!1},j,I).then(function(){return U})}).then(v)},cn.prototype.sortBy=function(v,b){var j=v.split(".").reverse(),P=j[0],I=j.length-1;function U(pe,$){return $?U(pe[j[$]],$-1):pe[P]}var G=this._ctx.dir==="next"?1:-1;function oe(pe,$){return Ht(U(pe,I),U($,I))*G}return this.toArray(function(pe){return pe.sort(oe)}).then(b)},cn.prototype.toArray=function(v){var b=this;return this._read(function(j){var P=b._ctx;if(P.dir==="next"&&Is(P,!0)&&0<P.limit){var I=P.valueMapper,U=Xi(P,P.table.core.schema);return P.table.core.query({trans:j,limit:P.limit,values:!0,query:{index:U,range:P.range}}).then(function(oe){return oe=oe.result,I?oe.map(I):oe})}var G=[];return _i(P,function(oe){return G.push(oe)},j,P.table.core).then(function(){return G})},v)},cn.prototype.offset=function(v){var b=this._ctx;return v<=0||(b.offset+=v,Is(b)?$d(b,function(){var j=v;return function(P,I){return j===0||(j===1?--j:I(function(){P.advance(j),j=0}),!1)}}):$d(b,function(){var j=v;return function(){return--j<0}})),this},cn.prototype.limit=function(v){return this._ctx.limit=Math.min(this._ctx.limit,v),$d(this._ctx,function(){var b=v;return function(j,P,I){return--b<=0&&P(I),0<=b}},!0),this},cn.prototype.until=function(v,b){return iu(this._ctx,function(j,P,I){return!v(j.value)||(P(I),b)}),this},cn.prototype.first=function(v){return this.limit(1).toArray(function(b){return b[0]}).then(v)},cn.prototype.last=function(v){return this.reverse().first(v)},cn.prototype.filter=function(v){var b;return iu(this._ctx,function(j){return v(j.value)}),(b=this._ctx).isMatch=Ko(b.isMatch,v),this},cn.prototype.and=function(v){return this.filter(v)},cn.prototype.or=function(v){return new this.db.WhereClause(this._ctx.table,v,this)},cn.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},cn.prototype.desc=function(){return this.reverse()},cn.prototype.eachKey=function(v){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(j,P){v(P.key,P)})},cn.prototype.eachUniqueKey=function(v){return this._ctx.unique="unique",this.eachKey(v)},cn.prototype.eachPrimaryKey=function(v){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(j,P){v(P.primaryKey,P)})},cn.prototype.keys=function(v){var b=this._ctx;b.keysOnly=!b.isMatch;var j=[];return this.each(function(P,I){j.push(I.key)}).then(function(){return j}).then(v)},cn.prototype.primaryKeys=function(v){var b=this._ctx;if(b.dir==="next"&&Is(b,!0)&&0<b.limit)return this._read(function(P){var I=Xi(b,b.table.core.schema);return b.table.core.query({trans:P,values:!1,limit:b.limit,query:{index:I,range:b.range}})}).then(function(P){return P.result}).then(v);b.keysOnly=!b.isMatch;var j=[];return this.each(function(P,I){j.push(I.primaryKey)}).then(function(){return j}).then(v)},cn.prototype.uniqueKeys=function(v){return this._ctx.unique="unique",this.keys(v)},cn.prototype.firstKey=function(v){return this.limit(1).keys(function(b){return b[0]}).then(v)},cn.prototype.lastKey=function(v){return this.reverse().firstKey(v)},cn.prototype.distinct=function(){var v=this._ctx,v=v.index&&v.table.schema.idxByName[v.index];if(!v||!v.multi)return this;var b={};return iu(this._ctx,function(I){var P=I.primaryKey.toString(),I=g(b,P);return b[P]=!0,!I}),this},cn.prototype.modify=function(v){var b=this,j=this._ctx;return this._write(function(P){var I,U,G;G=typeof v=="function"?v:(I=c(v),U=I.length,function(ce){for(var Ne=!1,De=0;De<U;++De){var Ae=I[De],$e=v[Ae],nt=Y(ce,Ae);$e instanceof Wa?(Z(ce,Ae,$e.execute(nt)),Ne=!0):nt!==$e&&(Z(ce,Ae,$e),Ne=!0)}return Ne});var oe=j.table.core,B=oe.schema.primaryKey,pe=B.outbound,$=B.extractKey,H=200,B=b.db._options.modifyChunkSize;B&&(H=typeof B=="object"?B[oe.name]||B["*"]||200:B);function re(ce,Ae){var De=Ae.failures,Ae=Ae.numFailures;ue+=ce-Ae;for(var $e=0,nt=c(De);$e<nt.length;$e++){var st=nt[$e];ne.push(De[st])}}var ne=[],ue=0,be=[];return b.clone().primaryKeys().then(function(ce){function Ne(Ae){var $e=Math.min(H,ce.length-Ae);return oe.getMany({trans:P,keys:ce.slice(Ae,Ae+$e),cache:"immutable"}).then(function(nt){for(var st=[],et=[],ot=pe?[]:null,Ke=[],lt=0;lt<$e;++lt){var vt=nt[lt],Bt={value:_e(vt),primKey:ce[Ae+lt]};G.call(Bt,Bt.value,Bt)!==!1&&(Bt.value==null?Ke.push(ce[Ae+lt]):pe||Ht($(vt),$(Bt.value))===0?(et.push(Bt.value),pe&&ot.push(ce[Ae+lt])):(Ke.push(ce[Ae+lt]),st.push(Bt.value)))}return Promise.resolve(0<st.length&&oe.mutate({trans:P,type:"add",values:st}).then(function(en){for(var sn in en.failures)Ke.splice(parseInt(sn),1);re(st.length,en)})).then(function(){return(0<et.length||De&&typeof v=="object")&&oe.mutate({trans:P,type:"put",keys:ot,values:et,criteria:De,changeSpec:typeof v!="function"&&v,isAdditionalChunk:0<Ae}).then(function(en){return re(et.length,en)})}).then(function(){return(0<Ke.length||De&&v===Kl)&&oe.mutate({trans:P,type:"delete",keys:Ke,criteria:De,isAdditionalChunk:0<Ae}).then(function(en){return re(Ke.length,en)})}).then(function(){return ce.length>Ae+$e&&Ne(Ae+H)})})}var De=Is(j)&&j.limit===1/0&&(typeof v!="function"||v===Kl)&&{index:j.index,range:j.range};return Ne(0).then(function(){if(0<ne.length)throw new Fe("Error modifying one or more objects",ne,ue,be);return ce.length})})})},cn.prototype.delete=function(){var v=this._ctx,b=v.range;return Is(v)&&(v.isPrimKey||b.type===3)?this._write(function(j){var P=v.table.core.schema.primaryKey,I=b;return v.table.core.count({trans:j,query:{index:P,range:I}}).then(function(U){return v.table.core.mutate({trans:j,type:"deleteRange",range:I}).then(function(G){var oe=G.failures;if(G.lastResult,G.results,G=G.numFailures,G)throw new Fe("Could not delete some values",Object.keys(oe).map(function(pe){return oe[pe]}),U-G);return U-G})})}):this.modify(Kl)},cn);function cn(){}var Kl=function(v,b){return b.value=null};function lu(v,b){return v<b?-1:v===b?0:1}function wh(v,b){return b<v?-1:v===b?0:1}function Gr(v,b,j){return v=v instanceof Go?new v.Collection(v):v,v._ctx.error=new(j||TypeError)(b),v}function Si(v){return new v.Collection(v,function(){return Yo("")}).limit(0)}function Ji(v,b,j,P){var I,U,G,oe,pe,$,H,B=j.length;if(!j.every(function(ue){return typeof ue=="string"}))return Gr(v,yh);function re(ue){I=ue==="next"?function(ce){return ce.toUpperCase()}:function(ce){return ce.toLowerCase()},U=ue==="next"?function(ce){return ce.toLowerCase()}:function(ce){return ce.toUpperCase()},G=ue==="next"?lu:wh;var be=j.map(function(ce){return{lower:U(ce),upper:I(ce)}}).sort(function(ce,Ne){return G(ce.lower,Ne.lower)});oe=be.map(function(ce){return ce.upper}),pe=be.map(function(ce){return ce.lower}),H=($=ue)==="next"?"":P}re("next"),v=new v.Collection(v,function(){return Ls(oe[0],pe[B-1]+P)}),v._ondirectionchange=function(ue){re(ue)};var ne=0;return v._addAlgorithm(function(ue,be,ce){var Ne=ue.key;if(typeof Ne!="string")return!1;var De=U(Ne);if(b(De,pe,ne))return!0;for(var Ae=null,$e=ne;$e<B;++$e){var nt=function(st,et,ot,Ke,lt,vt){for(var Bt=Math.min(st.length,Ke.length),en=-1,sn=0;sn<Bt;++sn){var ls=et[sn];if(ls!==Ke[sn])return lt(st[sn],ot[sn])<0?st.substr(0,sn)+ot[sn]+ot.substr(sn+1):lt(st[sn],Ke[sn])<0?st.substr(0,sn)+Ke[sn]+ot.substr(sn+1):0<=en?st.substr(0,en)+et[en]+ot.substr(en+1):null;lt(st[sn],ls)<0&&(en=sn)}return Bt<Ke.length&&vt==="next"?st+ot.substr(st.length):Bt<st.length&&vt==="prev"?st.substr(0,ot.length):en<0?null:st.substr(0,en)+Ke[en]+ot.substr(en+1)}(Ne,De,oe[$e],pe[$e],G,$);nt===null&&Ae===null?ne=$e+1:(Ae===null||0<G(Ae,nt))&&(Ae=nt)}return be(Ae!==null?function(){ue.continue(Ae+H)}:ce),!1}),v}function Ls(v,b,j,P){return{type:2,lower:v,upper:b,lowerOpen:j,upperOpen:P}}function Yo(v){return{type:1,lower:v,upper:v}}var Go=(Object.defineProperty(Wn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Wn.prototype.between=function(v,b,j,P){j=j!==!1,P=P===!0;try{return 0<this._cmp(v,b)||this._cmp(v,b)===0&&(j||P)&&(!j||!P)?Si(this):new this.Collection(this,function(){return Ls(v,b,!j,!P)})}catch{return Gr(this,wn)}},Wn.prototype.equals=function(v){return v==null?Gr(this,wn):new this.Collection(this,function(){return Yo(v)})},Wn.prototype.above=function(v){return v==null?Gr(this,wn):new this.Collection(this,function(){return Ls(v,void 0,!0)})},Wn.prototype.aboveOrEqual=function(v){return v==null?Gr(this,wn):new this.Collection(this,function(){return Ls(v,void 0,!1)})},Wn.prototype.below=function(v){return v==null?Gr(this,wn):new this.Collection(this,function(){return Ls(void 0,v,!1,!0)})},Wn.prototype.belowOrEqual=function(v){return v==null?Gr(this,wn):new this.Collection(this,function(){return Ls(void 0,v)})},Wn.prototype.startsWith=function(v){return typeof v!="string"?Gr(this,yh):this.between(v,v+Zi,!0,!0)},Wn.prototype.startsWithIgnoreCase=function(v){return v===""?this.startsWith(v):Ji(this,function(b,j){return b.indexOf(j[0])===0},[v],Zi)},Wn.prototype.equalsIgnoreCase=function(v){return Ji(this,function(b,j){return b===j[0]},[v],"")},Wn.prototype.anyOfIgnoreCase=function(){var v=xe.apply(J,arguments);return v.length===0?Si(this):Ji(this,function(b,j){return j.indexOf(b)!==-1},v,"")},Wn.prototype.startsWithAnyOfIgnoreCase=function(){var v=xe.apply(J,arguments);return v.length===0?Si(this):Ji(this,function(b,j){return j.some(function(P){return b.indexOf(P)===0})},v,Zi)},Wn.prototype.anyOf=function(){var v=this,b=xe.apply(J,arguments),j=this._cmp;try{b.sort(j)}catch{return Gr(this,wn)}if(b.length===0)return Si(this);var P=new this.Collection(this,function(){return Ls(b[0],b[b.length-1])});P._ondirectionchange=function(U){j=U==="next"?v._ascending:v._descending,b.sort(j)};var I=0;return P._addAlgorithm(function(U,G,oe){for(var pe=U.key;0<j(pe,b[I]);)if(++I===b.length)return G(oe),!1;return j(pe,b[I])===0||(G(function(){U.continue(b[I])}),!1)}),P},Wn.prototype.notEqual=function(v){return this.inAnyRange([[-1/0,v],[v,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Wn.prototype.noneOf=function(){var v=xe.apply(J,arguments);if(v.length===0)return new this.Collection(this);try{v.sort(this._ascending)}catch{return Gr(this,wn)}var b=v.reduce(function(j,P){return j?j.concat([[j[j.length-1][1],P]]):[[-1/0,P]]},null);return b.push([v[v.length-1],this.db._maxKey]),this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})},Wn.prototype.inAnyRange=function(Ne,b){var j=this,P=this._cmp,I=this._ascending,U=this._descending,G=this._min,oe=this._max;if(Ne.length===0)return Si(this);if(!Ne.every(function(De){return De[0]!==void 0&&De[1]!==void 0&&I(De[0],De[1])<=0}))return Gr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Oe.InvalidArgument);var pe=!b||b.includeLowers!==!1,$=b&&b.includeUppers===!0,H,B=I;function re(De,Ae){return B(De[0],Ae[0])}try{(H=Ne.reduce(function(De,Ae){for(var $e=0,nt=De.length;$e<nt;++$e){var st=De[$e];if(P(Ae[0],st[1])<0&&0<P(Ae[1],st[0])){st[0]=G(st[0],Ae[0]),st[1]=oe(st[1],Ae[1]);break}}return $e===nt&&De.push(Ae),De},[])).sort(re)}catch{return Gr(this,wn)}var ne=0,ue=$?function(De){return 0<I(De,H[ne][1])}:function(De){return 0<=I(De,H[ne][1])},be=pe?function(De){return 0<U(De,H[ne][0])}:function(De){return 0<=U(De,H[ne][0])},ce=ue,Ne=new this.Collection(this,function(){return Ls(H[0][0],H[H.length-1][1],!pe,!$)});return Ne._ondirectionchange=function(De){B=De==="next"?(ce=ue,I):(ce=be,U),H.sort(re)},Ne._addAlgorithm(function(De,Ae,$e){for(var nt,st=De.key;ce(st);)if(++ne===H.length)return Ae($e),!1;return!ue(nt=st)&&!be(nt)||(j._cmp(st,H[ne][1])===0||j._cmp(st,H[ne][0])===0||Ae(function(){B===I?De.continue(H[ne][0]):De.continue(H[ne][1])}),!1)}),Ne},Wn.prototype.startsWithAnyOf=function(){var v=xe.apply(J,arguments);return v.every(function(b){return typeof b=="string"})?v.length===0?Si(this):this.inAnyRange(v.map(function(b){return[b,b+Zi]})):Gr(this,"startsWithAnyOf() only works with strings")},Wn);function Wn(){}function Zr(v){return tn(function(b){return Zo(b),v(b.target.error),!1})}function Zo(v){v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault()}var Fs="storagemutated",Bd="x-storagemutated-1",Qo=bi(null,Fs),ea=(xo.prototype._lock=function(){return z(!ht.global),++this._reculock,this._reculock!==1||ht.global||(ht.lockOwnerFor=this),this},xo.prototype._unlock=function(){if(z(!ht.global),--this._reculock==0)for(ht.global||(ht.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var v=this._blockedFuncs.shift();try{xi(v[1],v[0])}catch{}}return this},xo.prototype._locked=function(){return this._reculock&&ht.lockOwnerFor!==this},xo.prototype.create=function(v){var b=this;if(!this.mode)return this;var j=this.db.idbdb,P=this.db._state.dbOpenError;if(z(!this.idbtrans),!v&&!j)switch(P&&P.name){case"DatabaseClosedError":throw new Oe.DatabaseClosed(P);case"MissingAPIError":throw new Oe.MissingAPI(P.message,P);default:throw new Oe.OpenFailed(P)}if(!this.active)throw new Oe.TransactionInactive;return z(this._completion._state===null),(v=this.idbtrans=v||(this.db.core||j).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=tn(function(I){Zo(I),b._reject(v.error)}),v.onabort=tn(function(I){Zo(I),b.active&&b._reject(new Oe.Abort(v.error)),b.active=!1,b.on("abort").fire(I)}),v.oncomplete=tn(function(){b.active=!1,b._resolve(),"mutatedParts"in v&&Qo.storagemutated.fire(v.mutatedParts)}),this},xo.prototype._promise=function(v,b,j){var P=this;if(v==="readwrite"&&this.mode!=="readwrite")return qn(new Oe.ReadOnly("Transaction is readonly"));if(!this.active)return qn(new Oe.TransactionInactive);if(this._locked())return new dt(function(U,G){P._blockedFuncs.push([function(){P._promise(v,b,j).then(U,G)},ht])});if(j)return vi(function(){var U=new dt(function(G,oe){P._lock();var pe=b(G,oe,P);pe&&pe.then&&pe.then(G,oe)});return U.finally(function(){return P._unlock()}),U._lib=!0,U});var I=new dt(function(U,G){var oe=b(U,G,P);oe&&oe.then&&oe.then(U,G)});return I._lib=!0,I},xo.prototype._root=function(){return this.parent?this.parent._root():this},xo.prototype.waitFor=function(v){var b,j=this._root(),P=dt.resolve(v);j._waitingFor?j._waitingFor=j._waitingFor.then(function(){return P}):(j._waitingFor=P,j._waitingQueue=[],b=j.idbtrans.objectStore(j.storeNames[0]),function U(){for(++j._spinCount;j._waitingQueue.length;)j._waitingQueue.shift()();j._waitingFor&&(b.get(-1/0).onsuccess=U)}());var I=j._waitingFor;return new dt(function(U,G){P.then(function(oe){return j._waitingQueue.push(tn(U.bind(null,oe)))},function(oe){return j._waitingQueue.push(tn(G.bind(null,oe)))}).finally(function(){j._waitingFor===I&&(j._waitingFor=null)})})},xo.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Oe.Abort))},xo.prototype.table=function(v){var b=this._memoizedTables||(this._memoizedTables={});if(g(b,v))return b[v];var j=this.schema[v];if(!j)throw new Oe.NotFound("Table "+v+" not part of transaction");return j=new this.db.Table(v,j,this),j.core=this.db.core.table(v),b[v]=j},xo);function xo(){}function cu(v,b,j,P,I,U,G){return{name:v,keyPath:b,unique:j,multi:P,auto:I,compound:U,src:(j&&!G?"&":"")+(P?"*":"")+(I?"++":"")+Yl(b)}}function Yl(v){return typeof v=="string"?v:v?"["+[].join.call(v,"+")+"]":""}function uu(v,b,j){return{name:v,primKey:b,indexes:j,mappedClass:null,idxByName:(P=function(I){return[I.name,I]},j.reduce(function(I,U,G){return G=P(U,G),G&&(I[G[0]]=G[1]),I},{}))};var P}var Gl=function(v){try{return v.only([[]]),Gl=function(){return[[]]},[[]]}catch{return Gl=function(){return Zi},Zi}};function Sn(v){return v==null?function(){}:typeof v=="string"?(b=v).split(".").length===1?function(j){return j[b]}:function(j){return Y(j,b)}:function(j){return Y(j,v)};var b}function En(v){return[].slice.call(v)}var Ha=0;function Ei(v){return v==null?":id":typeof v=="string"?v:"[".concat(v.join("+"),"]")}function Ym(v,b,pe){function P(ce){if(ce.type===3)return null;if(ce.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var ne=ce.lower,ue=ce.upper,be=ce.lowerOpen,ce=ce.upperOpen;return ne===void 0?ue===void 0?null:b.upperBound(ue,!!ce):ue===void 0?b.lowerBound(ne,!!be):b.bound(ne,ue,!!be,!!ce)}function I(re){var ne,ue=re.name;return{name:ue,schema:re,mutate:function(be){var ce=be.trans,Ne=be.type,De=be.keys,Ae=be.values,$e=be.range;return new Promise(function(nt,st){nt=tn(nt);var et=ce.objectStore(ue),ot=et.keyPath==null,Ke=Ne==="put"||Ne==="add";if(!Ke&&Ne!=="delete"&&Ne!=="deleteRange")throw new Error("Invalid operation type: "+Ne);var lt,vt=(De||Ae||{length:1}).length;if(De&&Ae&&De.length!==Ae.length)throw new Error("Given keys array must have same length as given values array.");if(vt===0)return nt({numFailures:0,failures:{},results:[],lastResult:void 0});function Bt(Vn){++ls,Zo(Vn)}var en=[],sn=[],ls=0;if(Ne==="deleteRange"){if($e.type===4)return nt({numFailures:ls,failures:sn,results:[],lastResult:void 0});$e.type===3?en.push(lt=et.clear()):en.push(lt=et.delete(P($e)))}else{var ot=Ke?ot?[Ae,De]:[Ae,null]:[De,null],$t=ot[0],Yn=ot[1];if(Ke)for(var dr=0;dr<vt;++dr)en.push(lt=Yn&&Yn[dr]!==void 0?et[Ne]($t[dr],Yn[dr]):et[Ne]($t[dr])),lt.onerror=Bt;else for(dr=0;dr<vt;++dr)en.push(lt=et[Ne]($t[dr])),lt.onerror=Bt}function tl(Vn){Vn=Vn.target.result,en.forEach(function(So,nl){return So.error!=null&&(sn[nl]=So.error)}),nt({numFailures:ls,failures:sn,results:Ne==="delete"?De:en.map(function(So){return So.result}),lastResult:Vn})}lt.onerror=function(Vn){Bt(Vn),tl(Vn)},lt.onsuccess=tl})},getMany:function(be){var ce=be.trans,Ne=be.keys;return new Promise(function(De,Ae){De=tn(De);for(var $e,nt=ce.objectStore(ue),st=Ne.length,et=new Array(st),ot=0,Ke=0,lt=function(en){en=en.target,et[en._pos]=en.result,++Ke===ot&&De(et)},vt=Zr(Ae),Bt=0;Bt<st;++Bt)Ne[Bt]!=null&&(($e=nt.get(Ne[Bt]))._pos=Bt,$e.onsuccess=lt,$e.onerror=vt,++ot);ot===0&&De(et)})},get:function(be){var ce=be.trans,Ne=be.key;return new Promise(function(De,Ae){De=tn(De);var $e=ce.objectStore(ue).get(Ne);$e.onsuccess=function(nt){return De(nt.target.result)},$e.onerror=Zr(Ae)})},query:(ne=$,function(be){return new Promise(function(ce,Ne){ce=tn(ce);var De,Ae,$e,ot=be.trans,nt=be.values,st=be.limit,lt=be.query,et=st===1/0?void 0:st,Ke=lt.index,lt=lt.range,ot=ot.objectStore(ue),Ke=Ke.isPrimaryKey?ot:ot.index(Ke.name),lt=P(lt);if(st===0)return ce({result:[]});ne?((et=nt?Ke.getAll(lt,et):Ke.getAllKeys(lt,et)).onsuccess=function(vt){return ce({result:vt.target.result})},et.onerror=Zr(Ne)):(De=0,Ae=!nt&&"openKeyCursor"in Ke?Ke.openKeyCursor(lt):Ke.openCursor(lt),$e=[],Ae.onsuccess=function(vt){var Bt=Ae.result;return Bt?($e.push(nt?Bt.value:Bt.primaryKey),++De===st?ce({result:$e}):void Bt.continue()):ce({result:$e})},Ae.onerror=Zr(Ne))})}),openCursor:function(be){var ce=be.trans,Ne=be.values,De=be.query,Ae=be.reverse,$e=be.unique;return new Promise(function(nt,st){nt=tn(nt);var Ke=De.index,et=De.range,ot=ce.objectStore(ue),ot=Ke.isPrimaryKey?ot:ot.index(Ke.name),Ke=Ae?$e?"prevunique":"prev":$e?"nextunique":"next",lt=!Ne&&"openKeyCursor"in ot?ot.openKeyCursor(P(et),Ke):ot.openCursor(P(et),Ke);lt.onerror=Zr(st),lt.onsuccess=tn(function(vt){var Bt,en,sn,ls,$t=lt.result;$t?($t.___id=++Ha,$t.done=!1,Bt=$t.continue.bind($t),en=(en=$t.continuePrimaryKey)&&en.bind($t),sn=$t.advance.bind($t),ls=function(){throw new Error("Cursor not stopped")},$t.trans=ce,$t.stop=$t.continue=$t.continuePrimaryKey=$t.advance=function(){throw new Error("Cursor not started")},$t.fail=tn(st),$t.next=function(){var Yn=this,dr=1;return this.start(function(){return dr--?Yn.continue():Yn.stop()}).then(function(){return Yn})},$t.start=function(Yn){function dr(){if(lt.result)try{Yn()}catch(Vn){$t.fail(Vn)}else $t.done=!0,$t.start=function(){throw new Error("Cursor behind last entry")},$t.stop()}var tl=new Promise(function(Vn,So){Vn=tn(Vn),lt.onerror=Zr(So),$t.fail=So,$t.stop=function(nl){$t.stop=$t.continue=$t.continuePrimaryKey=$t.advance=ls,Vn(nl)}});return lt.onsuccess=tn(function(Vn){lt.onsuccess=dr,dr()}),$t.continue=Bt,$t.continuePrimaryKey=en,$t.advance=sn,dr(),tl},nt($t)):nt(null)},st)})},count:function(be){var ce=be.query,Ne=be.trans,De=ce.index,Ae=ce.range;return new Promise(function($e,nt){var st=Ne.objectStore(ue),et=De.isPrimaryKey?st:st.index(De.name),st=P(Ae),et=st?et.count(st):et.count();et.onsuccess=tn(function(ot){return $e(ot.target.result)}),et.onerror=Zr(nt)})}}}var U,G,oe,H=(G=pe,oe=En((U=v).objectStoreNames),{schema:{name:U.name,tables:oe.map(function(re){return G.objectStore(re)}).map(function(re){var ne=re.keyPath,ce=re.autoIncrement,ue=u(ne),be={},ce={name:re.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:ne==null,compound:ue,keyPath:ne,autoIncrement:ce,unique:!0,extractKey:Sn(ne)},indexes:En(re.indexNames).map(function(Ne){return re.index(Ne)}).map(function($e){var De=$e.name,Ae=$e.unique,nt=$e.multiEntry,$e=$e.keyPath,nt={name:De,compound:u($e),keyPath:$e,unique:Ae,multiEntry:nt,extractKey:Sn($e)};return be[Ei($e)]=nt}),getIndexByKeyPath:function(Ne){return be[Ei(Ne)]}};return be[":id"]=ce.primaryKey,ne!=null&&(be[Ei(ne)]=ce.primaryKey),ce})},hasGetAll:0<oe.length&&"getAll"in G.objectStore(oe[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),pe=H.schema,$=H.hasGetAll,H=pe.tables.map(I),B={};return H.forEach(function(re){return B[re.name]=re}),{stack:"dbcore",transaction:v.transaction.bind(v),table:function(re){if(!B[re])throw new Error("Table '".concat(re,"' not found"));return B[re]},MIN_KEY:-1/0,MAX_KEY:Gl(b),schema:pe}}function Gm(v,b,j,P){var I=j.IDBKeyRange;return j.indexedDB,{dbcore:(P=Ym(b,I,P),v.dbcore.reduce(function(U,G){return G=G.create,r(r({},U),G(U))},P))}}function qa(v,P){var j=P.db,P=Gm(v._middlewares,j,v._deps,P);v.core=P.dbcore,v.tables.forEach(function(I){var U=I.name;v.core.schema.tables.some(function(G){return G.name===U})&&(I.core=v.core.table(U),v[U]instanceof v.Table&&(v[U].core=I.core))})}function ta(v,b,j,P){j.forEach(function(I){var U=P[I];b.forEach(function(G){var oe=function pe($,H){return N($,H)||($=m($))&&pe($,H)}(G,I);(!oe||"value"in oe&&oe.value===void 0)&&(G===v.Transaction.prototype||G instanceof v.Transaction?T(G,I,{get:function(){return this.table(I)},set:function(pe){k(this,I,{value:pe,writable:!0,configurable:!0,enumerable:!0})}}):G[I]=new v.Table(I,U))})})}function Ka(v,b){b.forEach(function(j){for(var P in j)j[P]instanceof v.Table&&delete j[P]})}function bh(v,b){return v._cfg.version-b._cfg.version}function Kn(v,b,j,P){var I=v._dbSchema;j.objectStoreNames.contains("$meta")&&!I.$meta&&(I.$meta=uu("$meta",ki("")[0],[]),v._storeNames.push("$meta"));var U=v._createTransaction("readwrite",v._storeNames,I);U.create(j),U._completion.catch(P);var G=U._reject.bind(U),oe=ht.transless||ht;vi(function(){return ht.trans=U,ht.transless=oe,b!==0?(qa(v,j),$=b,((pe=U).storeNames.includes("$meta")?pe.table("$meta").get("version").then(function(H){return H??$}):dt.resolve($)).then(function(H){return re=H,ne=U,ue=j,be=[],H=(B=v)._versions,ce=B._dbSchema=Ya(0,B.idbdb,ue),(H=H.filter(function(Ne){return Ne._cfg.version>=re})).length!==0?(H.forEach(function(Ne){be.push(function(){var De=ce,Ae=Ne._cfg.dbschema;Ar(B,De,ue),Ar(B,Ae,ue),ce=B._dbSchema=Ae;var $e=$s(De,Ae);$e.add.forEach(function(Ke){Ql(ue,Ke[0],Ke[1].primKey,Ke[1].indexes)}),$e.change.forEach(function(Ke){if(Ke.recreate)throw new Oe.Upgrade("Not yet support for changing primary key");var lt=ue.objectStore(Ke.name);Ke.add.forEach(function(vt){return _r(lt,vt)}),Ke.change.forEach(function(vt){lt.deleteIndex(vt.name),_r(lt,vt)}),Ke.del.forEach(function(vt){return lt.deleteIndex(vt)})});var nt=Ne._cfg.contentUpgrade;if(nt&&Ne._cfg.version>re){qa(B,ue),ne._memoizedTables={};var st=ae(Ae);$e.del.forEach(function(Ke){st[Ke]=De[Ke]}),Ka(B,[B.Transaction.prototype]),ta(B,[B.Transaction.prototype],c(st),st),ne.schema=st;var et,ot=K(nt);return ot&&Ba(),$e=dt.follow(function(){var Ke;(et=nt(ne))&&ot&&(Ke=is.bind(null,null),et.then(Ke,Ke))}),et&&typeof et.then=="function"?dt.resolve(et):$e.then(function(){return et})}}),be.push(function(De){var Ae,$e,nt=Ne._cfg.dbschema;Ae=nt,$e=De,[].slice.call($e.db.objectStoreNames).forEach(function(st){return Ae[st]==null&&$e.db.deleteObjectStore(st)}),Ka(B,[B.Transaction.prototype]),ta(B,[B.Transaction.prototype],B._storeNames,B._dbSchema),ne.schema=B._dbSchema}),be.push(function(De){B.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(B.idbdb.version/10)===Ne._cfg.version?(B.idbdb.deleteObjectStore("$meta"),delete B._dbSchema.$meta,B._storeNames=B._storeNames.filter(function(Ae){return Ae!=="$meta"})):De.objectStore("$meta").put(Ne._cfg.version,"version"))})}),function Ne(){return be.length?dt.resolve(be.shift()(ne.idbtrans)).then(Ne):dt.resolve()}().then(function(){na(ce,ue)})):dt.resolve();var B,re,ne,ue,be,ce}).catch(G)):(c(I).forEach(function(H){Ql(j,H,I[H].primKey,I[H].indexes)}),qa(v,j),void dt.follow(function(){return v.on.populate.fire(U)}).catch(G));var pe,$})}function Zl(v,b){na(v._dbSchema,b),b.db.version%10!=0||b.objectStoreNames.contains("$meta")||b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var j=Ya(0,v.idbdb,b);Ar(v,v._dbSchema,b);for(var P=0,I=$s(j,v._dbSchema).change;P<I.length;P++){var U=function(G){if(G.change.length||G.recreate)return console.warn("Unable to patch indexes of table ".concat(G.name," because it has changes on the type of index or primary key.")),{value:void 0};var oe=b.objectStore(G.name);G.add.forEach(function(pe){Vt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(G.name,".").concat(pe.src)),_r(oe,pe)})}(I[P]);if(typeof U=="object")return U.value}}function $s(v,b){var j,P={del:[],add:[],change:[]};for(j in v)b[j]||P.del.push(j);for(j in b){var I=v[j],U=b[j];if(I){var G={name:j,def:U,recreate:!1,del:[],add:[],change:[]};if(""+(I.primKey.keyPath||"")!=""+(U.primKey.keyPath||"")||I.primKey.auto!==U.primKey.auto)G.recreate=!0,P.change.push(G);else{var oe=I.idxByName,pe=U.idxByName,$=void 0;for($ in oe)pe[$]||G.del.push($);for($ in pe){var H=oe[$],B=pe[$];H?H.src!==B.src&&G.change.push(B):G.add.push(B)}(0<G.del.length||0<G.add.length||0<G.change.length)&&P.change.push(G)}}else P.add.push([j,U])}return P}function Ql(v,b,j,P){var I=v.db.createObjectStore(b,j.keyPath?{keyPath:j.keyPath,autoIncrement:j.auto}:{autoIncrement:j.auto});return P.forEach(function(U){return _r(I,U)}),I}function na(v,b){c(v).forEach(function(j){b.db.objectStoreNames.contains(j)||(Vt&&console.debug("Dexie: Creating missing table",j),Ql(b,j,v[j].primKey,v[j].indexes))})}function _r(v,b){v.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function Ya(v,b,j){var P={};return D(b.objectStoreNames,0).forEach(function(I){for(var U=j.objectStore(I),G=cu(Yl($=U.keyPath),$||"",!0,!1,!!U.autoIncrement,$&&typeof $!="string",!0),oe=[],pe=0;pe<U.indexNames.length;++pe){var H=U.index(U.indexNames[pe]),$=H.keyPath,H=cu(H.name,$,!!H.unique,!!H.multiEntry,!1,$&&typeof $!="string",!1);oe.push(H)}P[I]=uu(I,G,oe)}),P}function Ar(v,b,j){for(var P=j.db.objectStoreNames,I=0;I<P.length;++I){var U=P[I],G=j.objectStore(U);v._hasGetAll="getAll"in G;for(var oe=0;oe<G.indexNames.length;++oe){var pe=G.indexNames[oe],$=G.index(pe).keyPath,H=typeof $=="string"?$:"["+D($).join("+")+"]";!b[U]||($=b[U].idxByName[H])&&($.name=pe,delete b[U].idxByName[H],b[U].idxByName[pe]=$)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(v._hasGetAll=!1)}function ki(v){return v.split(",").map(function(b,j){var P=(b=b.trim()).replace(/([&*]|\+\+)/g,""),I=/^\[/.test(P)?P.match(/^\[(.*)\]$/)[1].split("+"):P;return cu(P,I||null,/\&/.test(b),/\*/.test(b),/\+\+/.test(b),u(I),j===0)})}var du=(Xo.prototype._parseStoresSpec=function(v,b){c(v).forEach(function(j){if(v[j]!==null){var P=ki(v[j]),I=P.shift();if(I.unique=!0,I.multi)throw new Oe.Schema("Primary key cannot be multi-valued");P.forEach(function(U){if(U.auto)throw new Oe.Schema("Only primary key can be marked as autoIncrement (++)");if(!U.keyPath)throw new Oe.Schema("Index must have a name and cannot be an empty string")}),b[j]=uu(j,I,P)}})},Xo.prototype.stores=function(j){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?p(this._cfg.storesSource,j):j;var j=b._versions,P={},I={};return j.forEach(function(U){p(P,U._cfg.storesSource),I=U._cfg.dbschema={},U._parseStoresSpec(P,I)}),b._dbSchema=I,Ka(b,[b._allTables,b,b.Transaction.prototype]),ta(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],c(I),I),b._storeNames=c(I),this},Xo.prototype.upgrade=function(v){return this._cfg.contentUpgrade=Zt(this._cfg.contentUpgrade||ut,v),this},Xo);function Xo(){}function fu(v,b){var j=v._dbNamesDB;return j||(j=v._dbNamesDB=new bo(Hl,{addons:[],indexedDB:v,IDBKeyRange:b})).version(1).stores({dbnames:"name"}),j.table("dbnames")}function Rr(v){return v&&typeof v.databases=="function"}function Xl(v){return vi(function(){return ht.letThrough=!0,v()})}function Sr(v){return!("from"in v)}var vr=function(v,b){if(!this){var j=new vr;return v&&"d"in v&&p(j,v),j}p(this,arguments.length?{d:1,from:v,to:1<arguments.length?b:v}:{d:0})};function ra(v,b,j){var P=Ht(b,j);if(!isNaN(P)){if(0<P)throw RangeError();if(Sr(v))return p(v,{from:b,to:j,d:1});var I=v.l,P=v.r;if(Ht(j,v.from)<0)return I?ra(I,b,j):v.l={from:b,to:j,d:1,l:null,r:null},In(v);if(0<Ht(b,v.to))return P?ra(P,b,j):v.r={from:b,to:j,d:1,l:null,r:null},In(v);Ht(b,v.from)<0&&(v.from=b,v.l=null,v.d=P?P.d+1:1),0<Ht(j,v.to)&&(v.to=j,v.r=null,v.d=v.l?v.l.d+1:1),j=!v.r,I&&!v.l&&Bs(v,I),P&&j&&Bs(v,P)}}function Bs(v,b){Sr(b)||function j(P,pe){var U=pe.from,G=pe.to,oe=pe.l,pe=pe.r;ra(P,U,G),oe&&j(P,oe),pe&&j(P,pe)}(v,b)}function Jl(v,b){var j=Ga(b),P=j.next();if(P.done)return!1;for(var I=P.value,U=Ga(v),G=U.next(I.from),oe=G.value;!P.done&&!G.done;){if(Ht(oe.from,I.to)<=0&&0<=Ht(oe.to,I.from))return!0;Ht(I.from,oe.from)<0?I=(P=j.next(oe.from)).value:oe=(G=U.next(I.from)).value}return!1}function Ga(v){var b=Sr(v)?null:{s:0,n:v};return{next:function(j){for(var P=0<arguments.length;b;)switch(b.s){case 0:if(b.s=1,P)for(;b.n.l&&Ht(j,b.n.from)<0;)b={up:b,n:b.n.l,s:1};else for(;b.n.l;)b={up:b,n:b.n.l,s:1};case 1:if(b.s=2,!P||Ht(j,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3,b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function In(v){var b,j,P=(((b=v.r)===null||b===void 0?void 0:b.d)||0)-(((j=v.l)===null||j===void 0?void 0:j.d)||0),I=1<P?"r":P<-1?"l":"";I&&(b=I=="r"?"l":"r",j=r({},v),P=v[I],v.from=P.from,v.to=P.to,v[I]=P[I],j[I]=P[b],(v[b]=j).d=Jo(j)),v.d=Jo(v)}function Jo(j){var b=j.r,j=j.l;return(b?j?Math.max(b.d,j.d):b.d:j?j.d:0)+1}function Za(v,b){return c(b).forEach(function(j){v[j]?Bs(v[j],b[j]):v[j]=function P(I){var U,G,oe={};for(U in I)g(I,U)&&(G=I[U],oe[U]=!G||typeof G!="object"||Te.has(G.constructor)?G:P(G));return oe}(b[j])}),v}function Ud(v,b){return v.all||b.all||Object.keys(v).some(function(j){return b[j]&&Jl(b[j],v[j])})}S(vr.prototype,((Us={add:function(v){return Bs(this,v),this},addKey:function(v){return ra(this,v,v),this},addKeys:function(v){var b=this;return v.forEach(function(j){return ra(b,j,j)}),this},hasKey:function(v){var b=Ga(this).next(v).value;return b&&Ht(b.from,v)<=0&&0<=Ht(b.to,v)}})[me]=function(){return Ga(this)},Us));var ei={},zd={},hu=!1;function pu(v){Za(zd,v),hu||(hu=!0,setTimeout(function(){hu=!1,mu(zd,!(zd={}))},0))}function mu(v,b){b===void 0&&(b=!1);var j=new Set;if(v.all)for(var P=0,I=Object.values(ei);P<I.length;P++)ec(G=I[P],v,j,b);else for(var U in v){var G,oe=/^idb\:\/\/(.*)\/(.*)\//.exec(U);oe&&(U=oe[1],oe=oe[2],(G=ei["idb://".concat(U,"/").concat(oe)])&&ec(G,v,j,b))}j.forEach(function(pe){return pe()})}function ec(v,b,j,P){for(var I=[],U=0,G=Object.entries(v.queries.query);U<G.length;U++){for(var oe=G[U],pe=oe[0],$=[],H=0,B=oe[1];H<B.length;H++){var re=B[H];Ud(b,re.obsSet)?re.subscribers.forEach(function(ce){return j.add(ce)}):P&&$.push(re)}P&&I.push([pe,$])}if(P)for(var ne=0,ue=I;ne<ue.length;ne++){var be=ue[ne],pe=be[0],$=be[1];v.queries.query[pe]=$}}function Qa(v){var b=v._state,j=v._deps.indexedDB;if(b.isBeingOpened||v.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?qn(b.dbOpenError):v});b.isBeingOpened=!0,b.dbOpenError=null,b.openComplete=!1;var P=b.openCanceller,I=Math.round(10*v.verno),U=!1;function G(){if(b.openCanceller!==P)throw new Oe.DatabaseClosed("db.open() was cancelled")}function oe(){return new dt(function(re,ne){if(G(),!j)throw new Oe.MissingAPI;var ue=v.name,be=b.autoSchema||!I?j.open(ue):j.open(ue,I);if(!be)throw new Oe.MissingAPI;be.onerror=Zr(ne),be.onblocked=tn(v._fireOnBlocked),be.onupgradeneeded=tn(function(ce){var Ne;H=be.transaction,b.autoSchema&&!v._options.allowEmptyDB?(be.onerror=Zo,H.abort(),be.result.close(),(Ne=j.deleteDatabase(ue)).onsuccess=Ne.onerror=tn(function(){ne(new Oe.NoSuchDatabase("Database ".concat(ue," doesnt exist")))})):(H.onerror=Zr(ne),ce=ce.oldVersion>Math.pow(2,62)?0:ce.oldVersion,B=ce<1,v.idbdb=be.result,U&&Zl(v,H),Kn(v,ce/10,H,ne))},ne),be.onsuccess=tn(function(){H=null;var ce,Ne,De,Ae,$e,nt=v.idbdb=be.result,st=D(nt.objectStoreNames);if(0<st.length)try{var et=nt.transaction((Ae=st).length===1?Ae[0]:Ae,"readonly");if(b.autoSchema)Ne=nt,De=et,(ce=v).verno=Ne.version/10,De=ce._dbSchema=Ya(0,Ne,De),ce._storeNames=D(Ne.objectStoreNames,0),ta(ce,[ce._allTables],c(De),De);else if(Ar(v,v._dbSchema,et),(($e=$s(Ya(0,($e=v).idbdb,et),$e._dbSchema)).add.length||$e.change.some(function(ot){return ot.add.length||ot.change.length}))&&!U)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),nt.close(),I=nt.version+1,U=!0,re(oe());qa(v,et)}catch{}wi.push(v),nt.onversionchange=tn(function(ot){b.vcFired=!0,v.on("versionchange").fire(ot)}),nt.onclose=tn(function(ot){v.on("close").fire(ot)}),B&&($e=v._deps,et=ue,nt=$e.indexedDB,$e=$e.IDBKeyRange,Rr(nt)||et===Hl||fu(nt,$e).put({name:et}).catch(ut)),re()},ne)}).catch(function(re){switch(re==null?void 0:re.name){case"UnknownError":if(0<b.PR1398_maxLoop)return b.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),oe();break;case"VersionError":if(0<I)return I=0,oe()}return dt.reject(re)})}var pe,$=b.dbReadyResolve,H=null,B=!1;return dt.race([P,(typeof navigator>"u"?dt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(re){function ne(){return indexedDB.databases().finally(re)}pe=setInterval(ne,100),ne()}).finally(function(){return clearInterval(pe)}):Promise.resolve()).then(oe)]).then(function(){return G(),b.onReadyBeingFired=[],dt.resolve(Xl(function(){return v.on.ready.fire(v.vip)})).then(function re(){if(0<b.onReadyBeingFired.length){var ne=b.onReadyBeingFired.reduce(Zt,ut);return b.onReadyBeingFired=[],dt.resolve(Xl(function(){return ne(v.vip)})).then(re)}})}).finally(function(){b.openCanceller===P&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)}).catch(function(re){b.dbOpenError=re;try{H&&H.abort()}catch{}return P===b.openCanceller&&v._close(),qn(re)}).finally(function(){b.openComplete=!0,$()}).then(function(){var re;return B&&(re={},v.tables.forEach(function(ne){ne.schema.indexes.forEach(function(ue){ue.name&&(re["idb://".concat(v.name,"/").concat(ne.name,"/").concat(ue.name)]=new vr(-1/0,[[[]]]))}),re["idb://".concat(v.name,"/").concat(ne.name,"/")]=re["idb://".concat(v.name,"/").concat(ne.name,"/:dels")]=new vr(-1/0,[[[]]])}),Qo(Fs).fire(re),mu(re,!0)),v})}function tc(v){function b(U){return v.next(U)}var j=I(b),P=I(function(U){return v.throw(U)});function I(U){return function(pe){var oe=U(pe),pe=oe.value;return oe.done?pe:pe&&typeof pe.then=="function"?pe.then(j,P):u(pe)?Promise.all(pe).then(j,P):j(pe)}}return I(b)()}function nc(v,b,j){for(var P=u(v)?v.slice():[v],I=0;I<j;++I)P.push(b);return P}var _h={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(v){return r(r({},v),{table:function(b){var j=v.table(b),P=j.schema,I={},U=[];function G(B,re,ne){var ue=Ei(B),be=I[ue]=I[ue]||[],ce=B==null?0:typeof B=="string"?1:B.length,Ne=0<re,Ne=r(r({},ne),{name:Ne?"".concat(ue,"(virtual-from:").concat(ne.name,")"):ne.name,lowLevelIndex:ne,isVirtual:Ne,keyTail:re,keyLength:ce,extractKey:Sn(B),unique:!Ne&&ne.unique});return be.push(Ne),Ne.isPrimaryKey||U.push(Ne),1<ce&&G(ce===2?B[0]:B.slice(0,ce-1),re+1,ne),be.sort(function(De,Ae){return De.keyTail-Ae.keyTail}),Ne}b=G(P.primaryKey.keyPath,0,P.primaryKey),I[":id"]=[b];for(var oe=0,pe=P.indexes;oe<pe.length;oe++){var $=pe[oe];G($.keyPath,0,$)}function H(B){var re,ne=B.query.index;return ne.isVirtual?r(r({},B),{query:{index:ne.lowLevelIndex,range:(re=B.query.range,ne=ne.keyTail,{type:re.type===1?2:re.type,lower:nc(re.lower,re.lowerOpen?v.MAX_KEY:v.MIN_KEY,ne),lowerOpen:!0,upper:nc(re.upper,re.upperOpen?v.MIN_KEY:v.MAX_KEY,ne),upperOpen:!0})}}):B}return r(r({},j),{schema:r(r({},P),{primaryKey:b,indexes:U,getIndexByKeyPath:function(B){return(B=I[Ei(B)])&&B[0]}}),count:function(B){return j.count(H(B))},query:function(B){return j.query(H(B))},openCursor:function(B){var re=B.query.index,ne=re.keyTail,ue=re.isVirtual,be=re.keyLength;return ue?j.openCursor(H(B)).then(function(Ne){return Ne&&ce(Ne)}):j.openCursor(B);function ce(Ne){return Object.create(Ne,{continue:{value:function(De){De!=null?Ne.continue(nc(De,B.reverse?v.MAX_KEY:v.MIN_KEY,ne)):B.unique?Ne.continue(Ne.key.slice(0,be).concat(B.reverse?v.MIN_KEY:v.MAX_KEY,ne)):Ne.continue()}},continuePrimaryKey:{value:function(De,Ae){Ne.continuePrimaryKey(nc(De,v.MAX_KEY,ne),Ae)}},primaryKey:{get:function(){return Ne.primaryKey}},key:{get:function(){var De=Ne.key;return be===1?De[0]:De.slice(0,be)}},value:{get:function(){return Ne.value}}})}}})}})}};function rc(v,b,j,P){return j=j||{},P=P||"",c(v).forEach(function(I){var U,G,oe;g(b,I)?(U=v[I],G=b[I],typeof U=="object"&&typeof G=="object"&&U&&G?(oe=ge(U))!==ge(G)?j[P+I]=b[I]:oe==="Object"?rc(U,G,j,P+I+"."):U!==G&&(j[P+I]=b[I]):U!==G&&(j[P+I]=b[I])):j[P+I]=void 0}),c(b).forEach(function(I){g(v,I)||(j[P+I]=b[I])}),j}function Xa(v,b){return b.type==="delete"?b.keys:b.keys||b.values.map(v.extractKey)}var Sh={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(v){return r(r({},v),{table:function(b){var j=v.table(b),P=j.schema.primaryKey;return r(r({},j),{mutate:function(I){var U=ht.trans,G=U.table(b).hook,oe=G.deleting,pe=G.creating,$=G.updating;switch(I.type){case"add":if(pe.fire===ut)break;return U._promise("readwrite",function(){return H(I)},!0);case"put":if(pe.fire===ut&&$.fire===ut)break;return U._promise("readwrite",function(){return H(I)},!0);case"delete":if(oe.fire===ut)break;return U._promise("readwrite",function(){return H(I)},!0);case"deleteRange":if(oe.fire===ut)break;return U._promise("readwrite",function(){return function B(re,ne,ue){return j.query({trans:re,values:!1,query:{index:P,range:ne},limit:ue}).then(function(be){var ce=be.result;return H({type:"delete",keys:ce,trans:re}).then(function(Ne){return 0<Ne.numFailures?Promise.reject(Ne.failures[0]):ce.length<ue?{failures:[],numFailures:0,lastResult:void 0}:B(re,r(r({},ne),{lower:ce[ce.length-1],lowerOpen:!0}),ue)})})}(I.trans,I.range,1e4)},!0)}return j.mutate(I);function H(B){var re,ne,ue,be=ht.trans,ce=B.keys||Xa(P,B);if(!ce)throw new Error("Keys missing");return(B=B.type==="add"||B.type==="put"?r(r({},B),{keys:ce}):r({},B)).type!=="delete"&&(B.values=s([],B.values)),B.keys&&(B.keys=s([],B.keys)),re=j,ue=ce,((ne=B).type==="add"?Promise.resolve([]):re.getMany({trans:ne.trans,keys:ue,cache:"immutable"})).then(function(Ne){var De=ce.map(function(Ae,$e){var nt,st,et,ot=Ne[$e],Ke={onerror:null,onsuccess:null};return B.type==="delete"?oe.fire.call(Ke,Ae,ot,be):B.type==="add"||ot===void 0?(nt=pe.fire.call(Ke,Ae,B.values[$e],be),Ae==null&&nt!=null&&(B.keys[$e]=Ae=nt,P.outbound||Z(B.values[$e],P.keyPath,Ae))):(nt=rc(ot,B.values[$e]),(st=$.fire.call(Ke,nt,Ae,ot,be))&&(et=B.values[$e],Object.keys(st).forEach(function(lt){g(et,lt)?et[lt]=st[lt]:Z(et,lt,st[lt])}))),Ke});return j.mutate(B).then(function(Ae){for(var $e=Ae.failures,nt=Ae.results,st=Ae.numFailures,Ae=Ae.lastResult,et=0;et<ce.length;++et){var ot=(nt||ce)[et],Ke=De[et];ot==null?Ke.onerror&&Ke.onerror($e[et]):Ke.onsuccess&&Ke.onsuccess(B.type==="put"&&Ne[et]?B.values[et]:ot)}return{failures:$e,results:nt,numFailures:st,lastResult:Ae}}).catch(function(Ae){return De.forEach(function($e){return $e.onerror&&$e.onerror(Ae)}),Promise.reject(Ae)})})}}})}})}};function Eh(v,b,j){try{if(!b||b.keys.length<v.length)return null;for(var P=[],I=0,U=0;I<b.keys.length&&U<v.length;++I)Ht(b.keys[I],v[U])===0&&(P.push(j?_e(b.values[I]):b.values[I]),++U);return P.length===v.length?P:null}catch{return null}}var Wd={stack:"dbcore",level:-1,create:function(v){return{table:function(b){var j=v.table(b);return r(r({},j),{getMany:function(P){if(!P.cache)return j.getMany(P);var I=Eh(P.keys,P.trans._cache,P.cache==="clone");return I?dt.resolve(I):j.getMany(P).then(function(U){return P.trans._cache={keys:P.keys,values:P.cache==="clone"?_e(U):U},U})},mutate:function(P){return P.type!=="add"&&(P.trans._cache=null),j.mutate(P)}})}}}};function gu(v,b){return v.trans.mode==="readonly"&&!!v.subscr&&!v.trans.explicit&&v.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function kh(v,b){switch(v){case"query":return b.values&&!b.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Ch={stack:"dbcore",level:0,name:"Observability",create:function(v){var b=v.schema.name,j=new vr(v.MIN_KEY,v.MAX_KEY);return r(r({},v),{transaction:function(P,I,U){if(ht.subscr&&I!=="readonly")throw new Oe.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ht.querier));return v.transaction(P,I,U)},table:function(P){var I=v.table(P),U=I.schema,G=U.primaryKey,B=U.indexes,oe=G.extractKey,pe=G.outbound,$=G.autoIncrement&&B.filter(function(ne){return ne.compound&&ne.keyPath.includes(G.keyPath)}),H=r(r({},I),{mutate:function(ne){function ue(lt){return lt="idb://".concat(b,"/").concat(P,"/").concat(lt),Ae[lt]||(Ae[lt]=new vr)}var be,ce,Ne,De=ne.trans,Ae=ne.mutatedParts||(ne.mutatedParts={}),$e=ue(""),nt=ue(":dels"),st=ne.type,Ke=ne.type==="deleteRange"?[ne.range]:ne.type==="delete"?[ne.keys]:ne.values.length<50?[Xa(G,ne).filter(function(lt){return lt}),ne.values]:[],et=Ke[0],ot=Ke[1],Ke=ne.trans._cache;return u(et)?($e.addKeys(et),(Ke=st==="delete"||et.length===ot.length?Eh(et,Ke):null)||nt.addKeys(et),(Ke||ot)&&(be=ue,ce=Ke,Ne=ot,U.indexes.forEach(function(lt){var vt=be(lt.name||"");function Bt(sn){return sn!=null?lt.extractKey(sn):null}function en(sn){return lt.multiEntry&&u(sn)?sn.forEach(function(ls){return vt.addKey(ls)}):vt.addKey(sn)}(ce||Ne).forEach(function(sn,Yn){var $t=ce&&Bt(ce[Yn]),Yn=Ne&&Bt(Ne[Yn]);Ht($t,Yn)!==0&&($t!=null&&en($t),Yn!=null&&en(Yn))})}))):et?(ot={from:(ot=et.lower)!==null&&ot!==void 0?ot:v.MIN_KEY,to:(ot=et.upper)!==null&&ot!==void 0?ot:v.MAX_KEY},nt.add(ot),$e.add(ot)):($e.add(j),nt.add(j),U.indexes.forEach(function(lt){return ue(lt.name).add(j)})),I.mutate(ne).then(function(lt){return!et||ne.type!=="add"&&ne.type!=="put"||($e.addKeys(lt.results),$&&$.forEach(function(vt){for(var Bt=ne.values.map(function($t){return vt.extractKey($t)}),en=vt.keyPath.findIndex(function($t){return $t===G.keyPath}),sn=0,ls=lt.results.length;sn<ls;++sn)Bt[sn][en]=lt.results[sn];ue(vt.name).addKeys(Bt)})),De.mutatedParts=Za(De.mutatedParts||{},Ae),lt})}}),B=function(ue){var be=ue.query,ue=be.index,be=be.range;return[ue,new vr((ue=be.lower)!==null&&ue!==void 0?ue:v.MIN_KEY,(be=be.upper)!==null&&be!==void 0?be:v.MAX_KEY)]},re={get:function(ne){return[G,new vr(ne.key)]},getMany:function(ne){return[G,new vr().addKeys(ne.keys)]},count:B,query:B,openCursor:B};return c(re).forEach(function(ne){H[ne]=function(ue){var be=ht.subscr,ce=!!be,Ne=gu(ht,I)&&kh(ne,ue)?ue.obsSet={}:be;if(ce){var De=function(ot){return ot="idb://".concat(b,"/").concat(P,"/").concat(ot),Ne[ot]||(Ne[ot]=new vr)},Ae=De(""),$e=De(":dels"),be=re[ne](ue),ce=be[0],be=be[1];if((ne==="query"&&ce.isPrimaryKey&&!ue.values?$e:De(ce.name||"")).add(be),!ce.isPrimaryKey){if(ne!=="count"){var nt=ne==="query"&&pe&&ue.values&&I.query(r(r({},ue),{values:!1}));return I[ne].apply(this,arguments).then(function(ot){if(ne==="query"){if(pe&&ue.values)return nt.then(function(Bt){return Bt=Bt.result,Ae.addKeys(Bt),ot});var Ke=ue.values?ot.result.map(oe):ot.result;(ue.values?Ae:$e).addKeys(Ke)}else if(ne==="openCursor"){var lt=ot,vt=ue.values;return lt&&Object.create(lt,{key:{get:function(){return $e.addKey(lt.primaryKey),lt.key}},primaryKey:{get:function(){var Bt=lt.primaryKey;return $e.addKey(Bt),Bt}},value:{get:function(){return vt&&Ae.addKey(lt.primaryKey),lt.value}}})}return ot})}$e.add(j)}}return I[ne].apply(this,arguments)}}),H}})}};function as(v,b,j){if(j.numFailures===0)return b;if(b.type==="deleteRange")return null;var P=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;return j.numFailures===P?null:(b=r({},b),u(b.keys)&&(b.keys=b.keys.filter(function(I,U){return!(U in j.failures)})),"values"in b&&u(b.values)&&(b.values=b.values.filter(function(I,U){return!(U in j.failures)})),b)}function sa(v,b){return j=v,((P=b).lower===void 0||(P.lowerOpen?0<Ht(j,P.lower):0<=Ht(j,P.lower)))&&(v=v,(b=b).upper===void 0||(b.upperOpen?Ht(v,b.upper)<0:Ht(v,b.upper)<=0));var j,P}function wo(v,b,re,P,I,U){if(!re||re.length===0)return v;var G=b.query.index,oe=G.multiEntry,pe=b.query.range,$=P.schema.primaryKey.extractKey,H=G.extractKey,B=(G.lowLevelIndex||G).extractKey,re=re.reduce(function(ne,ue){var be=ne,ce=[];if(ue.type==="add"||ue.type==="put")for(var Ne=new vr,De=ue.values.length-1;0<=De;--De){var Ae,$e=ue.values[De],nt=$($e);Ne.hasKey(nt)||(Ae=H($e),(oe&&u(Ae)?Ae.some(function(lt){return sa(lt,pe)}):sa(Ae,pe))&&(Ne.addKey(nt),ce.push($e)))}switch(ue.type){case"add":var st=new vr().addKeys(b.values?ne.map(function(vt){return $(vt)}):ne),be=ne.concat(b.values?ce.filter(function(vt){return vt=$(vt),!st.hasKey(vt)&&(st.addKey(vt),!0)}):ce.map(function(vt){return $(vt)}).filter(function(vt){return!st.hasKey(vt)&&(st.addKey(vt),!0)}));break;case"put":var et=new vr().addKeys(ue.values.map(function(vt){return $(vt)}));be=ne.filter(function(vt){return!et.hasKey(b.values?$(vt):vt)}).concat(b.values?ce:ce.map(function(vt){return $(vt)}));break;case"delete":var ot=new vr().addKeys(ue.keys);be=ne.filter(function(vt){return!ot.hasKey(b.values?$(vt):vt)});break;case"deleteRange":var Ke=ue.range;be=ne.filter(function(vt){return!sa($(vt),Ke)})}return be},v);return re===v?v:(re.sort(function(ne,ue){return Ht(B(ne),B(ue))||Ht($(ne),$(ue))}),b.limit&&b.limit<1/0&&(re.length>b.limit?re.length=b.limit:v.length===b.limit&&re.length<b.limit&&(I.dirty=!0)),U?Object.freeze(re):re)}function Vd(v,b){return Ht(v.lower,b.lower)===0&&Ht(v.upper,b.upper)===0&&!!v.lowerOpen==!!b.lowerOpen&&!!v.upperOpen==!!b.upperOpen}function Hd(v,b){return function(j,P,I,U){if(j===void 0)return P!==void 0?-1:0;if(P===void 0)return 1;if((P=Ht(j,P))===0){if(I&&U)return 0;if(I)return 1;if(U)return-1}return P}(v.lower,b.lower,v.lowerOpen,b.lowerOpen)<=0&&0<=function(j,P,I,U){if(j===void 0)return P!==void 0?1:0;if(P===void 0)return-1;if((P=Ht(j,P))===0){if(I&&U)return 0;if(I)return-1;if(U)return 1}return P}(v.upper,b.upper,v.upperOpen,b.upperOpen)}function Nh(v,b,j,P){v.subscribers.add(j),P.addEventListener("abort",function(){var I,U;v.subscribers.delete(j),v.subscribers.size===0&&(I=v,U=b,setTimeout(function(){I.subscribers.size===0&&Q(U,I)},3e3))})}var jh={stack:"dbcore",level:0,name:"Cache",create:function(v){var b=v.schema.name;return r(r({},v),{transaction:function(j,P,I){var U,G,oe=v.transaction(j,P,I);return P==="readwrite"&&(G=(U=new AbortController).signal,I=function(pe){return function(){if(U.abort(),P==="readwrite"){for(var $=new Set,H=0,B=j;H<B.length;H++){var re=B[H],ne=ei["idb://".concat(b,"/").concat(re)];if(ne){var ue=v.table(re),be=ne.optimisticOps.filter(function(vt){return vt.trans===oe});if(oe._explicit&&pe&&oe.mutatedParts)for(var ce=0,Ne=Object.values(ne.queries.query);ce<Ne.length;ce++)for(var De=0,Ae=(st=Ne[ce]).slice();De<Ae.length;De++)Ud((et=Ae[De]).obsSet,oe.mutatedParts)&&(Q(st,et),et.subscribers.forEach(function(vt){return $.add(vt)}));else if(0<be.length){ne.optimisticOps=ne.optimisticOps.filter(function(vt){return vt.trans!==oe});for(var $e=0,nt=Object.values(ne.queries.query);$e<nt.length;$e++)for(var st,et,ot,Ke=0,lt=(st=nt[$e]).slice();Ke<lt.length;Ke++)(et=lt[Ke]).res!=null&&oe.mutatedParts&&(pe&&!et.dirty?(ot=Object.isFrozen(et.res),ot=wo(et.res,et.req,be,ue,et,ot),et.dirty?(Q(st,et),et.subscribers.forEach(function(vt){return $.add(vt)})):ot!==et.res&&(et.res=ot,et.promise=dt.resolve({result:ot}))):(et.dirty&&Q(st,et),et.subscribers.forEach(function(vt){return $.add(vt)})))}}}$.forEach(function(vt){return vt()})}}},oe.addEventListener("abort",I(!1),{signal:G}),oe.addEventListener("error",I(!1),{signal:G}),oe.addEventListener("complete",I(!0),{signal:G})),oe},table:function(j){var P=v.table(j),I=P.schema.primaryKey;return r(r({},P),{mutate:function(U){var G=ht.trans;if(I.outbound||G.db._options.cache==="disabled"||G.explicit||G.idbtrans.mode!=="readwrite")return P.mutate(U);var oe=ei["idb://".concat(b,"/").concat(j)];return oe?(G=P.mutate(U),U.type!=="add"&&U.type!=="put"||!(50<=U.values.length||Xa(I,U).some(function(pe){return pe==null}))?(oe.optimisticOps.push(U),U.mutatedParts&&pu(U.mutatedParts),G.then(function(pe){0<pe.numFailures&&(Q(oe.optimisticOps,U),(pe=as(0,U,pe))&&oe.optimisticOps.push(pe),U.mutatedParts&&pu(U.mutatedParts))}),G.catch(function(){Q(oe.optimisticOps,U),U.mutatedParts&&pu(U.mutatedParts)})):G.then(function(pe){var $=as(0,r(r({},U),{values:U.values.map(function(H,B){var re;return pe.failures[B]?H:(H=(re=I.keyPath)!==null&&re!==void 0&&re.includes(".")?_e(H):r({},H),Z(H,I.keyPath,pe.results[B]),H)})}),pe);oe.optimisticOps.push($),queueMicrotask(function(){return U.mutatedParts&&pu(U.mutatedParts)})}),G):P.mutate(U)},query:function(U){if(!gu(ht,P)||!kh("query",U))return P.query(U);var G=(($=ht.trans)===null||$===void 0?void 0:$.db._options.cache)==="immutable",B=ht,oe=B.requery,pe=B.signal,$=function(ue,be,ce,Ne){var De=ei["idb://".concat(ue,"/").concat(be)];if(!De)return[];if(!(be=De.queries[ce]))return[null,!1,De,null];var Ae=be[(Ne.query?Ne.query.index.name:null)||""];if(!Ae)return[null,!1,De,null];switch(ce){case"query":var $e=Ae.find(function(nt){return nt.req.limit===Ne.limit&&nt.req.values===Ne.values&&Vd(nt.req.query.range,Ne.query.range)});return $e?[$e,!0,De,Ae]:[Ae.find(function(nt){return("limit"in nt.req?nt.req.limit:1/0)>=Ne.limit&&(!Ne.values||nt.req.values)&&Hd(nt.req.query.range,Ne.query.range)}),!1,De,Ae];case"count":return $e=Ae.find(function(nt){return Vd(nt.req.query.range,Ne.query.range)}),[$e,!!$e,De,Ae]}}(b,j,"query",U),H=$[0],B=$[1],re=$[2],ne=$[3];return H&&B?H.obsSet=U.obsSet:(B=P.query(U).then(function(ue){var be=ue.result;if(H&&(H.res=be),G){for(var ce=0,Ne=be.length;ce<Ne;++ce)Object.freeze(be[ce]);Object.freeze(be)}else ue.result=_e(be);return ue}).catch(function(ue){return ne&&H&&Q(ne,H),Promise.reject(ue)}),H={obsSet:U.obsSet,promise:B,subscribers:new Set,type:"query",req:U,dirty:!1},ne?ne.push(H):(ne=[H],(re=re||(ei["idb://".concat(b,"/").concat(j)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[U.query.index.name||""]=ne)),Nh(H,ne,oe,pe),H.promise.then(function(ue){return{result:wo(ue.result,U,re==null?void 0:re.optimisticOps,P,H,G)}})}})}})}};function sc(v,b){return new Proxy(v,{get:function(j,P,I){return P==="db"?b:Reflect.get(j,P,I)}})}var bo=(Fn.prototype.version=function(v){if(isNaN(v)||v<.1)throw new Oe.Type("Given version is not a positive number");if(v=Math.round(10*v)/10,this.idbdb||this._state.isBeingOpened)throw new Oe.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,v);var b=this._versions,j=b.filter(function(P){return P._cfg.version===v})[0];return j||(j=new this.Version(v),b.push(j),b.sort(bh),j.stores({}),this._state.autoSchema=!1,j)},Fn.prototype._whenReady=function(v){var b=this;return this.idbdb&&(this._state.openComplete||ht.letThrough||this._vip)?v():new dt(function(j,P){if(b._state.openComplete)return P(new Oe.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return void P(new Oe.DatabaseClosed);b.open().catch(ut)}b._state.dbReadyPromise.then(j,P)}).then(v)},Fn.prototype.use=function(v){var b=v.stack,j=v.create,P=v.level,I=v.name;return I&&this.unuse({stack:b,name:I}),v=this._middlewares[b]||(this._middlewares[b]=[]),v.push({stack:b,create:j,level:P??10,name:I}),v.sort(function(U,G){return U.level-G.level}),this},Fn.prototype.unuse=function(v){var b=v.stack,j=v.name,P=v.create;return b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(I){return P?I.create!==P:!!j&&I.name!==j})),this},Fn.prototype.open=function(){var v=this;return xi(Tr,function(){return Qa(v)})},Fn.prototype._close=function(){var v=this._state,b=wi.indexOf(this);if(0<=b&&wi.splice(b,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}v.isBeingOpened||(v.dbReadyPromise=new dt(function(j){v.dbReadyResolve=j}),v.openCanceller=new dt(function(j,P){v.cancelOpen=P}))},Fn.prototype.close=function(j){var b=(j===void 0?{disableAutoOpen:!0}:j).disableAutoOpen,j=this._state;b?(j.isBeingOpened&&j.cancelOpen(new Oe.DatabaseClosed),this._close(),j.autoOpen=!1,j.dbOpenError=new Oe.DatabaseClosed):(this._close(),j.autoOpen=this._options.autoOpen||j.isBeingOpened,j.openComplete=!1,j.dbOpenError=null)},Fn.prototype.delete=function(v){var b=this;v===void 0&&(v={disableAutoOpen:!0});var j=0<arguments.length&&typeof arguments[0]!="object",P=this._state;return new dt(function(I,U){function G(){b.close(v);var oe=b._deps.indexedDB.deleteDatabase(b.name);oe.onsuccess=tn(function(){var pe,$,H;pe=b._deps,$=b.name,H=pe.indexedDB,pe=pe.IDBKeyRange,Rr(H)||$===Hl||fu(H,pe).delete($).catch(ut),I()}),oe.onerror=Zr(U),oe.onblocked=b._fireOnBlocked}if(j)throw new Oe.InvalidArgument("Invalid closeOptions argument to db.delete()");P.isBeingOpened?P.dbReadyPromise.then(G):G()})},Fn.prototype.backendDB=function(){return this.idbdb},Fn.prototype.isOpen=function(){return this.idbdb!==null},Fn.prototype.hasBeenClosed=function(){var v=this._state.dbOpenError;return v&&v.name==="DatabaseClosed"},Fn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Fn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Fn.prototype,"tables",{get:function(){var v=this;return c(this._allTables).map(function(b){return v._allTables[b]})},enumerable:!1,configurable:!0}),Fn.prototype.transaction=function(){var v=(function(b,j,P){var I=arguments.length;if(I<2)throw new Oe.InvalidArgument("Too few arguments");for(var U=new Array(I-1);--I;)U[I-1]=arguments[I];return P=U.pop(),[b,ye(U),P]}).apply(this,arguments);return this._transaction.apply(this,v)},Fn.prototype._transaction=function(v,b,j){var P=this,I=ht.trans;I&&I.db===this&&v.indexOf("!")===-1||(I=null);var U,G,oe=v.indexOf("?")!==-1;v=v.replace("!","").replace("?","");try{if(G=b.map(function($){if($=$ instanceof P.Table?$.name:$,typeof $!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return $}),v=="r"||v===Qi)U=Qi;else{if(v!="rw"&&v!=ou)throw new Oe.InvalidArgument("Invalid transaction mode: "+v);U=ou}if(I){if(I.mode===Qi&&U===ou){if(!oe)throw new Oe.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");I=null}I&&G.forEach(function($){if(I&&I.storeNames.indexOf($)===-1){if(!oe)throw new Oe.SubTransaction("Table "+$+" not included in parent transaction.");I=null}}),oe&&I&&!I.active&&(I=null)}}catch($){return I?I._promise(null,function(H,B){B($)}):qn($)}var pe=(function $(H,B,re,ne,ue){return dt.resolve().then(function(){var be=ht.transless||ht,ce=H._createTransaction(B,re,H._dbSchema,ne);if(ce.explicit=!0,be={trans:ce,transless:be},ne)ce.idbtrans=ne.idbtrans;else try{ce.create(),ce.idbtrans._explicit=!0,H._state.PR1398_maxLoop=3}catch(Ae){return Ae.name===Me.InvalidState&&H.isOpen()&&0<--H._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),H.close({disableAutoOpen:!1}),H.open().then(function(){return $(H,B,re,null,ue)})):qn(Ae)}var Ne,De=K(ue);return De&&Ba(),be=dt.follow(function(){var Ae;(Ne=ue.call(ce,ce))&&(De?(Ae=is.bind(null,null),Ne.then(Ae,Ae)):typeof Ne.next=="function"&&typeof Ne.throw=="function"&&(Ne=tc(Ne)))},be),(Ne&&typeof Ne.then=="function"?dt.resolve(Ne).then(function(Ae){return ce.active?Ae:qn(new Oe.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):be.then(function(){return Ne})).then(function(Ae){return ne&&ce._resolve(),ce._completion.then(function(){return Ae})}).catch(function(Ae){return ce._reject(Ae),qn(Ae)})})}).bind(null,this,U,G,I,j);return I?I._promise(U,pe,"lock"):ht.trans?xi(ht.transless,function(){return P._whenReady(pe)}):this._whenReady(pe)},Fn.prototype.table=function(v){if(!g(this._allTables,v))throw new Oe.InvalidTable("Table ".concat(v," does not exist"));return this._allTables[v]},Fn);function Fn(v,b){var j=this;this._middlewares={},this.verno=0;var P=Fn.dependencies;this._options=b=r({addons:Fn.addons,autoOpen:!0,indexedDB:P.indexedDB,IDBKeyRange:P.IDBKeyRange,cache:"cloned"},b),this._deps={indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange},P=b.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var I,U,G,oe,pe,$={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ut,dbReadyPromise:null,cancelOpen:ut,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:b.autoOpen};$.dbReadyPromise=new dt(function(B){$.dbReadyResolve=B}),$.openCanceller=new dt(function(B,re){$.cancelOpen=re}),this._state=$,this.name=v,this.on=bi(this,"populate","blocked","versionchange","close",{ready:[Zt,ut]}),this.on.ready.subscribe=M(this.on.ready.subscribe,function(B){return function(re,ne){Fn.vip(function(){var ue,be=j._state;be.openComplete?(be.dbOpenError||dt.resolve().then(re),ne&&B(re)):be.onReadyBeingFired?(be.onReadyBeingFired.push(re),ne&&B(re)):(B(re),ue=j,ne||B(function ce(){ue.on.ready.unsubscribe(re),ue.on.ready.unsubscribe(ce)}))})}}),this.Collection=(I=this,yo(_n.prototype,function(Ne,ce){this.db=I;var ne=ql,ue=null;if(ce)try{ne=ce()}catch(De){ue=De}var be=Ne._ctx,ce=be.table,Ne=ce.hook.reading.fire;this._ctx={table:ce,index:be.index,isPrimKey:!be.index||ce.schema.primKey.keyPath&&be.index===ce.schema.primKey.name,range:ne,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ue,or:be.or,valueMapper:Ne!==Gt?Ne:null}})),this.Table=(U=this,yo(Fd.prototype,function(B,re,ne){this.db=U,this._tx=ne,this.name=B,this.schema=re,this.hook=U._allTables[B]?U._allTables[B].hook:bi(null,{creating:[cr,ut],reading:[nn,Gt],updating:[Xe,ut],deleting:[zn,ut]})})),this.Transaction=(G=this,yo(ea.prototype,function(B,re,ne,ue,be){var ce=this;this.db=G,this.mode=B,this.storeNames=re,this.schema=ne,this.chromeTransactionDurability=ue,this.idbtrans=null,this.on=bi(this,"complete","error","abort"),this.parent=be||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new dt(function(Ne,De){ce._resolve=Ne,ce._reject=De}),this._completion.then(function(){ce.active=!1,ce.on.complete.fire()},function(Ne){var De=ce.active;return ce.active=!1,ce.on.error.fire(Ne),ce.parent?ce.parent._reject(Ne):De&&ce.idbtrans&&ce.idbtrans.abort(),qn(Ne)})})),this.Version=(oe=this,yo(du.prototype,function(B){this.db=oe,this._cfg={version:B,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(pe=this,yo(Go.prototype,function(B,re,ne){if(this.db=pe,this._ctx={table:B,index:re===":id"?null:re,or:ne},this._cmp=this._ascending=Ht,this._descending=function(ue,be){return Ht(be,ue)},this._max=function(ue,be){return 0<Ht(ue,be)?ue:be},this._min=function(ue,be){return Ht(ue,be)<0?ue:be},this._IDBKeyRange=pe._deps.IDBKeyRange,!this._IDBKeyRange)throw new Oe.MissingAPI})),this.on("versionchange",function(B){0<B.newVersion?console.warn("Another connection wants to upgrade database '".concat(j.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(j.name,"'. Closing db now to resume the delete request.")),j.close({disableAutoOpen:!1})}),this.on("blocked",function(B){!B.newVersion||B.newVersion<B.oldVersion?console.warn("Dexie.delete('".concat(j.name,"') was blocked")):console.warn("Upgrade '".concat(j.name,"' blocked by other connection holding version ").concat(B.oldVersion/10))}),this._maxKey=Gl(b.IDBKeyRange),this._createTransaction=function(B,re,ne,ue){return new j.Transaction(B,re,ne,j._options.chromeTransactionDurability,ue)},this._fireOnBlocked=function(B){j.on("blocked").fire(B),wi.filter(function(re){return re.name===j.name&&re!==j&&!re._state.vcFired}).map(function(re){return re.on("versionchange").fire(B)})},this.use(Wd),this.use(jh),this.use(Ch),this.use(_h),this.use(Sh);var H=new Proxy(this,{get:function(B,re,ne){if(re==="_vip")return!0;if(re==="table")return function(be){return sc(j.table(be),H)};var ue=Reflect.get(B,re,ne);return ue instanceof Fd?sc(ue,H):re==="tables"?ue.map(function(be){return sc(be,H)}):re==="_createTransaction"?function(){return sc(ue.apply(this,arguments),H)}:ue}});this.vip=H,P.forEach(function(B){return B(j)})}var ti,Us=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Zm=(Ja.prototype.subscribe=function(v,b,j){return this._subscribe(v&&typeof v!="function"?v:{next:v,error:b,complete:j})},Ja.prototype[Us]=function(){return this},Ja);function Ja(v){this._subscribe=v}try{ti={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{ti={indexedDB:null,IDBKeyRange:null}}function vu(v){var b,j=!1,P=new Zm(function(I){var U=K(v),G,oe=!1,pe={},$={},H={get closed(){return oe},unsubscribe:function(){oe||(oe=!0,G&&G.abort(),B&&Qo.storagemutated.unsubscribe(ne))}};I.start&&I.start(H);var B=!1,re=function(){return su(ue)},ne=function(be){Za(pe,be),Ud($,pe)&&re()},ue=function(){var be,ce,Ne;!oe&&ti.indexedDB&&(pe={},be={},G&&G.abort(),G=new AbortController,Ne=function(De){var Ae=ur();try{U&&Ba();var $e=vi(v,De);return $e=U?$e.finally(is):$e}finally{Ae&&gr()}}(ce={subscr:be,signal:G.signal,requery:re,querier:v,trans:null}),Promise.resolve(Ne).then(function(De){j=!0,b=De,oe||ce.signal.aborted||(pe={},function(Ae){for(var $e in Ae)if(g(Ae,$e))return;return 1}($=be)||B||(Qo(Fs,ne),B=!0),su(function(){return!oe&&I.next&&I.next(De)}))},function(De){j=!1,["DatabaseClosedError","AbortError"].includes(De==null?void 0:De.name)||oe||su(function(){oe||I.error&&I.error(De)})}))};return setTimeout(re,0),H});return P.hasValue=function(){return j},P.getValue=function(){return b},P}var Er=bo;function _o(v){var b=to;try{to=!0,Qo.storagemutated.fire(v),mu(v,!0)}finally{to=b}}S(Er,r(r({},At),{delete:function(v){return new Er(v,{addons:[]}).delete()},exists:function(v){return new Er(v,{addons:[]}).open().then(function(b){return b.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(v){try{return b=Er.dependencies,j=b.indexedDB,b=b.IDBKeyRange,(Rr(j)?Promise.resolve(j.databases()).then(function(P){return P.map(function(I){return I.name}).filter(function(I){return I!==Hl})}):fu(j,b).toCollection().primaryKeys()).then(v)}catch{return qn(new Oe.MissingAPI)}var b,j},defineClass:function(){return function(v){p(this,v)}},ignoreTransaction:function(v){return ht.trans?xi(ht.transless,v):v()},vip:Xl,async:function(v){return function(){try{var b=tc(v.apply(this,arguments));return b&&typeof b.then=="function"?b:dt.resolve(b)}catch(j){return qn(j)}}},spawn:function(v,b,j){try{var P=tc(v.apply(j,b||[]));return P&&typeof P.then=="function"?P:dt.resolve(P)}catch(I){return qn(I)}},currentTransaction:{get:function(){return ht.trans||null}},waitFor:function(v,b){return b=dt.resolve(typeof v=="function"?Er.ignoreTransaction(v):v).timeout(b||6e4),ht.trans?ht.trans.waitFor(b):b},Promise:dt,debug:{get:function(){return Vt},set:function(v){ie(v)}},derive:E,extend:p,props:S,override:M,Events:bi,on:Qo,liveQuery:vu,extendObservabilitySet:Za,getByKeyPath:Y,setByKeyPath:Z,delByKeyPath:function(v,b){typeof b=="string"?Z(v,b,void 0):"length"in b&&[].map.call(b,function(j){Z(v,j,void 0)})},shallowClone:ae,deepClone:_e,getObjectDiff:rc,cmp:Ht,asap:q,minKey:-1/0,addons:[],connections:wi,errnames:Me,dependencies:ti,cache:ei,semVer:"4.0.11",version:"4.0.11".split(".").map(function(v){return parseInt(v)}).reduce(function(v,b,j){return v+b/Math.pow(10,2*j)})})),Er.maxKey=Gl(Er.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Qo(Fs,function(v){to||(v=new CustomEvent(Bd,{detail:v}),to=!0,dispatchEvent(v),to=!1)}),addEventListener(Bd,function(v){v=v.detail,to||_o(v)}));var el,to=!1,Th=function(){};return typeof BroadcastChannel<"u"&&((Th=function(){(el=new BroadcastChannel(Bd)).onmessage=function(v){return v.data&&_o(v.data)}})(),typeof el.unref=="function"&&el.unref(),Qo(Fs,function(v){to||el.postMessage(v)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(v){if(!bo.disableBfCache&&v.persisted){Vt&&console.debug("Dexie: handling persisted pagehide"),el!=null&&el.close();for(var b=0,j=wi;b<j.length;b++)j[b].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(v){!bo.disableBfCache&&v.persisted&&(Vt&&console.debug("Dexie: handling persisted pageshow"),Th(),_o({all:new vr(-1/0,[[]])}))})),dt.rejectionMapper=function(v,b){return!v||v instanceof Pe||v instanceof TypeError||v instanceof SyntaxError||!v.name||!wt[v.name]?v:(b=new wt[v.name](b||v.message,v),"stack"in v&&T(b,"stack",{get:function(){return this.inner.stack}}),b)},ie(Vt),r(bo,Object.freeze({__proto__:null,Dexie:bo,liveQuery:vu,Entity:xh,cmp:Ht,PropModification:Wa,replacePrefix:function(v,b){return new Wa({replacePrefix:[v,b]})},add:function(v){return new Wa({add:v})},remove:function(v){return new Wa({remove:v})},default:bo,RangeSet:vr,mergeRanges:Bs,rangesOverlap:Jl}),{default:bo}),bo})}(L0)),L0.exports}var iK=oK();const h_=Tx(iK),RC=Symbol.for("Dexie"),fx=globalThis[RC]||(globalThis[RC]=h_);if(h_.semVer!==fx.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${h_.semVer} and ${fx.semVer}`);const{liveQuery:wX,mergeRanges:bX,rangesOverlap:_X,RangeSet:SX,cmp:EX,Entity:kX,PropModification:CX,replacePrefix:NX,add:jX,remove:TX}=fx;class aK extends fx{constructor(){super("EventDatabase");Qt(this,"events");Qt(this,"rsvps");this.version(1).stores({events:"id, pubkey, created_at, kind",rsvps:"id, pubkey, created_at, kind"})}}const PC=new aK;async function lK(e){e.kind===31925?await PC.rsvps.put(e):await PC.events.put(e)}function IP(){const{nostr:e}=Os();return xs({queryKey:["events"],queryFn:async t=>{console.log("Fetching events..."),console.log("Nostr instance:",e);const n=AbortSignal.any([t.signal,AbortSignal.timeout(3e3)]);try{const r=[{kinds:[31922,31923],limit:100},{kinds:[31925],limit:100}];console.log("Querying with filters:",JSON.stringify(r,null,2));const s=await e.query(r,{signal:n});if(console.log("Raw events from query:",s),!s||s.length===0)return console.log("No events returned from query"),[];const i=s;console.log("Typed events:",i.map(u=>({id:u.id,kind:u.kind,pubkey:u.pubkey,created_at:u.created_at,tags:u.tags})));const c=i.reduce((u,p)=>{var m;if(p.kind===31925)return u.push(p),u;if(p.kind===31922||p.kind===31923){const y=(m=p.tags.find(S=>S[0]==="d"))==null?void 0:m[1];if(!y)return u;const g=u.find(S=>{var T;return S.kind!==p.kind||S.pubkey!==p.pubkey?!1:((T=S.tags.find(E=>E[0]==="d"))==null?void 0:T[1])===y});if(!g)u.push(p);else if(p.created_at>g.created_at){const S=u.indexOf(g);u[S]=p}return u}return u.push(p),u},[]);console.log("Deduplicated events:",c.length,"events");for(const u of c)await lK(u);return c}catch(r){throw console.error("Error fetching events:",r),r}},staleTime:5*60*1e3,gcTime:10*60*1e3,retry:2,retryDelay:t=>Math.min(1e3*2**t,5e3)})}function cK(e){const{nostr:t}=Os();return xs({queryKey:["event",e],queryFn:async n=>{if(!e)throw new Error("No event identifier provided");const r=AbortSignal.any([n.signal,AbortSignal.timeout(2e3)]);try{const s=Ps.decode(e);if(s.type==="naddr"){const{kind:i,pubkey:c,identifier:u}=s.data;return(await t.query([{kinds:[i],authors:[c],"#d":[u],limit:1}],{signal:r}))[0]||null}else if(s.type==="nevent"||s.type==="note"){const i=s.type==="note"?s.data:s.data.id;return(await t.query([{ids:[i],limit:1}],{signal:r}))[0]||null}else return(await t.query([{ids:[e],limit:1}],{signal:r}))[0]||null}catch(s){console.error("Error fetching single event:",s);try{return(await t.query([{ids:[e],limit:1}],{signal:r}))[0]||null}catch(i){return console.error("Fallback query also failed:",i),null}}},enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:1,retryDelay:1e3})}function Ed(){const{nostr:e}=Os(),{user:t}=lr();return A_({mutationFn:async n=>{if(t){const r=n.tags??[];r.some(i=>i[0]==="client")||r.push(["client","Plektos"]);const s=await t.signer.signEvent({kind:n.kind,content:n.content??"",tags:r,created_at:n.created_at??Math.floor(Date.now()/1e3)});return await e.event(s,{signal:AbortSignal.timeout(5e3)}),s}else throw new Error("User is not logged in")},onError:n=>{console.error("Failed to publish event:",n)},onSuccess:n=>{console.log("Event published successfully:",n)}})}function LP(){const{nostr:e}=Os(),{user:t}=lr(),{mutateAsync:n}=Ed(),r=uh(),{data:s,isLoading:i,refetch:c}=xs({queryKey:["muteList",t==null?void 0:t.pubkey],queryFn:async({signal:S})=>{if(!(t!=null&&t.pubkey))return null;const k=await e.query([{kinds:[1e4],authors:[t.pubkey],limit:10}],{signal:AbortSignal.any([S,AbortSignal.timeout(5e3)])});return k.length===0?null:k.sort((N,O)=>O.created_at-N.created_at)[0]},enabled:!!(t!=null&&t.pubkey),staleTime:3e4}),u=(s==null?void 0:s.tags.filter(S=>S[0]==="p").map(S=>S[1]))||[];return{muteList:s,mutedPubkeys:u,isLoading:i,isMuted:S=>u.includes(S),mutePubkey:async(S,k="")=>{if(!t)throw new Error("User must be logged in to mute");const T=(s==null?void 0:s.tags)||[];if(T.some(N=>N[0]==="p"&&N[1]===S))return;const E=[...T,k?["p",S,"",k]:["p",S]];await n({kind:1e4,content:"",tags:E}),r.invalidateQueries({queryKey:["muteList",t.pubkey]})},unmutePubkey:async S=>{if(!t)throw new Error("User must be logged in to unmute");if(!s)return;const k=s.tags.filter(T=>!(T[0]==="p"&&T[1]===S));await n({kind:1e4,content:"",tags:k}),r.invalidateQueries({queryKey:["muteList",t.pubkey]})},getMuteReason:S=>{const k=s==null?void 0:s.tags.find(T=>T[0]==="p"&&T[1]===S);return(k==null?void 0:k[3])||""},refetch:c}}const qr=_.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ze("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));qr.displayName="Card";const gh=_.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ze("flex flex-col space-y-1.5 p-6",e),...t}));gh.displayName="CardHeader";const Hm=_.forwardRef(({className:e,...t},n)=>d.jsx("h3",{ref:n,className:ze("text-2xl font-semibold leading-none tracking-tight",e),...t}));Hm.displayName="CardTitle";const eE=_.forwardRef(({className:e,...t},n)=>d.jsx("p",{ref:n,className:ze("text-sm text-muted-foreground",e),...t}));eE.displayName="CardDescription";const Kr=_.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ze("p-6 pt-0",e),...t}));Kr.displayName="CardContent";const uK=_.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ze("flex items-center p-6 pt-0",e),...t}));uK.displayName="CardFooter";const dK=({className:e})=>d.jsx(qp,{className:ze("my-28 h-16 w-16 text-primary/60 animate-spin",e)});function fK(e){return e>=3e4&&e<4e4}function zv(e,t){var n;if(fK(e.kind)){const r=(n=e.tags.find(s=>s[0]==="d"))==null?void 0:n[1];if(!r)throw new Error("Replaceable event missing d tag");return Ps.naddrEncode({kind:e.kind,pubkey:e.pubkey,identifier:r,relays:t})}else return Ps.neventEncode({id:e.id,kind:e.kind,author:e.pubkey,relays:t})}function hK(e){try{const t=Ps.decode(e);if(t.type==="nevent")return{type:"nevent",data:t.data,filter:{ids:[t.data.id]}};if(t.type==="naddr")return{type:"naddr",data:t.data,filter:{kinds:[t.data.kind],authors:[t.data.pubkey],"#d":[t.data.identifier]}};if(t.type==="note")return{type:"note",data:t.data,filter:{ids:[t.data]}};throw new Error(`Unsupported identifier type: ${t.type}`)}catch{return{type:"raw",data:e,filter:{ids:[e]}}}}function pK(e,t=window.location.origin){const n=zv(e);return`${t}/event/${n}`}function FP(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var bw="Switch",[mK,AX]=vo(bw),[gK,vK]=mK(bw),$P=_.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:c,disabled:u,value:p="on",onCheckedChange:m,form:y,...g}=e,[S,k]=_.useState(null),T=dn(t,M=>k(M)),E=_.useRef(!1),N=S?y||!!S.closest("form"):!0,[O,D]=Oa({prop:s,defaultProp:i??!1,onChange:m,caller:bw});return d.jsxs(gK,{scope:n,checked:O,disabled:u,children:[d.jsx(kt.button,{type:"button",role:"switch","aria-checked":O,"aria-required":c,"data-state":WP(O),"data-disabled":u?"":void 0,disabled:u,value:p,...g,ref:T,onClick:ft(e.onClick,M=>{D(z=>!z),N&&(E.current=M.isPropagationStopped(),E.current||M.stopPropagation())})}),N&&d.jsx(zP,{control:S,bubbles:!E.current,name:r,value:p,checked:O,required:c,disabled:u,form:y,style:{transform:"translateX(-100%)"}})]})});$P.displayName=bw;var BP="SwitchThumb",UP=_.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=vK(BP,n);return d.jsx(kt.span,{"data-state":WP(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});UP.displayName=BP;var yK="SwitchBubbleInput",zP=_.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const c=_.useRef(null),u=dn(c,i),p=FP(n),m=xA(t);return _.useEffect(()=>{const y=c.current;if(!y)return;const g=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(g,"checked").set;if(p!==n&&k){const T=new Event("click",{bubbles:r});k.call(y,n),y.dispatchEvent(T)}},[p,n,r]),d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:u,style:{...s.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});zP.displayName=yK;function WP(e){return e?"checked":"unchecked"}var VP=$P,xK=UP;const hx=_.forwardRef(({className:e,...t},n)=>d.jsx(VP,{className:ze("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:d.jsx(xK,{className:ze("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));hx.displayName=VP.displayName;var wK="Label",HP=_.forwardRef((e,t)=>d.jsx(kt.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));HP.displayName=wK;var qP=HP;const bK=Im("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ln=_.forwardRef(({className:e,...t},n)=>d.jsx(qP,{ref:n,className:ze(bK(),e),...t}));Ln.displayName=qP.displayName;var Kt=function(){return Kt=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Kt.apply(this,arguments)};function _K(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function KP(e,t,n){for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function py(e){return e.mode==="multiple"}function my(e){return e.mode==="range"}function _w(e){return e.mode==="single"}var SK={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function EK(e,t){return Ml(e,"LLLL y",t)}function kK(e,t){return Ml(e,"d",t)}function CK(e,t){return Ml(e,"LLLL",t)}function NK(e){return"".concat(e)}function jK(e,t){return Ml(e,"cccccc",t)}function TK(e,t){return Ml(e,"yyyy",t)}var AK=Object.freeze({__proto__:null,formatCaption:EK,formatDay:kK,formatMonthCaption:CK,formatWeekNumber:NK,formatWeekdayName:jK,formatYearCaption:TK}),RK=function(e,t,n){return Ml(e,"do MMMM (EEEE)",n)},PK=function(){return"Month: "},OK=function(){return"Go to next month"},DK=function(){return"Go to previous month"},MK=function(e,t){return Ml(e,"cccc",t)},IK=function(e){return"Week n. ".concat(e)},LK=function(){return"Year: "},FK=Object.freeze({__proto__:null,labelDay:RK,labelMonthDropdown:PK,labelNext:OK,labelPrevious:DK,labelWeekNumber:IK,labelWeekday:MK,labelYearDropdown:LK});function $K(){var e="buttons",t=SK,n=ZS,r={},s={},i=1,c={},u=new Date;return{captionLayout:e,classNames:t,formatters:AK,labels:FK,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:c,today:u,mode:"default"}}function BK(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,s=e.toMonth,i=e.fromDate,c=e.toDate;return r?i=Wo(r):t&&(i=new Date(t,0,1)),s?c=gw(s):n&&(c=new Date(n,11,31)),{fromDate:i?_m(i):void 0,toDate:c?_m(c):void 0}}var YP=_.createContext(void 0);function UK(e){var t,n=e.initialProps,r=$K(),s=BK(n),i=s.fromDate,c=s.toDate,u=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;u!=="buttons"&&(!i||!c)&&(u="buttons");var p;(_w(n)||py(n)||my(n))&&(p=n.onSelect);var m=Kt(Kt(Kt({},r),n),{captionLayout:u,classNames:Kt(Kt({},r.classNames),n.classNames),components:Kt({},n.components),formatters:Kt(Kt({},r.formatters),n.formatters),fromDate:i,labels:Kt(Kt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Kt(Kt({},r.modifiers),n.modifiers),modifiersClassNames:Kt(Kt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:p,styles:Kt(Kt({},r.styles),n.styles),toDate:c});return d.jsx(YP.Provider,{value:m,children:e.children})}function rr(){var e=_.useContext(YP);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function GP(e){var t=rr(),n=t.locale,r=t.classNames,s=t.styles,i=t.formatters.formatCaption;return d.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function zK(e){return d.jsx("svg",Kt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:d.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ZP(e){var t,n,r=e.onChange,s=e.value,i=e.children,c=e.caption,u=e.className,p=e.style,m=rr(),y=(n=(t=m.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:zK;return d.jsxs("div",{className:u,style:p,children:[d.jsx("span",{className:m.classNames.vhidden,children:e["aria-label"]}),d.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:m.classNames.dropdown,style:m.styles.dropdown,value:s,onChange:r,children:i}),d.jsxs("div",{className:m.classNames.caption_label,style:m.styles.caption_label,"aria-hidden":"true",children:[c,d.jsx(y,{className:m.classNames.dropdown_icon,style:m.styles.dropdown_icon})]})]})}function WK(e){var t,n=rr(),r=n.fromDate,s=n.toDate,i=n.styles,c=n.locale,u=n.formatters.formatMonthCaption,p=n.classNames,m=n.components,y=n.labels.labelMonthDropdown;if(!r)return d.jsx(d.Fragment,{});if(!s)return d.jsx(d.Fragment,{});var g=[];if(nq(r,s))for(var S=Wo(r),k=r.getMonth();k<=s.getMonth();k++)g.push(t1(S,k));else for(var S=Wo(new Date),k=0;k<=11;k++)g.push(t1(S,k));var T=function(N){var O=Number(N.target.value),D=t1(Wo(e.displayMonth),O);e.onChange(D)},E=(t=m==null?void 0:m.Dropdown)!==null&&t!==void 0?t:ZP;return d.jsx(E,{name:"months","aria-label":y(),className:p.dropdown_month,style:i.dropdown_month,onChange:T,value:e.displayMonth.getMonth(),caption:u(e.displayMonth,{locale:c}),children:g.map(function(N){return d.jsx("option",{value:N.getMonth(),children:u(N,{locale:c})},N.getMonth())})})}function VK(e){var t,n=e.displayMonth,r=rr(),s=r.fromDate,i=r.toDate,c=r.locale,u=r.styles,p=r.classNames,m=r.components,y=r.formatters.formatYearCaption,g=r.labels.labelYearDropdown,S=[];if(!s)return d.jsx(d.Fragment,{});if(!i)return d.jsx(d.Fragment,{});for(var k=s.getFullYear(),T=i.getFullYear(),E=k;E<=T;E++)S.push(NC(nP(new Date),E));var N=function(D){var M=NC(Wo(n),Number(D.target.value));e.onChange(M)},O=(t=m==null?void 0:m.Dropdown)!==null&&t!==void 0?t:ZP;return d.jsx(O,{name:"years","aria-label":g(),className:p.dropdown_year,style:u.dropdown_year,onChange:N,value:n.getFullYear(),caption:y(n,{locale:c}),children:S.map(function(D){return d.jsx("option",{value:D.getFullYear(),children:y(D,{locale:c})},D.getFullYear())})})}function HK(e,t){var n=_.useState(e),r=n[0],s=n[1],i=t===void 0?r:t;return[i,s]}function qK(e){var t=e.month,n=e.defaultMonth,r=e.today,s=t||n||r||new Date,i=e.toDate,c=e.fromDate,u=e.numberOfMonths,p=u===void 0?1:u;if(i&&Em(i,s)<0){var m=-1*(p-1);s=Ia(i,m)}return c&&Em(s,c)<0&&(s=c),Wo(s)}function KK(){var e=rr(),t=qK(e),n=HK(t,e.month),r=n[0],s=n[1],i=function(c){var u;if(!e.disableNavigation){var p=Wo(c);s(p),(u=e.onMonthChange)===null||u===void 0||u.call(e,p)}};return[r,i]}function YK(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,s=Wo(e),i=Wo(Ia(s,r)),c=Em(i,s),u=[],p=0;p<c;p++){var m=Ia(s,p);u.push(m)}return n&&(u=u.reverse()),u}function GK(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,c=r?i:1,u=Wo(e);if(!n)return Ia(u,c);var p=Em(n,e);if(!(p<i))return Ia(u,c)}}function ZK(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,c=r?i:1,u=Wo(e);if(!n)return Ia(u,-c);var p=Em(u,n);if(!(p<=0))return Ia(u,-c)}}var QP=_.createContext(void 0);function QK(e){var t=rr(),n=KK(),r=n[0],s=n[1],i=YK(r,t),c=GK(r,t),u=ZK(r,t),p=function(g){return i.some(function(S){return QS(g,S)})},m=function(g,S){p(g)||(S&&cP(g,S)?s(Ia(g,1+t.numberOfMonths*-1)):s(g))},y={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:m,previousMonth:u,nextMonth:c,isDateDisplayed:p};return d.jsx(QP.Provider,{value:y,children:e.children})}function gy(){var e=_.useContext(QP);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function OC(e){var t,n=rr(),r=n.classNames,s=n.styles,i=n.components,c=gy().goToMonth,u=function(y){c(Ia(y,e.displayIndex?-e.displayIndex:0))},p=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:GP,m=d.jsx(p,{id:e.id,displayMonth:e.displayMonth});return d.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[d.jsx("div",{className:r.vhidden,children:m}),d.jsx(WK,{onChange:u,displayMonth:e.displayMonth}),d.jsx(VK,{onChange:u,displayMonth:e.displayMonth})]})}function XK(e){return d.jsx("svg",Kt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:d.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function JK(e){return d.jsx("svg",Kt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:d.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var px=_.forwardRef(function(e,t){var n=rr(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var c=i.join(" "),u=Kt(Kt({},s.button_reset),s.button);return e.style&&Object.assign(u,e.style),d.jsx("button",Kt({},e,{ref:t,type:"button",className:c,style:u}))});function eY(e){var t,n,r=rr(),s=r.dir,i=r.locale,c=r.classNames,u=r.styles,p=r.labels,m=p.labelPrevious,y=p.labelNext,g=r.components;if(!e.nextMonth&&!e.previousMonth)return d.jsx(d.Fragment,{});var S=m(e.previousMonth,{locale:i}),k=[c.nav_button,c.nav_button_previous].join(" "),T=y(e.nextMonth,{locale:i}),E=[c.nav_button,c.nav_button_next].join(" "),N=(t=g==null?void 0:g.IconRight)!==null&&t!==void 0?t:JK,O=(n=g==null?void 0:g.IconLeft)!==null&&n!==void 0?n:XK;return d.jsxs("div",{className:c.nav,style:u.nav,children:[!e.hidePrevious&&d.jsx(px,{name:"previous-month","aria-label":S,className:k,style:u.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?d.jsx(N,{className:c.nav_icon,style:u.nav_icon}):d.jsx(O,{className:c.nav_icon,style:u.nav_icon})}),!e.hideNext&&d.jsx(px,{name:"next-month","aria-label":T,className:E,style:u.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?d.jsx(O,{className:c.nav_icon,style:u.nav_icon}):d.jsx(N,{className:c.nav_icon,style:u.nav_icon})})]})}function DC(e){var t=rr().numberOfMonths,n=gy(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,c=n.displayMonths,u=c.findIndex(function(T){return QS(e.displayMonth,T)}),p=u===0,m=u===c.length-1,y=t>1&&(p||!m),g=t>1&&(m||!p),S=function(){r&&i(r)},k=function(){s&&i(s)};return d.jsx(eY,{displayMonth:e.displayMonth,hideNext:y,hidePrevious:g,nextMonth:s,previousMonth:r,onPreviousClick:S,onNextClick:k})}function tY(e){var t,n=rr(),r=n.classNames,s=n.disableNavigation,i=n.styles,c=n.captionLayout,u=n.components,p=(t=u==null?void 0:u.CaptionLabel)!==null&&t!==void 0?t:GP,m;return s?m=d.jsx(p,{id:e.id,displayMonth:e.displayMonth}):c==="dropdown"?m=d.jsx(OC,{displayMonth:e.displayMonth,id:e.id}):c==="dropdown-buttons"?m=d.jsxs(d.Fragment,{children:[d.jsx(OC,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),d.jsx(DC,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):m=d.jsxs(d.Fragment,{children:[d.jsx(p,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),d.jsx(DC,{displayMonth:e.displayMonth,id:e.id})]}),d.jsx("div",{className:r.caption,style:i.caption,children:m})}function nY(e){var t=rr(),n=t.footer,r=t.styles,s=t.classNames.tfoot;return n?d.jsx("tfoot",{className:s,style:r.tfoot,children:d.jsx("tr",{children:d.jsx("td",{colSpan:8,children:n})})}):d.jsx(d.Fragment,{})}function rY(e,t,n){for(var r=n?ih(new Date):$l(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var c=ho(r,i);s.push(c)}return s}function sY(){var e=rr(),t=e.classNames,n=e.styles,r=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,c=e.ISOWeek,u=e.formatters.formatWeekdayName,p=e.labels.labelWeekday,m=rY(s,i,c);return d.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&d.jsx("td",{style:n.head_cell,className:t.head_cell}),m.map(function(y,g){return d.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":p(y,{locale:s}),children:u(y,{locale:s})},g)})]})}function oY(){var e,t=rr(),n=t.classNames,r=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:sY;return d.jsx("thead",{style:r.head,className:n.head,children:d.jsx(i,{})})}function iY(e){var t=rr(),n=t.locale,r=t.formatters.formatDay;return d.jsx(d.Fragment,{children:r(e.date,{locale:n})})}var tE=_.createContext(void 0);function aY(e){if(!py(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return d.jsx(tE.Provider,{value:t,children:e.children})}return d.jsx(lY,{initialProps:e.initialProps,children:e.children})}function lY(e){var t=e.initialProps,n=e.children,r=t.selected,s=t.min,i=t.max,c=function(m,y,g){var S,k;(S=t.onDayClick)===null||S===void 0||S.call(t,m,y,g);var T=!!(y.selected&&s&&(r==null?void 0:r.length)===s);if(!T){var E=!!(!y.selected&&i&&(r==null?void 0:r.length)===i);if(!E){var N=r?KP([],r):[];if(y.selected){var O=N.findIndex(function(D){return Uo(m,D)});N.splice(O,1)}else N.push(m);(k=t.onSelect)===null||k===void 0||k.call(t,N,m,y,g)}}},u={disabled:[]};r&&u.disabled.push(function(m){var y=i&&r.length>i-1,g=r.some(function(S){return Uo(S,m)});return!!(y&&!g)});var p={selected:r,onDayClick:c,modifiers:u};return d.jsx(tE.Provider,{value:p,children:n})}function nE(){var e=_.useContext(tE);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function cY(e,t){var n=t||{},r=n.from,s=n.to;return r&&s?Uo(s,e)&&Uo(r,e)?void 0:Uo(s,e)?{from:s,to:void 0}:Uo(r,e)?void 0:u_(r,e)?{from:e,to:s}:{from:r,to:e}:s?u_(e,s)?{from:s,to:e}:{from:e,to:s}:r?cP(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var rE=_.createContext(void 0);function uY(e){if(!my(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return d.jsx(rE.Provider,{value:t,children:e.children})}return d.jsx(dY,{initialProps:e.initialProps,children:e.children})}function dY(e){var t=e.initialProps,n=e.children,r=t.selected,s=r||{},i=s.from,c=s.to,u=t.min,p=t.max,m=function(k,T,E){var N,O;(N=t.onDayClick)===null||N===void 0||N.call(t,k,T,E);var D=cY(k,r);(O=t.onSelect)===null||O===void 0||O.call(t,D,k,T,E)},y={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(y.range_start=[i],c?(y.range_end=[c],Uo(i,c)||(y.range_middle=[{after:i,before:c}])):y.range_end=[i]):c&&(y.range_start=[c],y.range_end=[c]),u&&(i&&!c&&y.disabled.push({after:e1(i,u-1),before:ho(i,u-1)}),i&&c&&y.disabled.push({after:i,before:ho(i,u-1)}),!i&&c&&y.disabled.push({after:e1(c,u-1),before:ho(c,u-1)})),p){if(i&&!c&&(y.disabled.push({before:ho(i,-p+1)}),y.disabled.push({after:ho(i,p-1)})),i&&c){var g=Al(c,i)+1,S=p-g;y.disabled.push({before:e1(i,S)}),y.disabled.push({after:ho(c,S)})}!i&&c&&(y.disabled.push({before:ho(c,-p+1)}),y.disabled.push({after:ho(c,p-1)}))}return d.jsx(rE.Provider,{value:{selected:r,onDayClick:m,modifiers:y},children:n})}function sE(){var e=_.useContext(rE);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function F0(e){return Array.isArray(e)?KP([],e):e!==void 0?[e]:[]}function fY(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],s=n[1];t[r]=F0(s)}),t}var La;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(La||(La={}));var hY=La.Selected,Ac=La.Disabled,pY=La.Hidden,mY=La.Today,n1=La.RangeEnd,r1=La.RangeMiddle,s1=La.RangeStart,gY=La.Outside;function vY(e,t,n){var r,s=(r={},r[hY]=F0(e.selected),r[Ac]=F0(e.disabled),r[pY]=F0(e.hidden),r[mY]=[e.today],r[n1]=[],r[r1]=[],r[s1]=[],r[gY]=[],r);return e.fromDate&&s[Ac].push({before:e.fromDate}),e.toDate&&s[Ac].push({after:e.toDate}),py(e)?s[Ac]=s[Ac].concat(t.modifiers[Ac]):my(e)&&(s[Ac]=s[Ac].concat(n.modifiers[Ac]),s[s1]=n.modifiers[s1],s[r1]=n.modifiers[r1],s[n1]=n.modifiers[n1]),s}var XP=_.createContext(void 0);function yY(e){var t=rr(),n=nE(),r=sE(),s=vY(t,n,r),i=fY(t.modifiers),c=Kt(Kt({},s),i);return d.jsx(XP.Provider,{value:c,children:e.children})}function JP(){var e=_.useContext(XP);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function xY(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function wY(e){return!!(e&&typeof e=="object"&&"from"in e)}function bY(e){return!!(e&&typeof e=="object"&&"after"in e)}function _Y(e){return!!(e&&typeof e=="object"&&"before"in e)}function SY(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function EY(e,t){var n,r=t.from,s=t.to;if(r&&s){var i=Al(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var c=Al(e,r)>=0&&Al(s,e)>=0;return c}return s?Uo(s,e):r?Uo(r,e):!1}function kY(e){return YS(e)}function CY(e){return Array.isArray(e)&&e.every(YS)}function NY(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(kY(n))return Uo(e,n);if(CY(n))return n.includes(e);if(wY(n))return EY(e,n);if(SY(n))return n.dayOfWeek.includes(e.getDay());if(xY(n)){var r=Al(n.before,e),s=Al(n.after,e),i=r>0,c=s<0,u=u_(n.before,n.after);return u?c&&i:i||c}return bY(n)?Al(e,n.after)>0:_Y(n)?Al(n.before,e)>0:typeof n=="function"?n(e):!1})}function oE(e,t,n){var r=Object.keys(t).reduce(function(i,c){var u=t[c];return NY(e,u)&&i.push(c),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!QS(e,n)&&(s.outside=!0),s}function jY(e,t){for(var n=Wo(e[0]),r=gw(e[e.length-1]),s,i,c=n;c<=r;){var u=oE(c,t),p=!u.disabled&&!u.hidden;if(!p){c=ho(c,1);continue}if(u.selected)return c;u.today&&!i&&(i=c),s||(s=c),c=ho(c,1)}return i||s}var TY=365;function eO(e,t){var n=t.moveBy,r=t.direction,s=t.context,i=t.modifiers,c=t.retry,u=c===void 0?{count:0,lastFocused:e}:c,p=s.weekStartsOn,m=s.fromDate,y=s.toDate,g=s.locale,S={day:ho,week:c_,month:Ia,year:VV,startOfWeek:function(N){return s.ISOWeek?ih(N):$l(N,{locale:g,weekStartsOn:p})},endOfWeek:function(N){return s.ISOWeek?rP(N):GS(N,{locale:g,weekStartsOn:p})}},k=S[n](e,r==="after"?1:-1);r==="before"&&m?k=HV([m,k]):r==="after"&&y&&(k=qV([y,k]));var T=!0;if(i){var E=oE(k,i);T=!E.disabled&&!E.hidden}return T?k:u.count>TY?u.lastFocused:eO(k,{moveBy:n,direction:r,context:s,modifiers:i,retry:Kt(Kt({},u),{count:u.count+1})})}var tO=_.createContext(void 0);function AY(e){var t=gy(),n=JP(),r=_.useState(),s=r[0],i=r[1],c=_.useState(),u=c[0],p=c[1],m=jY(t.displayMonths,n),y=s??(u&&t.isDateDisplayed(u))?u:m,g=function(){p(s),i(void 0)},S=function(N){i(N)},k=rr(),T=function(N,O){if(s){var D=eO(s,{moveBy:N,direction:O,context:k,modifiers:n});Uo(s,D)||(t.goToDate(D,s),S(D))}},E={focusedDay:s,focusTarget:y,blur:g,focus:S,focusDayAfter:function(){return T("day","after")},focusDayBefore:function(){return T("day","before")},focusWeekAfter:function(){return T("week","after")},focusWeekBefore:function(){return T("week","before")},focusMonthBefore:function(){return T("month","before")},focusMonthAfter:function(){return T("month","after")},focusYearBefore:function(){return T("year","before")},focusYearAfter:function(){return T("year","after")},focusStartOfWeek:function(){return T("startOfWeek","before")},focusEndOfWeek:function(){return T("endOfWeek","after")}};return d.jsx(tO.Provider,{value:E,children:e.children})}function iE(){var e=_.useContext(tO);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function RY(e,t){var n=JP(),r=oE(e,n,t);return r}var aE=_.createContext(void 0);function PY(e){if(!_w(e.initialProps)){var t={selected:void 0};return d.jsx(aE.Provider,{value:t,children:e.children})}return d.jsx(OY,{initialProps:e.initialProps,children:e.children})}function OY(e){var t=e.initialProps,n=e.children,r=function(i,c,u){var p,m,y;if((p=t.onDayClick)===null||p===void 0||p.call(t,i,c,u),c.selected&&!t.required){(m=t.onSelect)===null||m===void 0||m.call(t,void 0,i,c,u);return}(y=t.onSelect)===null||y===void 0||y.call(t,i,i,c,u)},s={selected:t.selected,onDayClick:r};return d.jsx(aE.Provider,{value:s,children:n})}function nO(){var e=_.useContext(aE);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function DY(e,t){var n=rr(),r=nO(),s=nE(),i=sE(),c=iE(),u=c.focusDayAfter,p=c.focusDayBefore,m=c.focusWeekAfter,y=c.focusWeekBefore,g=c.blur,S=c.focus,k=c.focusMonthBefore,T=c.focusMonthAfter,E=c.focusYearBefore,N=c.focusYearAfter,O=c.focusStartOfWeek,D=c.focusEndOfWeek,M=function(de){var Q,J,xe,K;_w(n)?(Q=r.onDayClick)===null||Q===void 0||Q.call(r,e,t,de):py(n)?(J=s.onDayClick)===null||J===void 0||J.call(s,e,t,de):my(n)?(xe=i.onDayClick)===null||xe===void 0||xe.call(i,e,t,de):(K=n.onDayClick)===null||K===void 0||K.call(n,e,t,de)},z=function(de){var Q;S(e),(Q=n.onDayFocus)===null||Q===void 0||Q.call(n,e,t,de)},q=function(de){var Q;g(),(Q=n.onDayBlur)===null||Q===void 0||Q.call(n,e,t,de)},Y=function(de){var Q;(Q=n.onDayMouseEnter)===null||Q===void 0||Q.call(n,e,t,de)},Z=function(de){var Q;(Q=n.onDayMouseLeave)===null||Q===void 0||Q.call(n,e,t,de)},ae=function(de){var Q;(Q=n.onDayPointerEnter)===null||Q===void 0||Q.call(n,e,t,de)},te=function(de){var Q;(Q=n.onDayPointerLeave)===null||Q===void 0||Q.call(n,e,t,de)},ye=function(de){var Q;(Q=n.onDayTouchCancel)===null||Q===void 0||Q.call(n,e,t,de)},Te=function(de){var Q;(Q=n.onDayTouchEnd)===null||Q===void 0||Q.call(n,e,t,de)},Se=function(de){var Q;(Q=n.onDayTouchMove)===null||Q===void 0||Q.call(n,e,t,de)},_e=function(de){var Q;(Q=n.onDayTouchStart)===null||Q===void 0||Q.call(n,e,t,de)},Le=function(de){var Q;(Q=n.onDayKeyUp)===null||Q===void 0||Q.call(n,e,t,de)},ge=function(de){var Q;switch(de.key){case"ArrowLeft":de.preventDefault(),de.stopPropagation(),n.dir==="rtl"?u():p();break;case"ArrowRight":de.preventDefault(),de.stopPropagation(),n.dir==="rtl"?p():u();break;case"ArrowDown":de.preventDefault(),de.stopPropagation(),m();break;case"ArrowUp":de.preventDefault(),de.stopPropagation(),y();break;case"PageUp":de.preventDefault(),de.stopPropagation(),de.shiftKey?E():k();break;case"PageDown":de.preventDefault(),de.stopPropagation(),de.shiftKey?N():T();break;case"Home":de.preventDefault(),de.stopPropagation(),O();break;case"End":de.preventDefault(),de.stopPropagation(),D();break}(Q=n.onDayKeyDown)===null||Q===void 0||Q.call(n,e,t,de)},me={onClick:M,onFocus:z,onBlur:q,onKeyDown:ge,onKeyUp:Le,onMouseEnter:Y,onMouseLeave:Z,onPointerEnter:ae,onPointerLeave:te,onTouchCancel:ye,onTouchEnd:Te,onTouchMove:Se,onTouchStart:_e};return me}function MY(){var e=rr(),t=nO(),n=nE(),r=sE(),s=_w(e)?t.selected:py(e)?n.selected:my(e)?r.selected:void 0;return s}function IY(e){return Object.values(La).includes(e)}function LY(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var s=e.modifiersClassNames[r];if(s)n.push(s);else if(IY(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function FY(e,t){var n=Kt({},e.styles.day);return Object.keys(t).forEach(function(r){var s;n=Kt(Kt({},n),(s=e.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function $Y(e,t,n){var r,s,i,c=rr(),u=iE(),p=RY(e,t),m=DY(e,p),y=MY(),g=!!(c.onDayClick||c.mode!=="default");_.useEffect(function(){var Y;p.outside||u.focusedDay&&g&&Uo(u.focusedDay,e)&&((Y=n.current)===null||Y===void 0||Y.focus())},[u.focusedDay,e,n,g,p.outside]);var S=LY(c,p).join(" "),k=FY(c,p),T=!!(p.outside&&!c.showOutsideDays||p.hidden),E=(i=(s=c.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:iY,N=d.jsx(E,{date:e,displayMonth:t,activeModifiers:p}),O={style:k,className:S,children:N,role:"gridcell"},D=u.focusTarget&&Uo(u.focusTarget,e)&&!p.outside,M=u.focusedDay&&Uo(u.focusedDay,e),z=Kt(Kt(Kt({},O),(r={disabled:p.disabled,role:"gridcell"},r["aria-selected"]=p.selected,r.tabIndex=M||D?0:-1,r)),m),q={isButton:g,isHidden:T,activeModifiers:p,selectedDays:y,buttonProps:z,divProps:O};return q}function BY(e){var t=_.useRef(null),n=$Y(e.date,e.displayMonth,t);return n.isHidden?d.jsx("div",{role:"gridcell"}):n.isButton?d.jsx(px,Kt({name:"day",ref:t},n.buttonProps)):d.jsx("div",Kt({},n.divProps))}function UY(e){var t=e.number,n=e.dates,r=rr(),s=r.onWeekNumberClick,i=r.styles,c=r.classNames,u=r.locale,p=r.labels.labelWeekNumber,m=r.formatters.formatWeekNumber,y=m(Number(t),{locale:u});if(!s)return d.jsx("span",{className:c.weeknumber,style:i.weeknumber,children:y});var g=p(Number(t),{locale:u}),S=function(k){s(t,n,k)};return d.jsx(px,{name:"week-number","aria-label":g,className:c.weeknumber,style:i.weeknumber,onClick:S,children:y})}function zY(e){var t,n,r=rr(),s=r.styles,i=r.classNames,c=r.showWeekNumber,u=r.components,p=(t=u==null?void 0:u.Day)!==null&&t!==void 0?t:BY,m=(n=u==null?void 0:u.WeekNumber)!==null&&n!==void 0?n:UY,y;return c&&(y=d.jsx("td",{className:i.cell,style:s.cell,children:d.jsx(m,{number:e.weekNumber,dates:e.dates})})),d.jsxs("tr",{className:i.row,style:s.row,children:[y,e.dates.map(function(g){return d.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:d.jsx(p,{displayMonth:e.displayMonth,date:g})},JH(g))})]})}function MC(e,t,n){for(var r=n!=null&&n.ISOWeek?rP(t):GS(t,n),s=n!=null&&n.ISOWeek?ih(e):$l(e,n),i=Al(r,s),c=[],u=0;u<=i;u++)c.push(ho(s,u));var p=c.reduce(function(m,y){var g=n!=null&&n.ISOWeek?sP(y):iP(y,n),S=m.find(function(k){return k.weekNumber===g});return S?(S.dates.push(y),m):(m.push({weekNumber:g,dates:[y]}),m)},[]);return p}function WY(e,t){var n=MC(Wo(e),gw(e),t);if(t!=null&&t.useFixedWeeks){var r=tq(e,t);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],c=c_(i,6-r),u=MC(c_(i,1),c,t);n.push.apply(n,u)}}return n}function VY(e){var t,n,r,s=rr(),i=s.locale,c=s.classNames,u=s.styles,p=s.hideHead,m=s.fixedWeeks,y=s.components,g=s.weekStartsOn,S=s.firstWeekContainsDate,k=s.ISOWeek,T=WY(e.displayMonth,{useFixedWeeks:!!m,ISOWeek:k,locale:i,weekStartsOn:g,firstWeekContainsDate:S}),E=(t=y==null?void 0:y.Head)!==null&&t!==void 0?t:oY,N=(n=y==null?void 0:y.Row)!==null&&n!==void 0?n:zY,O=(r=y==null?void 0:y.Footer)!==null&&r!==void 0?r:nY;return d.jsxs("table",{id:e.id,className:c.table,style:u.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!p&&d.jsx(E,{}),d.jsx("tbody",{className:c.tbody,style:u.tbody,children:T.map(function(D){return d.jsx(N,{displayMonth:e.displayMonth,dates:D.dates,weekNumber:D.weekNumber},D.weekNumber)})}),d.jsx(O,{displayMonth:e.displayMonth})]})}function HY(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var qY=HY()?_.useLayoutEffect:_.useEffect,o1=!1,KY=0;function IC(){return"react-day-picker-".concat(++KY)}function YY(e){var t,n=e??(o1?IC():null),r=_.useState(n),s=r[0],i=r[1];return qY(function(){s===null&&i(IC())},[]),_.useEffect(function(){o1===!1&&(o1=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function GY(e){var t,n,r=rr(),s=r.dir,i=r.classNames,c=r.styles,u=r.components,p=gy().displayMonths,m=YY(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),y=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,g=[i.month],S=c.month,k=e.displayIndex===0,T=e.displayIndex===p.length-1,E=!k&&!T;s==="rtl"&&(t=[k,T],T=t[0],k=t[1]),k&&(g.push(i.caption_start),S=Kt(Kt({},S),c.caption_start)),T&&(g.push(i.caption_end),S=Kt(Kt({},S),c.caption_end)),E&&(g.push(i.caption_between),S=Kt(Kt({},S),c.caption_between));var N=(n=u==null?void 0:u.Caption)!==null&&n!==void 0?n:tY;return d.jsxs("div",{className:g.join(" "),style:S,children:[d.jsx(N,{id:m,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),d.jsx(VY,{id:y,"aria-labelledby":m,displayMonth:e.displayMonth})]},e.displayIndex)}function ZY(e){var t=rr(),n=t.classNames,r=t.styles;return d.jsx("div",{className:n.months,style:r.months,children:e.children})}function QY(e){var t,n,r=e.initialProps,s=rr(),i=iE(),c=gy(),u=_.useState(!1),p=u[0],m=u[1];_.useEffect(function(){s.initialFocus&&i.focusTarget&&(p||(i.focus(i.focusTarget),m(!0)))},[s.initialFocus,p,i.focus,i.focusTarget,i]);var y=[s.classNames.root,s.className];s.numberOfMonths>1&&y.push(s.classNames.multiple_months),s.showWeekNumber&&y.push(s.classNames.with_weeknumber);var g=Kt(Kt({},s.styles.root),s.style),S=Object.keys(r).filter(function(T){return T.startsWith("data-")}).reduce(function(T,E){var N;return Kt(Kt({},T),(N={},N[E]=r[E],N))},{}),k=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:ZY;return d.jsx("div",Kt({className:y.join(" "),style:g,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},S,{children:d.jsx(k,{children:c.displayMonths.map(function(T,E){return d.jsx(GY,{displayIndex:E,displayMonth:T},E)})})}))}function XY(e){var t=e.children,n=_K(e,["children"]);return d.jsx(UK,{initialProps:n,children:d.jsx(QK,{children:d.jsx(PY,{initialProps:n,children:d.jsx(aY,{initialProps:n,children:d.jsx(uY,{initialProps:n,children:d.jsx(yY,{children:d.jsx(AY,{children:t})})})})})})})}function JY(e){return d.jsx(XY,Kt({},e,{children:d.jsx(QY,{initialProps:e})}))}function Cm({className:e,classNames:t,showOutsideDays:n=!0,...r}){return d.jsx(JY,{showOutsideDays:n,className:ze("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ze(Iv({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ze(Iv({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...s})=>d.jsx(nU,{className:"h-4 w-4"}),IconRight:({...s})=>d.jsx(Kj,{className:"h-4 w-4"})},...r})}Cm.displayName="Calendar";var Sw="Popover",[rO,RX]=vo(Sw,[Td]),vy=Td(),[eG,Rd]=rO(Sw),sO=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:c=!1}=e,u=vy(t),p=_.useRef(null),[m,y]=_.useState(!1),[g,S]=Oa({prop:r,defaultProp:s??!1,onChange:i,caller:Sw});return d.jsx(cy,{...u,children:d.jsx(eG,{scope:t,contentId:Fr(),triggerRef:p,open:g,onOpenChange:S,onOpenToggle:_.useCallback(()=>S(k=>!k),[S]),hasCustomAnchor:m,onCustomAnchorAdd:_.useCallback(()=>y(!0),[]),onCustomAnchorRemove:_.useCallback(()=>y(!1),[]),modal:c,children:n})})};sO.displayName=Sw;var oO="PopoverAnchor",tG=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Rd(oO,n),i=vy(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=s;return _.useEffect(()=>(c(),()=>u()),[c,u]),d.jsx(uy,{...i,...r,ref:t})});tG.displayName=oO;var iO="PopoverTrigger",aO=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Rd(iO,n),i=vy(n),c=dn(t,s.triggerRef),u=d.jsx(kt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":fO(s.open),...r,ref:c,onClick:ft(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:d.jsx(uy,{asChild:!0,...i,children:u})});aO.displayName=iO;var lE="PopoverPortal",[nG,rG]=rO(lE,{forceMount:void 0}),lO=e=>{const{__scopePopover:t,forceMount:n,children:r,container:s}=e,i=Rd(lE,t);return d.jsx(nG,{scope:t,forceMount:n,children:d.jsx(Ds,{present:n||i.open,children:d.jsx(ny,{asChild:!0,container:s,children:r})})})};lO.displayName=lE;var Nm="PopoverContent",cO=_.forwardRef((e,t)=>{const n=rG(Nm,e.__scopePopover),{forceMount:r=n.forceMount,...s}=e,i=Rd(Nm,e.__scopePopover);return d.jsx(Ds,{present:r||i.open,children:i.modal?d.jsx(oG,{...s,ref:t}):d.jsx(iG,{...s,ref:t})})});cO.displayName=Nm;var sG=bd("PopoverContent.RemoveScroll"),oG=_.forwardRef((e,t)=>{const n=Rd(Nm,e.__scopePopover),r=_.useRef(null),s=dn(t,r),i=_.useRef(!1);return _.useEffect(()=>{const c=r.current;if(c)return Qx(c)},[]),d.jsx(ry,{as:sG,allowPinchZoom:!0,children:d.jsx(uO,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ft(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),i.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:ft(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,p=u.button===0&&u.ctrlKey===!0,m=u.button===2||p;i.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:ft(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),iG=_.forwardRef((e,t)=>{const n=Rd(Nm,e.__scopePopover),r=_.useRef(!1),s=_.useRef(!1);return d.jsx(uO,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,i),i.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var p,m;(p=e.onInteractOutside)==null||p.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const c=i.target;((m=n.triggerRef.current)==null?void 0:m.contains(c))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),uO=_.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:y,...g}=e,S=Rd(Nm,n),k=vy(n);return Gx(),d.jsx(ty,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:d.jsx(Lm,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:y,onEscapeKeyDown:u,onPointerDownOutside:p,onFocusOutside:m,onDismiss:()=>S.onOpenChange(!1),children:d.jsx(uw,{"data-state":fO(S.open),role:"dialog",id:S.contentId,...k,...g,ref:t,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),dO="PopoverClose",aG=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=Rd(dO,n);return d.jsx(kt.button,{type:"button",...r,ref:t,onClick:ft(e.onClick,()=>s.onOpenChange(!1))})});aG.displayName=dO;var lG="PopoverArrow",cG=_.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,s=vy(n);return d.jsx(dw,{...s,...r,ref:t})});cG.displayName=lG;function fO(e){return e?"open":"closed"}var uG=sO,dG=aO,fG=lO,hO=cO;const cE=uG,uE=dG,Ew=_.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},s)=>d.jsx(fG,{children:d.jsx(hO,{ref:s,align:t,sideOffset:n,className:ze("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ew.displayName=hO.displayName;var kw="Collapsible",[hG,PX]=vo(kw),[pG,dE]=hG(kw),pO=_.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:c,...u}=e,[p,m]=Oa({prop:r,defaultProp:s??!1,onChange:c,caller:kw});return d.jsx(pG,{scope:n,disabled:i,contentId:Fr(),open:p,onOpenToggle:_.useCallback(()=>m(y=>!y),[m]),children:d.jsx(kt.div,{"data-state":hE(p),"data-disabled":i?"":void 0,...u,ref:t})})});pO.displayName=kw;var mO="CollapsibleTrigger",gO=_.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=dE(mO,n);return d.jsx(kt.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":hE(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:ft(e.onClick,s.onOpenToggle)})});gO.displayName=mO;var fE="CollapsibleContent",vO=_.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=dE(fE,e.__scopeCollapsible);return d.jsx(Ds,{present:n||s.open,children:({present:i})=>d.jsx(mG,{...r,ref:t,present:i})})});vO.displayName=fE;var mG=_.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,c=dE(fE,n),[u,p]=_.useState(r),m=_.useRef(null),y=dn(t,m),g=_.useRef(0),S=g.current,k=_.useRef(0),T=k.current,E=c.open||u,N=_.useRef(E),O=_.useRef(void 0);return _.useEffect(()=>{const D=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(D)},[]),Br(()=>{const D=m.current;if(D){O.current=O.current||{transitionDuration:D.style.transitionDuration,animationName:D.style.animationName},D.style.transitionDuration="0s",D.style.animationName="none";const M=D.getBoundingClientRect();g.current=M.height,k.current=M.width,N.current||(D.style.transitionDuration=O.current.transitionDuration,D.style.animationName=O.current.animationName),p(r)}},[c.open,r]),d.jsx(kt.div,{"data-state":hE(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!E,...i,ref:y,style:{"--radix-collapsible-content-height":S?`${S}px`:void 0,"--radix-collapsible-content-width":T?`${T}px`:void 0,...e.style},children:E&&s})});function hE(e){return e?"open":"closed"}var gG=pO;const pE=gG,mE=gO,gE=vO,yO=["Music","Business & professional","Food & drink","Community & culture","Performing & visual arts","Film, media, & entertainment","Health & wellness","Sports & fitness","Science & technology","Travel & outdoor","Charity & causes","Religion & spirituality","Family & education","Seasonal & holiday","Government & politics","Fashion & beauty","Home & lifestyle","Auto, boat & air","Hobbies & special interest","School activities","Other"],C0={"new york":"America/New_York",nyc:"America/New_York",manhattan:"America/New_York",brooklyn:"America/New_York",chicago:"America/Chicago","los angeles":"America/Los_Angeles",la:"America/Los_Angeles","san francisco":"America/Los_Angeles",sf:"America/Los_Angeles",seattle:"America/Los_Angeles",denver:"America/Denver",phoenix:"America/Phoenix",miami:"America/New_York",atlanta:"America/New_York",dallas:"America/Chicago",houston:"America/Chicago",austin:"America/Chicago","las vegas":"America/Los_Angeles",portland:"America/Los_Angeles",boston:"America/New_York",washington:"America/New_York",dc:"America/New_York",london:"Europe/London",paris:"Europe/Paris",berlin:"Europe/Berlin",amsterdam:"Europe/Amsterdam",rome:"Europe/Rome",madrid:"Europe/Madrid",barcelona:"Europe/Madrid",zurich:"Europe/Zurich",vienna:"Europe/Vienna",prague:"Europe/Prague",stockholm:"Europe/Stockholm",copenhagen:"Europe/Copenhagen",oslo:"Europe/Oslo",helsinki:"Europe/Helsinki",dublin:"Europe/Dublin",lisbon:"Europe/Lisbon",athens:"Europe/Athens",moscow:"Europe/Moscow",istanbul:"Europe/Istanbul",tokyo:"Asia/Tokyo",osaka:"Asia/Tokyo",seoul:"Asia/Seoul",beijing:"Asia/Shanghai",shanghai:"Asia/Shanghai","hong kong":"Asia/Hong_Kong",singapore:"Asia/Singapore",mumbai:"Asia/Kolkata",delhi:"Asia/Kolkata",bangalore:"Asia/Kolkata",sydney:"Australia/Sydney",melbourne:"Australia/Melbourne",brisbane:"Australia/Brisbane",perth:"Australia/Perth",auckland:"Pacific/Auckland",wellington:"Pacific/Auckland",toronto:"America/Toronto",vancouver:"America/Vancouver",montreal:"America/Montreal","mexico city":"America/Mexico_City","sao paulo":"America/Sao_Paulo","rio de janeiro":"America/Sao_Paulo","buenos aires":"America/Argentina/Buenos_Aires",santiago:"America/Santiago",lima:"America/Lima",bogota:"America/Bogota",caracas:"America/Caracas","cape town":"Africa/Johannesburg",johannesburg:"Africa/Johannesburg",cairo:"Africa/Cairo",lagos:"Africa/Lagos",nairobi:"Africa/Nairobi",casablanca:"Africa/Casablanca",california:"America/Los_Angeles",texas:"America/Chicago",florida:"America/New_York","new york state":"America/New_York",illinois:"America/Chicago","washington state":"America/Los_Angeles",oregon:"America/Los_Angeles",usa:"America/New_York","united states":"America/New_York",uk:"Europe/London","united kingdom":"Europe/London",england:"Europe/London",france:"Europe/Paris",germany:"Europe/Berlin",italy:"Europe/Rome",spain:"Europe/Madrid",netherlands:"Europe/Amsterdam",switzerland:"Europe/Zurich",austria:"Europe/Vienna",belgium:"Europe/Brussels",sweden:"Europe/Stockholm",norway:"Europe/Oslo",denmark:"Europe/Copenhagen",finland:"Europe/Helsinki",ireland:"Europe/Dublin",portugal:"Europe/Lisbon",greece:"Europe/Athens",poland:"Europe/Warsaw",japan:"Asia/Tokyo","south korea":"Asia/Seoul",korea:"Asia/Seoul",china:"Asia/Shanghai",india:"Asia/Kolkata",australia:"Australia/Sydney",canada:"America/Toronto",mexico:"America/Mexico_City",brazil:"America/Sao_Paulo",argentina:"America/Argentina/Buenos_Aires",chile:"America/Santiago",peru:"America/Lima",colombia:"America/Bogota",venezuela:"America/Caracas","south africa":"Africa/Johannesburg",egypt:"Africa/Cairo",nigeria:"Africa/Lagos",kenya:"Africa/Nairobi",morocco:"Africa/Casablanca"};function N0(e){try{return new Intl.DateTimeFormat("en",{timeZone:e}),!0}catch{return!1}}function p_(e){var s,i,c,u,p;const t=(s=e.tags.find(m=>m[0]==="start_tzid"))==null?void 0:s[1];if(t&&N0(t))return console.debug(`Found start_tzid timezone: ${t}`),t;if(e.kind===31923){const m=(i=e.tags.find(S=>S[0]==="end_tzid"))==null?void 0:i[1];if(m&&N0(m))return console.debug(`Found end_tzid timezone: ${m}`),m;const y=(c=e.tags.find(S=>S[0]==="tzid"))==null?void 0:c[1];if(y&&N0(y))return console.debug(`Found tzid timezone: ${y}`),y;const g=(u=e.tags.find(S=>S[0]==="timezone"))==null?void 0:u[1];if(g&&N0(g))return console.debug(`Found timezone tag: ${g}`),g}const n=(p=e.tags.find(m=>m[0]==="location"))==null?void 0:p[1];if(!n)return console.debug("No timezone tags or location found for event"),null;const r=n.toLowerCase().trim();if(C0[r])return console.debug(`Detected timezone from location "${n}": ${C0[r]}`),C0[r];for(const[m,y]of Object.entries(C0))if(r.includes(m))return console.debug(`Detected timezone from location "${n}" (partial match "${m}"): ${y}`),y;return console.debug(`Could not detect timezone for location: ${n}`),null}function fo(e,t,n={}){const r=new Date(e),s={year:"numeric",month:"long",day:"numeric",...n};if(t)try{return r.toLocaleDateString(void 0,{...s,timeZone:t})}catch{console.warn(`Invalid timezone: ${t}, falling back to browser timezone`)}return r.toLocaleDateString(void 0,s)}function m_(e,t,n={}){const r=new Date(e),s={hour:"numeric",minute:"numeric",...n};if(t)try{return r.toLocaleTimeString(void 0,{...s,timeZone:t})}catch{console.warn(`Invalid timezone: ${t}, falling back to browser timezone`)}return r.toLocaleTimeString(void 0,s)}function $c(e,t=Date.now()){if(!e)return"";try{const s=new Intl.DateTimeFormat("en",{timeZone:e,timeZoneName:"short"}).formatToParts(new Date(t)).find(i=>i.type==="timeZoneName");return s?` ${s.value}`:""}catch{return console.warn(`Could not get timezone abbreviation for: ${e}`),""}}function vG(){var D;console.log("Home component rendering");const{data:e,isLoading:t,error:n}=IP(),{isMuted:r,isLoading:s}=LP(),[i,c]=_.useState(!1),[u,p]=_.useState(""),[m,y]=_.useState(void 0),[g,S]=_.useState([]),[k,T]=_.useState(!1),E=(D=e==null?void 0:e.filter(M=>{var te,ye,Te,Se;if(M.kind!==31922&&M.kind!==31923||!s&&r(M.pubkey))return!1;const z=(te=M.tags.find(_e=>_e[0]==="start"))==null?void 0:te[1],q=(ye=M.tags.find(_e=>_e[0]==="end"))==null?void 0:ye[1];if(!z)return!1;let Y,Z;if(M.kind===31922)try{if(z.match(/^\d{10}$/)){const _e=new Date(parseInt(z)*1e3);if(isNaN(_e.getTime()))return console.error("Invalid start date:",z),!1;if(Y=new Date(_e.getFullYear(),_e.getMonth(),_e.getDate(),0,0,0).getTime(),q!=null&&q.match(/^\d{10}$/)){const Le=new Date(parseInt(q)*1e3);if(isNaN(Le.getTime()))return console.error("Invalid end date:",q),!1;Z=new Date(Le.getFullYear(),Le.getMonth(),Le.getDate(),23,59,59,999).getTime()}else Z=new Date(_e.getFullYear(),_e.getMonth(),_e.getDate(),23,59,59,999).getTime()}else if(z.match(/^\d{13}$/)){const _e=new Date(parseInt(z));if(isNaN(_e.getTime()))return console.error("Invalid start date:",z),!1;if(Y=new Date(_e.getFullYear(),_e.getMonth(),_e.getDate(),0,0,0).getTime(),q!=null&&q.match(/^\d{13}$/)){const Le=new Date(parseInt(q));if(isNaN(Le.getTime()))return console.error("Invalid end date:",q),!1;Z=new Date(Le.getFullYear(),Le.getMonth(),Le.getDate(),23,59,59,999).getTime()}else Z=new Date(_e.getFullYear(),_e.getMonth(),_e.getDate(),23,59,59,999).getTime()}else{const[_e,Le,ge]=z.split("-").map(Number);if(isNaN(_e)||isNaN(Le)||isNaN(ge))return console.error("Invalid start date format:",z),!1;if(Y=new Date(_e,Le-1,ge,0,0,0).getTime(),q&&q!==z){const[de,Q,J]=q.split("-").map(Number);if(isNaN(de)||isNaN(Q)||isNaN(J))return console.error("Invalid end date format:",q),!1;Z=new Date(de,Q-1,J,23,59,59,999).getTime()}else Z=new Date(_e,Le-1,ge,23,59,59,999).getTime()}}catch(_e){return console.error("Error parsing dates:",_e,{startTime:z,endTime:q}),!1}else Y=parseInt(z)*1e3,q?Z=parseInt(q)*1e3:Z=Y+2*60*60*1e3;const ae=Date.now();if(!i&&Z<=ae||m!=null&&m.from&&Y<m.from.getTime()||m!=null&&m.to&&Y>m.to.getTime()||u&&!(((Se=(Te=M.tags.find(Le=>Le[0]==="location"))==null?void 0:Te[1])==null?void 0:Se.toLowerCase())||"").includes(u.toLowerCase()))return!1;if(g.length>0){const _e=M.tags.filter(ge=>ge[0]==="t").map(ge=>ge[1]);if(!g.some(ge=>_e.includes(ge)))return!1}return!0}))==null?void 0:D.sort((M,z)=>{const q=Y=>{var ae;const Z=(ae=Y.tags.find(te=>te[0]==="start"))==null?void 0:ae[1];if(!Z)return 0;if(Y.kind===31922)if(Z.match(/^\d{10}$/)){const te=new Date(parseInt(Z)*1e3);return new Date(te.getFullYear(),te.getMonth(),te.getDate(),0,0,0).getTime()}else if(Z.match(/^\d{13}$/)){const te=new Date(parseInt(Z));return new Date(te.getFullYear(),te.getMonth(),te.getDate(),0,0,0).getTime()}else{const[te,ye,Te]=Z.split("-").map(Number);return isNaN(te)||isNaN(ye)||isNaN(Te)?0:new Date(te,ye-1,Te,0,0,0).getTime()}else return parseInt(Z)*1e3};return q(M)-q(z)}),N=()=>{c(!1),p(""),y(void 0),S([])},O=u||m||i||g.length>0;return _.useEffect(()=>{console.log("Home component mounted"),console.log("Events state:",{events:e,isLoading:t,error:n})},[e,t,n]),t||s?(console.log("Loading events..."),d.jsx(dK,{})):n?(console.error("Error loading events:",n),d.jsxs("div",{children:["Error loading events: ",n.message]})):(console.log("Rendering events:",E),d.jsxs("div",{className:"container px-0 sm:px-4 py-2 sm:py-6 space-y-3 sm:space-y-6",children:[d.jsxs("div",{className:"px-3 sm:px-0",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"Discover Events"}),d.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:"Where people and purpose intertwine"})]}),d.jsx(qr,{className:"rounded-none sm:rounded-lg",children:d.jsxs(pE,{open:k,onOpenChange:T,className:"w-full",children:[d.jsx(mE,{asChild:!0,children:d.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 cursor-pointer hover:bg-muted/50 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(lU,{className:"h-4 w-4"}),d.jsx("span",{className:"font-medium",children:"Filters"}),O&&d.jsx(Vi,{variant:"secondary",className:"ml-2",children:"Active"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[O&&d.jsxs(Pt,{variant:"ghost",size:"sm",onClick:M=>{M.stopPropagation(),N()},className:"h-8 px-2",children:[d.jsx(Yx,{className:"h-4 w-4 mr-1"}),"Clear"]}),d.jsx(Dm,{className:ze("h-4 w-4 transition-transform duration-200",k&&"transform rotate-180")})]})]})}),d.jsx(gE,{children:d.jsx(Kr,{className:"p-3 sm:p-4 pt-0 space-y-3 sm:space-y-4",children:d.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(gS,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),d.jsx(Rs,{placeholder:"Filter by location...",value:u,onChange:M=>p(M.target.value),className:"pl-8"})]})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ln,{className:"text-sm font-medium",children:"Categories"}),d.jsx("div",{className:"flex flex-wrap gap-1 sm:gap-2 max-h-32 overflow-y-auto",children:yO.map(M=>d.jsx(Pt,{variant:g.includes(M)?"default":"outline",size:"sm",className:"h-auto py-1 px-2 text-xs",onClick:()=>{g.includes(M)?S(g.filter(z=>z!==M)):S([...g,M])},children:M},M))}),g.length>0&&d.jsxs("div",{className:"text-xs text-muted-foreground",children:[g.length," category(s) selected"]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[d.jsx("div",{className:"flex gap-2",children:d.jsxs(cE,{children:[d.jsx(uE,{asChild:!0,children:d.jsxs(Pt,{variant:"outline",className:ze("justify-start text-left font-normal",!(m!=null&&m.from)&&"text-muted-foreground"),children:[d.jsx(pS,{className:"mr-2 h-4 w-4"}),m!=null&&m.from?m.to?d.jsxs(d.Fragment,{children:[Ml(m.from,"LLL dd, y")," -"," ",Ml(m.to,"LLL dd, y")]}):Ml(m.from,"LLL dd, y"):d.jsx("span",{children:"Pick a date range"})]})}),d.jsx(Ew,{className:"w-auto p-0",align:"start",children:d.jsx(Cm,{initialFocus:!0,mode:"range",defaultMonth:m==null?void 0:m.from,selected:m,onSelect:y,numberOfMonths:2})})]})}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(hx,{id:"past-events",checked:i,onCheckedChange:c}),d.jsx(Ln,{htmlFor:"past-events",children:"Show past events"})]})]})]})})})]})}),(E==null?void 0:E.length)===0?d.jsx("div",{className:"text-center py-8 sm:py-12",children:d.jsx("p",{className:"text-muted-foreground",children:"No events found"})}):d.jsx("div",{className:"grid gap-3 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:E==null?void 0:E.map(M=>{var Te,Se,_e,Le;const z=((Te=M.tags.find(ge=>ge[0]==="title"))==null?void 0:Te[1])||"Untitled",q=M.content,Y=(Se=M.tags.find(ge=>ge[0]==="start"))==null?void 0:Se[1],Z=(_e=M.tags.find(ge=>ge[0]==="location"))==null?void 0:_e[1],ae=(Le=M.tags.find(ge=>ge[0]==="image"))==null?void 0:Le[1],te=zv(M),ye=p_(M);return d.jsx(Pl,{to:`/event/${te}`,children:d.jsxs(qr,{className:"h-full transition-colors hover:bg-muted/50 overflow-hidden rounded-none sm:rounded-lg",children:[ae&&d.jsx("div",{className:"aspect-video w-full overflow-hidden",children:d.jsx("img",{src:ae,alt:z,className:"w-full h-full object-cover"})}),d.jsxs(gh,{className:"p-3 sm:p-6",children:[d.jsx(Hm,{className:"text-lg sm:text-xl line-clamp-2",children:z}),Y&&d.jsx(eE,{className:"text-sm",children:M.kind===31922?(()=>{var ge;try{let me;if(Y.match(/^\d{10}$/))me=new Date(parseInt(Y)*1e3);else if(Y.match(/^\d{13}$/))me=new Date(parseInt(Y));else{const[Q,J,xe]=Y.split("-").map(Number);if(isNaN(Q)||isNaN(J)||isNaN(xe))throw new Error("Invalid date format");me=new Date(Q,J-1,xe)}if(isNaN(me.getTime()))return console.error("Invalid date:",Y),"Invalid date";const de=(ge=M.tags.find(Q=>Q[0]==="end"))==null?void 0:ge[1];if(de&&de!==Y){let Q;if(de.match(/^\d{10}$/))Q=new Date(parseInt(de)*1e3);else if(de.match(/^\d{13}$/))Q=new Date(parseInt(de));else{const[J,xe,K]=de.split("-").map(Number);!isNaN(J)&&!isNaN(xe)&&!isNaN(K)&&(Q=new Date(J,xe-1,K))}if(Q&&!isNaN(Q.getTime()))return me.toDateString()===Q.toDateString()?fo(me.getTime(),ye)+$c(ye,me.getTime()):`${fo(me.getTime(),ye)} - ${fo(Q.getTime(),ye)}`+$c(ye,me.getTime())}return fo(me.getTime(),ye)+$c(ye,me.getTime())}catch(me){return console.error("Error formatting date:",me),"Invalid date"}})():(()=>{var ge;try{const me=new Date(parseInt(Y)*1e3);if(isNaN(me.getTime()))return console.error("Invalid start date:",Y),"Invalid date";const de=(ge=M.tags.find(xe=>xe[0]==="end"))==null?void 0:ge[1],Q=$c(ye,me.getTime());if(de){const xe=new Date(parseInt(de)*1e3);if(!isNaN(xe.getTime())){const K=fo(me.getTime(),ye,{hour:"numeric",minute:"numeric"}),X=m_(xe.getTime(),ye);return`${K} - ${X}${Q}`}}return`${fo(me.getTime(),ye,{hour:"numeric",minute:"numeric"})}${Q}`}catch(me){return console.error("Error formatting date:",me),"Invalid date"}})()})]}),d.jsxs(Kr,{className:"p-3 sm:p-6 pt-0",children:[d.jsx("p",{className:"line-clamp-2 text-sm text-muted-foreground",children:q}),Z&&d.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["📍 ",Z]})]})]})},M.id)})})]}))}function md(e){return`${e.toLocaleString()} sats`}function yG(e){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)}function xO(){const{user:e}=lr(),{nostr:t}=Os();return{sendDirectMessage:async(r,s)=>{if(!(e!=null&&e.signer.nip44))throw new Error("Your signer does not support NIP-44 encryption");try{const i={kind:14,content:s,tags:[["p",r]],created_at:Math.floor(Date.now()/1e3),pubkey:e.pubkey},c={...i,id:Wp(i)},p={kind:13,content:await e.signer.nip44.encrypt(r,JSON.stringify(c)),tags:[],created_at:Math.floor(Date.now()/1e3),pubkey:e.pubkey},m=await e.signer.signEvent(p),y=Bx(),g=Om(y),S=Math.floor(Date.now()/1e3)-Math.floor(Math.random()*86400),k=Vp.v2.utils.getConversationKey(y,r),E={kind:1059,content:Vp.v2.encrypt(JSON.stringify(m),k),tags:[["p",r]],created_at:S,pubkey:g},N={...E,id:Wp(E)},O=Array.from(y).map(M=>M.toString(16).padStart(2,"0")).join(""),D=qi(N,O);await t.event(D,{signal:AbortSignal.timeout(5e3)}),It.success("Message sent successfully!")}catch(i){throw console.error("Error sending direct message:",i),It.error("Failed to send message. Please try again."),i}}}}function xG(e){const{sendDirectMessage:t}=xO(),n=async(s,i)=>{var p;const u=`📅 Event Reminder: ${((p=e.tags.find(m=>m[0]==="title"))==null?void 0:p[1])||"Event"}

${i}`;await t(s,u)};return{sendReminder:n,sendBulkReminders:async(s,i)=>{await Promise.all(s.map(c=>n(c,i)))}}}const zl=_.forwardRef(({className:e,...t},n)=>d.jsx("textarea",{className:ze("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));zl.displayName="Textarea";function wG({event:e,isHost:t,participants:n}){const[r,s]=_.useState(!1),[i,c]=_.useState(""),[u,p]=_.useState(!1),{sendBulkReminders:m}=xG(e);if(!t||n.length===0)return null;const y=async()=>{if(!i.trim()){It.error("Please enter a message");return}p(!0);try{await m(n,i),It.success("Reminders sent successfully"),s(!1),c("")}catch(g){It.error("Failed to send reminders"),console.error("Error sending reminders:",g)}finally{p(!1)}};return d.jsxs("div",{className:"border-t pt-4",children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Send Reminders"}),d.jsxs(jd,{open:r,onOpenChange:s,children:[d.jsx(nw,{asChild:!0,children:d.jsx(Pt,{variant:"outline",children:"Send Reminders"})}),d.jsxs(eu,{children:[d.jsx(tu,{children:d.jsx(nu,{children:"Send Reminders to Participants"})}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ln,{htmlFor:"message",children:"Message"}),d.jsx(zl,{id:"message",value:i,onChange:g=>c(g.target.value),placeholder:"Enter your reminder message",rows:4})]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["This message will be sent to ",n.length," participant",n.length!==1?"s":""]}),d.jsx(Pt,{onClick:y,disabled:!i.trim()||u,children:u?"Sending...":"Send Reminders"})]})]})]})]})}var bG=[" ","Enter","ArrowUp","ArrowDown"],_G=[" ","Enter"],ah="Select",[Cw,Nw,SG]=bS(ah),[qm,OX]=vo(ah,[SG,Td]),jw=Td(),[EG,Pd]=qm(ah),[kG,CG]=qm(ah),wO=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:c,defaultValue:u,onValueChange:p,dir:m,name:y,autoComplete:g,disabled:S,required:k,form:T}=e,E=jw(t),[N,O]=_.useState(null),[D,M]=_.useState(null),[z,q]=_.useState(!1),Y=iy(m),[Z,ae]=Oa({prop:r,defaultProp:s??!1,onChange:i,caller:ah}),[te,ye]=Oa({prop:c,defaultProp:u,onChange:p,caller:ah}),Te=_.useRef(null),Se=N?T||!!N.closest("form"):!0,[_e,Le]=_.useState(new Set),ge=Array.from(_e).map(me=>me.props.value).join(";");return d.jsx(cy,{...E,children:d.jsxs(EG,{required:k,scope:t,trigger:N,onTriggerChange:O,valueNode:D,onValueNodeChange:M,valueNodeHasChildren:z,onValueNodeHasChildrenChange:q,contentId:Fr(),value:te,onValueChange:ye,open:Z,onOpenChange:ae,dir:Y,triggerPointerDownPosRef:Te,disabled:S,children:[d.jsx(Cw.Provider,{scope:t,children:d.jsx(kG,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(me=>{Le(de=>new Set(de).add(me))},[]),onNativeOptionRemove:_.useCallback(me=>{Le(de=>{const Q=new Set(de);return Q.delete(me),Q})},[]),children:n})}),Se?d.jsxs(VO,{"aria-hidden":!0,required:k,tabIndex:-1,name:y,autoComplete:g,value:te,onChange:me=>ye(me.target.value),disabled:S,form:T,children:[te===void 0?d.jsx("option",{value:""}):null,Array.from(_e)]},ge):null]})})};wO.displayName=ah;var bO="SelectTrigger",_O=_.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=jw(n),c=Pd(bO,n),u=c.disabled||r,p=dn(t,c.onTriggerChange),m=Nw(n),y=_.useRef("touch"),[g,S,k]=qO(E=>{const N=m().filter(M=>!M.disabled),O=N.find(M=>M.value===c.value),D=KO(N,E,O);D!==void 0&&c.onValueChange(D.value)}),T=E=>{u||(c.onOpenChange(!0),k()),E&&(c.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return d.jsx(uy,{asChild:!0,...i,children:d.jsx(kt.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":HO(c.value)?"":void 0,...s,ref:p,onClick:ft(s.onClick,E=>{E.currentTarget.focus(),y.current!=="mouse"&&T(E)}),onPointerDown:ft(s.onPointerDown,E=>{y.current=E.pointerType;const N=E.target;N.hasPointerCapture(E.pointerId)&&N.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(T(E),E.preventDefault())}),onKeyDown:ft(s.onKeyDown,E=>{const N=g.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&S(E.key),!(N&&E.key===" ")&&bG.includes(E.key)&&(T(),E.preventDefault())})})})});_O.displayName=bO;var SO="SelectValue",EO=_.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:c="",...u}=e,p=Pd(SO,n),{onValueNodeHasChildrenChange:m}=p,y=i!==void 0,g=dn(t,p.onValueNodeChange);return Br(()=>{m(y)},[m,y]),d.jsx(kt.span,{...u,ref:g,style:{pointerEvents:"none"},children:HO(p.value)?d.jsx(d.Fragment,{children:c}):i})});EO.displayName=SO;var NG="SelectIcon",kO=_.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return d.jsx(kt.span,{"aria-hidden":!0,...s,ref:t,children:r||"▼"})});kO.displayName=NG;var jG="SelectPortal",CO=e=>d.jsx(ny,{asChild:!0,...e});CO.displayName=jG;var lh="SelectContent",NO=_.forwardRef((e,t)=>{const n=Pd(lh,e.__scopeSelect),[r,s]=_.useState();if(Br(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Gv.createPortal(d.jsx(jO,{scope:e.__scopeSelect,children:d.jsx(Cw.Slot,{scope:e.__scopeSelect,children:d.jsx("div",{children:e.children})})}),i):null}return d.jsx(TO,{...e,ref:t})});NO.displayName=lh;var wa=10,[jO,Od]=qm(lh),TG="SelectContentImpl",AG=bd("SelectContent.RemoveScroll"),TO=_.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:c,side:u,sideOffset:p,align:m,alignOffset:y,arrowPadding:g,collisionBoundary:S,collisionPadding:k,sticky:T,hideWhenDetached:E,avoidCollisions:N,...O}=e,D=Pd(lh,n),[M,z]=_.useState(null),[q,Y]=_.useState(null),Z=dn(t,Me=>z(Me)),[ae,te]=_.useState(null),[ye,Te]=_.useState(null),Se=Nw(n),[_e,Le]=_.useState(!1),ge=_.useRef(!1);_.useEffect(()=>{if(M)return Qx(M)},[M]),Gx();const me=_.useCallback(Me=>{const[at,...Oe]=Se().map(ut=>ut.ref.current),[wt]=Oe.slice(-1),At=document.activeElement;for(const ut of Me)if(ut===At||(ut==null||ut.scrollIntoView({block:"nearest"}),ut===at&&q&&(q.scrollTop=0),ut===wt&&q&&(q.scrollTop=q.scrollHeight),ut==null||ut.focus(),document.activeElement!==At))return},[Se,q]),de=_.useCallback(()=>me([ae,M]),[me,ae,M]);_.useEffect(()=>{_e&&de()},[_e,de]);const{onOpenChange:Q,triggerPointerDownPosRef:J}=D;_.useEffect(()=>{if(M){let Me={x:0,y:0};const at=wt=>{var At,ut;Me={x:Math.abs(Math.round(wt.pageX)-(((At=J.current)==null?void 0:At.x)??0)),y:Math.abs(Math.round(wt.pageY)-(((ut=J.current)==null?void 0:ut.y)??0))}},Oe=wt=>{Me.x<=10&&Me.y<=10?wt.preventDefault():M.contains(wt.target)||Q(!1),document.removeEventListener("pointermove",at),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",at),document.addEventListener("pointerup",Oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",at),document.removeEventListener("pointerup",Oe,{capture:!0})}}},[M,Q,J]),_.useEffect(()=>{const Me=()=>Q(!1);return window.addEventListener("blur",Me),window.addEventListener("resize",Me),()=>{window.removeEventListener("blur",Me),window.removeEventListener("resize",Me)}},[Q]);const[xe,K]=qO(Me=>{const at=Se().filter(At=>!At.disabled),Oe=at.find(At=>At.ref.current===document.activeElement),wt=KO(at,Me,Oe);wt&&setTimeout(()=>wt.ref.current.focus())}),X=_.useCallback((Me,at,Oe)=>{const wt=!ge.current&&!Oe;(D.value!==void 0&&D.value===at||wt)&&(te(Me),wt&&(ge.current=!0))},[D.value]),Pe=_.useCallback(()=>M==null?void 0:M.focus(),[M]),Be=_.useCallback((Me,at,Oe)=>{const wt=!ge.current&&!Oe;(D.value!==void 0&&D.value===at||wt)&&Te(Me)},[D.value]),Fe=r==="popper"?g_:AO,Ze=Fe===g_?{side:u,sideOffset:p,align:m,alignOffset:y,arrowPadding:g,collisionBoundary:S,collisionPadding:k,sticky:T,hideWhenDetached:E,avoidCollisions:N}:{};return d.jsx(jO,{scope:n,content:M,viewport:q,onViewportChange:Y,itemRefCallback:X,selectedItem:ae,onItemLeave:Pe,itemTextRefCallback:Be,focusSelectedItem:de,selectedItemText:ye,position:r,isPositioned:_e,searchRef:xe,children:d.jsx(ry,{as:AG,allowPinchZoom:!0,children:d.jsx(ty,{asChild:!0,trapped:D.open,onMountAutoFocus:Me=>{Me.preventDefault()},onUnmountAutoFocus:ft(s,Me=>{var at;(at=D.trigger)==null||at.focus({preventScroll:!0}),Me.preventDefault()}),children:d.jsx(Lm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:Me=>Me.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:d.jsx(Fe,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:Me=>Me.preventDefault(),...O,...Ze,onPlaced:()=>Le(!0),ref:Z,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:ft(O.onKeyDown,Me=>{const at=Me.ctrlKey||Me.altKey||Me.metaKey;if(Me.key==="Tab"&&Me.preventDefault(),!at&&Me.key.length===1&&K(Me.key),["ArrowUp","ArrowDown","Home","End"].includes(Me.key)){let wt=Se().filter(At=>!At.disabled).map(At=>At.ref.current);if(["ArrowUp","End"].includes(Me.key)&&(wt=wt.slice().reverse()),["ArrowUp","ArrowDown"].includes(Me.key)){const At=Me.target,ut=wt.indexOf(At);wt=wt.slice(ut+1)}setTimeout(()=>me(wt)),Me.preventDefault()}})})})})})})});TO.displayName=TG;var RG="SelectItemAlignedPosition",AO=_.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Pd(lh,n),c=Od(lh,n),[u,p]=_.useState(null),[m,y]=_.useState(null),g=dn(t,Z=>y(Z)),S=Nw(n),k=_.useRef(!1),T=_.useRef(!0),{viewport:E,selectedItem:N,selectedItemText:O,focusSelectedItem:D}=c,M=_.useCallback(()=>{if(i.trigger&&i.valueNode&&u&&m&&E&&N&&O){const Z=i.trigger.getBoundingClientRect(),ae=m.getBoundingClientRect(),te=i.valueNode.getBoundingClientRect(),ye=O.getBoundingClientRect();if(i.dir!=="rtl"){const At=ye.left-ae.left,ut=te.left-At,Gt=Z.left-ut,nn=Z.width+Gt,On=Math.max(nn,ae.width),cr=window.innerWidth-wa,zn=l_(ut,[wa,Math.max(wa,cr-On)]);u.style.minWidth=nn+"px",u.style.left=zn+"px"}else{const At=ae.right-ye.right,ut=window.innerWidth-te.right-At,Gt=window.innerWidth-Z.right-ut,nn=Z.width+Gt,On=Math.max(nn,ae.width),cr=window.innerWidth-wa,zn=l_(ut,[wa,Math.max(wa,cr-On)]);u.style.minWidth=nn+"px",u.style.right=zn+"px"}const Te=S(),Se=window.innerHeight-wa*2,_e=E.scrollHeight,Le=window.getComputedStyle(m),ge=parseInt(Le.borderTopWidth,10),me=parseInt(Le.paddingTop,10),de=parseInt(Le.borderBottomWidth,10),Q=parseInt(Le.paddingBottom,10),J=ge+me+_e+Q+de,xe=Math.min(N.offsetHeight*5,J),K=window.getComputedStyle(E),X=parseInt(K.paddingTop,10),Pe=parseInt(K.paddingBottom,10),Be=Z.top+Z.height/2-wa,Fe=Se-Be,Ze=N.offsetHeight/2,Me=N.offsetTop+Ze,at=ge+me+Me,Oe=J-at;if(at<=Be){const At=Te.length>0&&N===Te[Te.length-1].ref.current;u.style.bottom="0px";const ut=m.clientHeight-E.offsetTop-E.offsetHeight,Gt=Math.max(Fe,Ze+(At?Pe:0)+ut+de),nn=at+Gt;u.style.height=nn+"px"}else{const At=Te.length>0&&N===Te[0].ref.current;u.style.top="0px";const Gt=Math.max(Be,ge+E.offsetTop+(At?X:0)+Ze)+Oe;u.style.height=Gt+"px",E.scrollTop=at-Be+E.offsetTop}u.style.margin=`${wa}px 0`,u.style.minHeight=xe+"px",u.style.maxHeight=Se+"px",r==null||r(),requestAnimationFrame(()=>k.current=!0)}},[S,i.trigger,i.valueNode,u,m,E,N,O,i.dir,r]);Br(()=>M(),[M]);const[z,q]=_.useState();Br(()=>{m&&q(window.getComputedStyle(m).zIndex)},[m]);const Y=_.useCallback(Z=>{Z&&T.current===!0&&(M(),D==null||D(),T.current=!1)},[M,D]);return d.jsx(OG,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:k,onScrollButtonChange:Y,children:d.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:d.jsx(kt.div,{...s,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});AO.displayName=RG;var PG="SelectPopperPosition",g_=_.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=wa,...i}=e,c=jw(n);return d.jsx(uw,{...c,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});g_.displayName=PG;var[OG,vE]=qm(lh,{}),v_="SelectViewport",RO=_.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Od(v_,n),c=vE(v_,n),u=dn(t,i.onViewportChange),p=_.useRef(0);return d.jsxs(d.Fragment,{children:[d.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),d.jsx(Cw.Slot,{scope:n,children:d.jsx(kt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ft(s.onScroll,m=>{const y=m.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:S}=c;if(S!=null&&S.current&&g){const k=Math.abs(p.current-y.scrollTop);if(k>0){const T=window.innerHeight-wa*2,E=parseFloat(g.style.minHeight),N=parseFloat(g.style.height),O=Math.max(E,N);if(O<T){const D=O+k,M=Math.min(T,D),z=D-M;g.style.height=M+"px",g.style.bottom==="0px"&&(y.scrollTop=z>0?z:0,g.style.justifyContent="flex-end")}}}p.current=y.scrollTop})})})]})});RO.displayName=v_;var PO="SelectGroup",[DG,MG]=qm(PO),IG=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Fr();return d.jsx(DG,{scope:n,id:s,children:d.jsx(kt.div,{role:"group","aria-labelledby":s,...r,ref:t})})});IG.displayName=PO;var OO="SelectLabel",DO=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=MG(OO,n);return d.jsx(kt.div,{id:s.id,...r,ref:t})});DO.displayName=OO;var mx="SelectItem",[LG,MO]=qm(mx),IO=_.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...c}=e,u=Pd(mx,n),p=Od(mx,n),m=u.value===r,[y,g]=_.useState(i??""),[S,k]=_.useState(!1),T=dn(t,D=>{var M;return(M=p.itemRefCallback)==null?void 0:M.call(p,D,r,s)}),E=Fr(),N=_.useRef("touch"),O=()=>{s||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return d.jsx(LG,{scope:n,value:r,disabled:s,textId:E,isSelected:m,onItemTextChange:_.useCallback(D=>{g(M=>M||((D==null?void 0:D.textContent)??"").trim())},[]),children:d.jsx(Cw.ItemSlot,{scope:n,value:r,disabled:s,textValue:y,children:d.jsx(kt.div,{role:"option","aria-labelledby":E,"data-highlighted":S?"":void 0,"aria-selected":m&&S,"data-state":m?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...c,ref:T,onFocus:ft(c.onFocus,()=>k(!0)),onBlur:ft(c.onBlur,()=>k(!1)),onClick:ft(c.onClick,()=>{N.current!=="mouse"&&O()}),onPointerUp:ft(c.onPointerUp,()=>{N.current==="mouse"&&O()}),onPointerDown:ft(c.onPointerDown,D=>{N.current=D.pointerType}),onPointerMove:ft(c.onPointerMove,D=>{var M;N.current=D.pointerType,s?(M=p.onItemLeave)==null||M.call(p):N.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ft(c.onPointerLeave,D=>{var M;D.currentTarget===document.activeElement&&((M=p.onItemLeave)==null||M.call(p))}),onKeyDown:ft(c.onKeyDown,D=>{var z;((z=p.searchRef)==null?void 0:z.current)!==""&&D.key===" "||(_G.includes(D.key)&&O(),D.key===" "&&D.preventDefault())})})})})});IO.displayName=mx;var fv="SelectItemText",LO=_.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,c=Pd(fv,n),u=Od(fv,n),p=MO(fv,n),m=CG(fv,n),[y,g]=_.useState(null),S=dn(t,O=>g(O),p.onItemTextChange,O=>{var D;return(D=u.itemTextRefCallback)==null?void 0:D.call(u,O,p.value,p.disabled)}),k=y==null?void 0:y.textContent,T=_.useMemo(()=>d.jsx("option",{value:p.value,disabled:p.disabled,children:k},p.value),[p.disabled,p.value,k]),{onNativeOptionAdd:E,onNativeOptionRemove:N}=m;return Br(()=>(E(T),()=>N(T)),[E,N,T]),d.jsxs(d.Fragment,{children:[d.jsx(kt.span,{id:p.textId,...i,ref:S}),p.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Gv.createPortal(i.children,c.valueNode):null]})});LO.displayName=fv;var FO="SelectItemIndicator",$O=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return MO(FO,n).isSelected?d.jsx(kt.span,{"aria-hidden":!0,...r,ref:t}):null});$O.displayName=FO;var y_="SelectScrollUpButton",BO=_.forwardRef((e,t)=>{const n=Od(y_,e.__scopeSelect),r=vE(y_,e.__scopeSelect),[s,i]=_.useState(!1),c=dn(t,r.onScrollButtonChange);return Br(()=>{if(n.viewport&&n.isPositioned){let u=function(){const m=p.scrollTop>0;i(m)};const p=n.viewport;return u(),p.addEventListener("scroll",u),()=>p.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?d.jsx(zO,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:p}=n;u&&p&&(u.scrollTop=u.scrollTop-p.offsetHeight)}}):null});BO.displayName=y_;var x_="SelectScrollDownButton",UO=_.forwardRef((e,t)=>{const n=Od(x_,e.__scopeSelect),r=vE(x_,e.__scopeSelect),[s,i]=_.useState(!1),c=dn(t,r.onScrollButtonChange);return Br(()=>{if(n.viewport&&n.isPositioned){let u=function(){const m=p.scrollHeight-p.clientHeight,y=Math.ceil(p.scrollTop)<m;i(y)};const p=n.viewport;return u(),p.addEventListener("scroll",u),()=>p.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?d.jsx(zO,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:p}=n;u&&p&&(u.scrollTop=u.scrollTop+p.offsetHeight)}}):null});UO.displayName=x_;var zO=_.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Od("SelectScrollButton",n),c=_.useRef(null),u=Nw(n),p=_.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return _.useEffect(()=>()=>p(),[p]),Br(()=>{var y;const m=u().find(g=>g.ref.current===document.activeElement);(y=m==null?void 0:m.ref.current)==null||y.scrollIntoView({block:"nearest"})},[u]),d.jsx(kt.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ft(s.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:ft(s.onPointerMove,()=>{var m;(m=i.onItemLeave)==null||m.call(i),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:ft(s.onPointerLeave,()=>{p()})})}),FG="SelectSeparator",WO=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return d.jsx(kt.div,{"aria-hidden":!0,...r,ref:t})});WO.displayName=FG;var w_="SelectArrow",$G=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=jw(n),i=Pd(w_,n),c=Od(w_,n);return i.open&&c.position==="popper"?d.jsx(dw,{...s,...r,ref:t}):null});$G.displayName=w_;var BG="SelectBubbleInput",VO=_.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=_.useRef(null),i=dn(r,s),c=FP(t);return _.useEffect(()=>{const u=s.current;if(!u)return;const p=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(p,"value").set;if(c!==t&&y){const g=new Event("change",{bubbles:!0});y.call(u,t),u.dispatchEvent(g)}},[c,t]),d.jsx(kt.select,{...n,style:{...mP,...n.style},ref:i,defaultValue:t})});VO.displayName=BG;function HO(e){return e===""||e===void 0}function qO(e){const t=ss(e),n=_.useRef(""),r=_.useRef(0),s=_.useCallback(c=>{const u=n.current+c;t(u),function p(m){n.current=m,window.clearTimeout(r.current),m!==""&&(r.current=window.setTimeout(()=>p(""),1e3))}(u)},[t]),i=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function KO(e,t,n){const s=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let c=UG(e,Math.max(i,0));s.length===1&&(c=c.filter(m=>m!==n));const p=c.find(m=>m.textValue.toLowerCase().startsWith(s.toLowerCase()));return p!==n?p:void 0}function UG(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var zG=wO,YO=_O,WG=EO,VG=kO,HG=CO,GO=NO,qG=RO,ZO=DO,QO=IO,KG=LO,YG=$O,XO=BO,JO=UO,eD=WO;const yE=zG,xE=WG,Tw=_.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(YO,{ref:r,className:ze("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,d.jsx(VG,{asChild:!0,children:d.jsx(Dm,{className:"h-4 w-4 opacity-50"})})]}));Tw.displayName=YO.displayName;const tD=_.forwardRef(({className:e,...t},n)=>d.jsx(XO,{ref:n,className:ze("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(rU,{className:"h-4 w-4"})}));tD.displayName=XO.displayName;const nD=_.forwardRef(({className:e,...t},n)=>d.jsx(JO,{ref:n,className:ze("flex cursor-default items-center justify-center py-1",e),...t,children:d.jsx(Dm,{className:"h-4 w-4"})}));nD.displayName=JO.displayName;const Aw=_.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>d.jsx(HG,{children:d.jsxs(GO,{ref:s,className:ze("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[d.jsx(tD,{}),d.jsx(qG,{className:ze("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),d.jsx(nD,{})]})}));Aw.displayName=GO.displayName;const GG=_.forwardRef(({className:e,...t},n)=>d.jsx(ZO,{ref:n,className:ze("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));GG.displayName=ZO.displayName;const Zp=_.forwardRef(({className:e,children:t,...n},r)=>d.jsxs(QO,{ref:r,className:ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[d.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:d.jsx(YG,{children:d.jsx(mS,{className:"h-4 w-4"})})}),d.jsx(KG,{children:t})]}));Zp.displayName=QO.displayName;const ZG=_.forwardRef(({className:e,...t},n)=>d.jsx(eD,{ref:n,className:ze("-mx-1 my-1 h-px bg-muted",e),...t}));ZG.displayName=eD.displayName;function i1({pubkeys:e,maxVisible:t=3}){const n=e.slice(0,t),r=Math.max(0,e.length-t);return d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"flex -space-x-2",children:n.map(s=>d.jsx(QG,{pubkey:s},s))}),r>0&&d.jsxs("span",{className:"text-sm text-muted-foreground",children:["and ",r," ",r===1?"other":"others"]})]})}function QG({pubkey:e}){var s,i;const{data:t}=Jc(e),n=((s=t==null?void 0:t.metadata)==null?void 0:s.name)??MR(e),r=(i=t==null?void 0:t.metadata)==null?void 0:i.picture;return d.jsx(kP,{children:d.jsxs(CP,{children:[d.jsx(NP,{asChild:!0,children:d.jsxs(ja,{className:"h-8 w-8 border-2 border-background",children:[d.jsx(Ta,{src:r,alt:n}),d.jsx(Aa,{children:n.slice(0,2).toUpperCase()})]})}),d.jsx(JS,{children:d.jsx("p",{children:n})})]})})}var rD="AlertDialog",[XG,DX]=vo(rD,[bT]),ru=bT(),sD=e=>{const{__scopeAlertDialog:t,...n}=e,r=ru(t);return d.jsx(Jx,{...r,...n,modal:!0})};sD.displayName=rD;var JG="AlertDialogTrigger",oD=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ru(n);return d.jsx(LT,{...s,...r,ref:t})});oD.displayName=JG;var eZ="AlertDialogPortal",iD=e=>{const{__scopeAlertDialog:t,...n}=e,r=ru(t);return d.jsx(ew,{...r,...n})};iD.displayName=eZ;var tZ="AlertDialogOverlay",aD=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ru(n);return d.jsx(Fm,{...s,...r,ref:t})});aD.displayName=tZ;var Qp="AlertDialogContent",[nZ,rZ]=XG(Qp),sZ=eT("AlertDialogContent"),lD=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=ru(n),c=_.useRef(null),u=dn(t,c),p=_.useRef(null);return d.jsx(Ez,{contentName:Qp,titleName:cD,docsSlug:"alert-dialog",children:d.jsx(nZ,{scope:n,cancelRef:p,children:d.jsxs($m,{role:"alertdialog",...i,...s,ref:u,onOpenAutoFocus:ft(s.onOpenAutoFocus,m=>{var y;m.preventDefault(),(y=p.current)==null||y.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[d.jsx(sZ,{children:r}),d.jsx(iZ,{contentRef:c})]})})})});lD.displayName=Qp;var cD="AlertDialogTitle",uD=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ru(n);return d.jsx(sy,{...s,...r,ref:t})});uD.displayName=cD;var dD="AlertDialogDescription",fD=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ru(n);return d.jsx(oy,{...s,...r,ref:t})});fD.displayName=dD;var oZ="AlertDialogAction",hD=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ru(n);return d.jsx(tw,{...s,...r,ref:t})});hD.displayName=oZ;var pD="AlertDialogCancel",mD=_.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=rZ(pD,n),i=ru(n),c=dn(t,s);return d.jsx(tw,{...i,...r,ref:c})});mD.displayName=pD;var iZ=({contentRef:e})=>{const t=`\`${Qp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Qp}\` by passing a \`${dD}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Qp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},aZ=sD,lZ=oD,cZ=iD,gD=aD,vD=lD,yD=hD,xD=mD,wD=uD,bD=fD;const b_=aZ,uZ=lZ,dZ=cZ,_D=_.forwardRef(({className:e,...t},n)=>d.jsx(gD,{className:ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));_D.displayName=gD.displayName;const gx=_.forwardRef(({className:e,...t},n)=>d.jsxs(dZ,{children:[d.jsx(_D,{}),d.jsx(vD,{ref:n,className:ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));gx.displayName=vD.displayName;const vx=({className:e,...t})=>d.jsx("div",{className:ze("flex flex-col space-y-2 text-center sm:text-left",e),...t});vx.displayName="AlertDialogHeader";const yx=({className:e,...t})=>d.jsx("div",{className:ze("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});yx.displayName="AlertDialogFooter";const xx=_.forwardRef(({className:e,...t},n)=>d.jsx(wD,{ref:n,className:ze("text-lg font-semibold",e),...t}));xx.displayName=wD.displayName;const wx=_.forwardRef(({className:e,...t},n)=>d.jsx(bD,{ref:n,className:ze("text-sm text-muted-foreground",e),...t}));wx.displayName=bD.displayName;const bx=_.forwardRef(({className:e,...t},n)=>d.jsx(yD,{ref:n,className:ze(Iv(),e),...t}));bx.displayName=yD.displayName;const _x=_.forwardRef(({className:e,...t},n)=>d.jsx(xD,{ref:n,className:ze(Iv({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));_x.displayName=xD.displayName;function fZ({eventId:e,eventKind:t,onDeleted:n}){const{user:r}=lr(),{mutate:s}=Ed(),[i,c]=_.useState(!1),[u,p]=_.useState(""),m=async()=>{if(r){c(!0);try{await s({kind:5,content:u||"Event deleted by author",tags:[["e",e],["k",t.toString()]]}),It.success("Event deleted successfully"),n==null||n()}catch(y){It.error("Failed to delete event"),console.error("Error deleting event:",y)}finally{c(!1)}}};return r?d.jsxs(b_,{children:[d.jsx(uZ,{asChild:!0,children:d.jsx(Pt,{variant:"destructive",size:"sm",children:"Delete Event"})}),d.jsxs(gx,{children:[d.jsxs(vx,{children:[d.jsx(xx,{children:"Delete Event"}),d.jsx(wx,{children:"Are you sure you want to delete this event? This action cannot be undone."})]}),d.jsx("div",{className:"py-4",children:d.jsx(zl,{placeholder:"Reason for deletion (optional)",value:u,onChange:y=>p(y.target.value),className:"mb-4"})}),d.jsxs(yx,{children:[d.jsx(_x,{children:"Cancel"}),d.jsx(bx,{onClick:m,disabled:i,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:i?"Deleting...":"Delete"})]})]})]}):null}function Sx({value:e,onChange:t,className:n}){const[r,s]=_.useState([]),[i,c]=_.useState([]),[u,p]=_.useState(null),[m,y]=_.useState(null),[g,S]=_.useState(!1);_.useEffect(()=>{s(Array.from({length:24},(E,N)=>N)),c(Array.from({length:60},(E,N)=>N))},[]),_.useEffect(()=>{if(e){const[E,N]=e.split(":").map(Number);p(E),y(N)}},[e]);const k=E=>{p(E),m!==null&&t(`${E.toString().padStart(2,"0")}:${m.toString().padStart(2,"0")}`)},T=E=>{y(E),u!==null&&t(`${u.toString().padStart(2,"0")}:${E.toString().padStart(2,"0")}`)};return d.jsx("div",{className:ze("grid gap-2",n),children:d.jsxs(cE,{open:g,onOpenChange:S,children:[d.jsx(uE,{asChild:!0,children:d.jsxs(Pt,{variant:"outline",className:ze("w-full justify-start text-left font-normal",!e&&"text-muted-foreground"),children:[d.jsx(Yj,{className:"mr-2 h-4 w-4"}),e||d.jsx("span",{children:"Pick a time"})]})}),d.jsx(Ew,{className:"w-auto p-0",align:"start",children:d.jsx("div",{className:"p-2",children:d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ln,{children:"Hours"}),d.jsx("div",{className:"grid grid-cols-4 gap-1 max-h-[200px] overflow-y-auto",children:r.map(E=>d.jsx(Pt,{variant:u===E?"default":"outline",className:"h-8 w-8 p-0",onClick:()=>k(E),children:E.toString().padStart(2,"0")},E))})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ln,{children:"Minutes"}),d.jsx("div",{className:"grid grid-cols-4 gap-1 max-h-[200px] overflow-y-auto",children:i.map(E=>d.jsx(Pt,{variant:m===E?"default":"outline",className:"h-8 w-8 p-0",onClick:()=>T(E),children:E.toString().padStart(2,"0")},E))})]})]})})})]})})}var LC=1,hZ=.9,pZ=.8,mZ=.17,a1=.1,l1=.999,gZ=.9999,vZ=.99,yZ=/[\\\/_+.#"@\[\(\{&]/,xZ=/[\\\/_+.#"@\[\(\{&]/g,wZ=/[\s-]/,SD=/[\s-]/g;function __(e,t,n,r,s,i,c){if(i===t.length)return s===e.length?LC:vZ;var u=`${s},${i}`;if(c[u]!==void 0)return c[u];for(var p=r.charAt(i),m=n.indexOf(p,s),y=0,g,S,k,T;m>=0;)g=__(e,t,n,r,m+1,i+1,c),g>y&&(m===s?g*=LC:yZ.test(e.charAt(m-1))?(g*=pZ,k=e.slice(s,m-1).match(xZ),k&&s>0&&(g*=Math.pow(l1,k.length))):wZ.test(e.charAt(m-1))?(g*=hZ,T=e.slice(s,m-1).match(SD),T&&s>0&&(g*=Math.pow(l1,T.length))):(g*=mZ,s>0&&(g*=Math.pow(l1,m-s))),e.charAt(m)!==t.charAt(i)&&(g*=gZ)),(g<a1&&n.charAt(m-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(m-1)!==r.charAt(i))&&(S=__(e,t,n,r,m+1,i+2,c),S*a1>g&&(g=S*a1)),g>y&&(y=g),m=n.indexOf(p,m+1);return c[u]=y,y}function FC(e){return e.toLowerCase().replace(SD," ")}function bZ(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,__(e,t,FC(e),FC(t),0,0,{})}var rv='[cmdk-group=""]',c1='[cmdk-group-items=""]',_Z='[cmdk-group-heading=""]',ED='[cmdk-item=""]',$C=`${ED}:not([aria-disabled="true"])`,S_="cmdk-item-select",Fp="data-value",SZ=(e,t,n)=>bZ(e,t,n),kD=_.createContext(void 0),yy=()=>_.useContext(kD),CD=_.createContext(void 0),wE=()=>_.useContext(CD),ND=_.createContext(void 0),jD=_.forwardRef((e,t)=>{let n=$p(()=>{var X,Pe;return{search:"",value:(Pe=(X=e.value)!=null?X:e.defaultValue)!=null?Pe:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=$p(()=>new Set),s=$p(()=>new Map),i=$p(()=>new Map),c=$p(()=>new Set),u=TD(e),{label:p,children:m,value:y,onValueChange:g,filter:S,shouldFilter:k,loop:T,disablePointerSelection:E=!1,vimBindings:N=!0,...O}=e,D=Fr(),M=Fr(),z=Fr(),q=_.useRef(null),Y=DZ();ch(()=>{if(y!==void 0){let X=y.trim();n.current.value=X,Z.emit()}},[y]),ch(()=>{Y(6,_e)},[]);let Z=_.useMemo(()=>({subscribe:X=>(c.current.add(X),()=>c.current.delete(X)),snapshot:()=>n.current,setState:(X,Pe,Be)=>{var Fe,Ze,Me,at;if(!Object.is(n.current[X],Pe)){if(n.current[X]=Pe,X==="search")Se(),ye(),Y(1,Te);else if(X==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Oe=document.getElementById(z);Oe?Oe.focus():(Fe=document.getElementById(D))==null||Fe.focus()}if(Y(7,()=>{var Oe;n.current.selectedItemId=(Oe=Le())==null?void 0:Oe.id,Z.emit()}),Be||Y(5,_e),((Ze=u.current)==null?void 0:Ze.value)!==void 0){let Oe=Pe??"";(at=(Me=u.current).onValueChange)==null||at.call(Me,Oe);return}}Z.emit()}},emit:()=>{c.current.forEach(X=>X())}}),[]),ae=_.useMemo(()=>({value:(X,Pe,Be)=>{var Fe;Pe!==((Fe=i.current.get(X))==null?void 0:Fe.value)&&(i.current.set(X,{value:Pe,keywords:Be}),n.current.filtered.items.set(X,te(Pe,Be)),Y(2,()=>{ye(),Z.emit()}))},item:(X,Pe)=>(r.current.add(X),Pe&&(s.current.has(Pe)?s.current.get(Pe).add(X):s.current.set(Pe,new Set([X]))),Y(3,()=>{Se(),ye(),n.current.value||Te(),Z.emit()}),()=>{i.current.delete(X),r.current.delete(X),n.current.filtered.items.delete(X);let Be=Le();Y(4,()=>{Se(),(Be==null?void 0:Be.getAttribute("id"))===X&&Te(),Z.emit()})}),group:X=>(s.current.has(X)||s.current.set(X,new Set),()=>{i.current.delete(X),s.current.delete(X)}),filter:()=>u.current.shouldFilter,label:p||e["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:D,inputId:z,labelId:M,listInnerRef:q}),[]);function te(X,Pe){var Be,Fe;let Ze=(Fe=(Be=u.current)==null?void 0:Be.filter)!=null?Fe:SZ;return X?Ze(X,n.current.search,Pe):0}function ye(){if(!n.current.search||u.current.shouldFilter===!1)return;let X=n.current.filtered.items,Pe=[];n.current.filtered.groups.forEach(Fe=>{let Ze=s.current.get(Fe),Me=0;Ze.forEach(at=>{let Oe=X.get(at);Me=Math.max(Oe,Me)}),Pe.push([Fe,Me])});let Be=q.current;ge().sort((Fe,Ze)=>{var Me,at;let Oe=Fe.getAttribute("id"),wt=Ze.getAttribute("id");return((Me=X.get(wt))!=null?Me:0)-((at=X.get(Oe))!=null?at:0)}).forEach(Fe=>{let Ze=Fe.closest(c1);Ze?Ze.appendChild(Fe.parentElement===Ze?Fe:Fe.closest(`${c1} > *`)):Be.appendChild(Fe.parentElement===Be?Fe:Fe.closest(`${c1} > *`))}),Pe.sort((Fe,Ze)=>Ze[1]-Fe[1]).forEach(Fe=>{var Ze;let Me=(Ze=q.current)==null?void 0:Ze.querySelector(`${rv}[${Fp}="${encodeURIComponent(Fe[0])}"]`);Me==null||Me.parentElement.appendChild(Me)})}function Te(){let X=ge().find(Be=>Be.getAttribute("aria-disabled")!=="true"),Pe=X==null?void 0:X.getAttribute(Fp);Z.setState("value",Pe||void 0)}function Se(){var X,Pe,Be,Fe;if(!n.current.search||u.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let Ze=0;for(let Me of r.current){let at=(Pe=(X=i.current.get(Me))==null?void 0:X.value)!=null?Pe:"",Oe=(Fe=(Be=i.current.get(Me))==null?void 0:Be.keywords)!=null?Fe:[],wt=te(at,Oe);n.current.filtered.items.set(Me,wt),wt>0&&Ze++}for(let[Me,at]of s.current)for(let Oe of at)if(n.current.filtered.items.get(Oe)>0){n.current.filtered.groups.add(Me);break}n.current.filtered.count=Ze}function _e(){var X,Pe,Be;let Fe=Le();Fe&&(((X=Fe.parentElement)==null?void 0:X.firstChild)===Fe&&((Be=(Pe=Fe.closest(rv))==null?void 0:Pe.querySelector(_Z))==null||Be.scrollIntoView({block:"nearest"})),Fe.scrollIntoView({block:"nearest"}))}function Le(){var X;return(X=q.current)==null?void 0:X.querySelector(`${ED}[aria-selected="true"]`)}function ge(){var X;return Array.from(((X=q.current)==null?void 0:X.querySelectorAll($C))||[])}function me(X){let Pe=ge()[X];Pe&&Z.setState("value",Pe.getAttribute(Fp))}function de(X){var Pe;let Be=Le(),Fe=ge(),Ze=Fe.findIndex(at=>at===Be),Me=Fe[Ze+X];(Pe=u.current)!=null&&Pe.loop&&(Me=Ze+X<0?Fe[Fe.length-1]:Ze+X===Fe.length?Fe[0]:Fe[Ze+X]),Me&&Z.setState("value",Me.getAttribute(Fp))}function Q(X){let Pe=Le(),Be=Pe==null?void 0:Pe.closest(rv),Fe;for(;Be&&!Fe;)Be=X>0?PZ(Be,rv):OZ(Be,rv),Fe=Be==null?void 0:Be.querySelector($C);Fe?Z.setState("value",Fe.getAttribute(Fp)):de(X)}let J=()=>me(ge().length-1),xe=X=>{X.preventDefault(),X.metaKey?J():X.altKey?Q(1):de(1)},K=X=>{X.preventDefault(),X.metaKey?me(0):X.altKey?Q(-1):de(-1)};return _.createElement(kt.div,{ref:t,tabIndex:-1,...O,"cmdk-root":"",onKeyDown:X=>{var Pe;(Pe=O.onKeyDown)==null||Pe.call(O,X);let Be=X.nativeEvent.isComposing||X.keyCode===229;if(!(X.defaultPrevented||Be))switch(X.key){case"n":case"j":{N&&X.ctrlKey&&xe(X);break}case"ArrowDown":{xe(X);break}case"p":case"k":{N&&X.ctrlKey&&K(X);break}case"ArrowUp":{K(X);break}case"Home":{X.preventDefault(),me(0);break}case"End":{X.preventDefault(),J();break}case"Enter":{X.preventDefault();let Fe=Le();if(Fe){let Ze=new Event(S_);Fe.dispatchEvent(Ze)}}}}},_.createElement("label",{"cmdk-label":"",htmlFor:ae.inputId,id:ae.labelId,style:IZ},p),Rw(e,X=>_.createElement(CD.Provider,{value:Z},_.createElement(kD.Provider,{value:ae},X))))}),EZ=_.forwardRef((e,t)=>{var n,r;let s=Fr(),i=_.useRef(null),c=_.useContext(ND),u=yy(),p=TD(e),m=(r=(n=p.current)==null?void 0:n.forceMount)!=null?r:c==null?void 0:c.forceMount;ch(()=>{if(!m)return u.item(s,c==null?void 0:c.id)},[m]);let y=AD(s,i,[e.value,e.children,i],e.keywords),g=wE(),S=kd(Y=>Y.value&&Y.value===y.current),k=kd(Y=>m||u.filter()===!1?!0:Y.search?Y.filtered.items.get(s)>0:!0);_.useEffect(()=>{let Y=i.current;if(!(!Y||e.disabled))return Y.addEventListener(S_,T),()=>Y.removeEventListener(S_,T)},[k,e.onSelect,e.disabled]);function T(){var Y,Z;E(),(Z=(Y=p.current).onSelect)==null||Z.call(Y,y.current)}function E(){g.setState("value",y.current,!0)}if(!k)return null;let{disabled:N,value:O,onSelect:D,forceMount:M,keywords:z,...q}=e;return _.createElement(kt.div,{ref:Kc(i,t),...q,id:s,"cmdk-item":"",role:"option","aria-disabled":!!N,"aria-selected":!!S,"data-disabled":!!N,"data-selected":!!S,onPointerMove:N||u.getDisablePointerSelection()?void 0:E,onClick:N?void 0:T},e.children)}),kZ=_.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:s,...i}=e,c=Fr(),u=_.useRef(null),p=_.useRef(null),m=Fr(),y=yy(),g=kd(k=>s||y.filter()===!1?!0:k.search?k.filtered.groups.has(c):!0);ch(()=>y.group(c),[]),AD(c,u,[e.value,e.heading,p]);let S=_.useMemo(()=>({id:c,forceMount:s}),[s]);return _.createElement(kt.div,{ref:Kc(u,t),...i,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},n&&_.createElement("div",{ref:p,"cmdk-group-heading":"","aria-hidden":!0,id:m},n),Rw(e,k=>_.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?m:void 0},_.createElement(ND.Provider,{value:S},k))))}),CZ=_.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,s=_.useRef(null),i=kd(c=>!c.search);return!n&&!i?null:_.createElement(kt.div,{ref:Kc(s,t),...r,"cmdk-separator":"",role:"separator"})}),NZ=_.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,s=e.value!=null,i=wE(),c=kd(m=>m.search),u=kd(m=>m.selectedItemId),p=yy();return _.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),_.createElement(kt.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":p.listId,"aria-labelledby":p.labelId,"aria-activedescendant":u,id:p.inputId,type:"text",value:s?e.value:c,onChange:m=>{s||i.setState("search",m.target.value),n==null||n(m.target.value)}})}),jZ=_.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...s}=e,i=_.useRef(null),c=_.useRef(null),u=kd(m=>m.selectedItemId),p=yy();return _.useEffect(()=>{if(c.current&&i.current){let m=c.current,y=i.current,g,S=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let k=m.offsetHeight;y.style.setProperty("--cmdk-list-height",k.toFixed(1)+"px")})});return S.observe(m),()=>{cancelAnimationFrame(g),S.unobserve(m)}}},[]),_.createElement(kt.div,{ref:Kc(i,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":r,id:p.listId},Rw(e,m=>_.createElement("div",{ref:Kc(c,p.listInnerRef),"cmdk-list-sizer":""},m)))}),TZ=_.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:s,contentClassName:i,container:c,...u}=e;return _.createElement(Jx,{open:n,onOpenChange:r},_.createElement(ew,{container:c},_.createElement(Fm,{"cmdk-overlay":"",className:s}),_.createElement($m,{"aria-label":e.label,"cmdk-dialog":"",className:i},_.createElement(jD,{ref:t,...u}))))}),AZ=_.forwardRef((e,t)=>kd(n=>n.filtered.count===0)?_.createElement(kt.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),RZ=_.forwardRef((e,t)=>{let{progress:n,children:r,label:s="Loading...",...i}=e;return _.createElement(kt.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Rw(e,c=>_.createElement("div",{"aria-hidden":!0},c)))}),Ho=Object.assign(jD,{List:jZ,Item:EZ,Input:NZ,Group:kZ,Separator:CZ,Dialog:TZ,Empty:AZ,Loading:RZ});function PZ(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function OZ(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function TD(e){let t=_.useRef(e);return ch(()=>{t.current=e}),t}var ch=typeof window>"u"?_.useEffect:_.useLayoutEffect;function $p(e){let t=_.useRef();return t.current===void 0&&(t.current=e()),t}function kd(e){let t=wE(),n=()=>e(t.snapshot());return _.useSyncExternalStore(t.subscribe,n,n)}function AD(e,t,n,r=[]){let s=_.useRef(),i=yy();return ch(()=>{var c;let u=(()=>{var m;for(let y of n){if(typeof y=="string")return y.trim();if(typeof y=="object"&&"current"in y)return y.current?(m=y.current.textContent)==null?void 0:m.trim():s.current}})(),p=r.map(m=>m.trim());i.value(e,u,p),(c=t.current)==null||c.setAttribute(Fp,u),s.current=u}),s}var DZ=()=>{let[e,t]=_.useState(),n=$p(()=>new Map);return ch(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,s)=>{n.current.set(r,s),t({})}};function MZ(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Rw({asChild:e,children:t},n){return e&&_.isValidElement(t)?_.cloneElement(MZ(t),{ref:t.ref},n(t.props.children)):n(t)}var IZ={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const RD=_.forwardRef(({className:e,...t},n)=>d.jsx(Ho,{ref:n,className:ze("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));RD.displayName=Ho.displayName;const PD=_.forwardRef(({className:e,...t},n)=>d.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[d.jsx(gS,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),d.jsx(Ho.Input,{ref:n,className:ze("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));PD.displayName=Ho.Input.displayName;const OD=_.forwardRef(({className:e,...t},n)=>d.jsx(Ho.List,{ref:n,className:ze("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));OD.displayName=Ho.List.displayName;const DD=_.forwardRef((e,t)=>d.jsx(Ho.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));DD.displayName=Ho.Empty.displayName;const MD=_.forwardRef(({className:e,...t},n)=>d.jsx(Ho.Group,{ref:n,className:ze("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));MD.displayName=Ho.Group.displayName;const LZ=_.forwardRef(({className:e,...t},n)=>d.jsx(Ho.Separator,{ref:n,className:ze("-mx-1 h-px bg-border",e),...t}));LZ.displayName=Ho.Separator.displayName;const ID=_.forwardRef(({className:e,...t},n)=>d.jsx(Ho.Item,{ref:n,className:ze("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...t}));ID.displayName=Ho.Item.displayName;var hv={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var FZ=hv.exports,BC;function $Z(){return BC||(BC=1,function(e,t){(function(){var n,r="4.17.21",s=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",u="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",m=500,y="__lodash_placeholder__",g=1,S=2,k=4,T=1,E=2,N=1,O=2,D=4,M=8,z=16,q=32,Y=64,Z=128,ae=256,te=512,ye=30,Te="...",Se=800,_e=16,Le=1,ge=2,me=3,de=1/0,Q=9007199254740991,J=17976931348623157e292,xe=NaN,K=4294967295,X=K-1,Pe=K>>>1,Be=[["ary",Z],["bind",N],["bindKey",O],["curry",M],["curryRight",z],["flip",te],["partial",q],["partialRight",Y],["rearg",ae]],Fe="[object Arguments]",Ze="[object Array]",Me="[object AsyncFunction]",at="[object Boolean]",Oe="[object Date]",wt="[object DOMException]",At="[object Error]",ut="[object Function]",Gt="[object GeneratorFunction]",nn="[object Map]",On="[object Number]",cr="[object Null]",zn="[object Object]",Xe="[object Promise]",Ft="[object Proxy]",Zt="[object RegExp]",Vt="[object Set]",ie="[object String]",ve="[object Symbol]",Ie="[object Undefined]",Je="[object WeakMap]",He="[object WeakSet]",Ue="[object ArrayBuffer]",ct="[object DataView]",Nt="[object Float32Array]",rn="[object Float64Array]",fn="[object Int8Array]",mr="[object Int16Array]",Qn="[object Int32Array]",sr="[object Uint8Array]",Tr="[object Uint8ClampedArray]",ht="[object Uint16Array]",ws="[object Uint32Array]",os=/\b__p \+= '';/g,qo=/\b(__p \+=) '' \+/g,dt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,eo=/&(?:amp|lt|gt|quot|#39);/g,Ms=/[&<>"']/g,bs=RegExp(eo.source),Wl=RegExp(Ms.source),Lt=/<%-([\s\S]+?)%>/g,bn=/<%([\s\S]+?)%>/g,Dn=/<%=([\s\S]+?)%>/g,ur=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gr=/^\w*$/,Ur=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zr=/[\\^$.*+?()[\]{}|]/g,tn=RegExp(zr.source),Rn=/^\s+/,Vl=/\s/,Yi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Gi=/\{\n\/\* \[wrapped with (.+)\] \*/,$a=/,? & /,Km=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,vi=/[()=,{}\[\]\/\s]/,Ba=/\\(\\)?/g,is=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ua=/\w*$/,vh=/^[-+]0x[0-9a-f]+$/i,yi=/^0b[01]+$/i,Dd=/^\[object .+?Constructor\]$/,xi=/^0o[0-7]+$/i,Md=/^(?:0|[1-9]\d*)$/,su=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qn=/($^)/,Zi=/['\n\r\u2028\u2029\\]/g,wn="\\ud800-\\udfff",yh="\\u0300-\\u036f",wi="\\ufe20-\\ufe2f",Hl="\\u20d0-\\u20ff",Qi=yh+wi+Hl,ou="\\u2700-\\u27bf",Ko="a-z\\xdf-\\xf6\\xf8-\\xff",ql="\\xac\\xb1\\xd7\\xf7",_s="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",xh="\\u2000-\\u206f",Ht=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Id="A-Z\\xc0-\\xd6\\xd8-\\xde",Ld="\\ufe0e\\ufe0f",Fd=ql+_s+xh+Ht,jn="['’]",bi="["+wn+"]",yo="["+Fd+"]",Is="["+Qi+"]",iu="\\d+",$d="["+ou+"]",Xi="["+Ko+"]",au="[^"+wn+Fd+iu+ou+Ko+Id+"]",_i="\\ud83c[\\udffb-\\udfff]",za="(?:"+Is+"|"+_i+")",Wa="[^"+wn+"]",Va="(?:\\ud83c[\\udde6-\\uddff]){2}",_n="[\\ud800-\\udbff][\\udc00-\\udfff]",cn="["+Id+"]",Kl="\\u200d",lu="(?:"+Xi+"|"+au+")",wh="(?:"+cn+"|"+au+")",Gr="(?:"+jn+"(?:d|ll|m|re|s|t|ve))?",Si="(?:"+jn+"(?:D|LL|M|RE|S|T|VE))?",Ji=za+"?",Ls="["+Ld+"]?",Yo="(?:"+Kl+"(?:"+[Wa,Va,_n].join("|")+")"+Ls+Ji+")*",Go="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zr=Ls+Ji+Yo,Zo="(?:"+[$d,Va,_n].join("|")+")"+Zr,Fs="(?:"+[Wa+Is+"?",Is,Va,_n,bi].join("|")+")",Bd=RegExp(jn,"g"),Qo=RegExp(Is,"g"),ea=RegExp(_i+"(?="+_i+")|"+Fs+Zr,"g"),xo=RegExp([cn+"?"+Xi+"+"+Gr+"(?="+[yo,cn,"$"].join("|")+")",wh+"+"+Si+"(?="+[yo,cn+lu,"$"].join("|")+")",cn+"?"+lu+"+"+Gr,cn+"+"+Si,Wn,Go,iu,Zo].join("|"),"g"),cu=RegExp("["+Kl+wn+Qi+Ld+"]"),Yl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,uu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Gl=-1,Sn={};Sn[Nt]=Sn[rn]=Sn[fn]=Sn[mr]=Sn[Qn]=Sn[sr]=Sn[Tr]=Sn[ht]=Sn[ws]=!0,Sn[Fe]=Sn[Ze]=Sn[Ue]=Sn[at]=Sn[ct]=Sn[Oe]=Sn[At]=Sn[ut]=Sn[nn]=Sn[On]=Sn[zn]=Sn[Zt]=Sn[Vt]=Sn[ie]=Sn[Je]=!1;var En={};En[Fe]=En[Ze]=En[Ue]=En[ct]=En[at]=En[Oe]=En[Nt]=En[rn]=En[fn]=En[mr]=En[Qn]=En[nn]=En[On]=En[zn]=En[Zt]=En[Vt]=En[ie]=En[ve]=En[sr]=En[Tr]=En[ht]=En[ws]=!0,En[At]=En[ut]=En[Je]=!1;var Ha={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ei={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ym={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Gm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qa=parseFloat,ta=parseInt,Ka=typeof av=="object"&&av&&av.Object===Object&&av,bh=typeof self=="object"&&self&&self.Object===Object&&self,Kn=Ka||bh||Function("return this")(),Zl=t&&!t.nodeType&&t,$s=Zl&&!0&&e&&!e.nodeType&&e,Ql=$s&&$s.exports===Zl,na=Ql&&Ka.process,_r=function(){try{var $=$s&&$s.require&&$s.require("util").types;return $||na&&na.binding&&na.binding("util")}catch{}}(),Ya=_r&&_r.isArrayBuffer,Ar=_r&&_r.isDate,ki=_r&&_r.isMap,du=_r&&_r.isRegExp,Xo=_r&&_r.isSet,fu=_r&&_r.isTypedArray;function Rr($,H,B){switch(B.length){case 0:return $.call(H);case 1:return $.call(H,B[0]);case 2:return $.call(H,B[0],B[1]);case 3:return $.call(H,B[0],B[1],B[2])}return $.apply(H,B)}function Xl($,H,B,re){for(var ne=-1,ue=$==null?0:$.length;++ne<ue;){var be=$[ne];H(re,be,B(be),$)}return re}function Sr($,H){for(var B=-1,re=$==null?0:$.length;++B<re&&H($[B],B,$)!==!1;);return $}function vr($,H){for(var B=$==null?0:$.length;B--&&H($[B],B,$)!==!1;);return $}function ra($,H){for(var B=-1,re=$==null?0:$.length;++B<re;)if(!H($[B],B,$))return!1;return!0}function Bs($,H){for(var B=-1,re=$==null?0:$.length,ne=0,ue=[];++B<re;){var be=$[B];H(be,B,$)&&(ue[ne++]=be)}return ue}function Jl($,H){var B=$==null?0:$.length;return!!B&&Qa($,H,0)>-1}function Ga($,H,B){for(var re=-1,ne=$==null?0:$.length;++re<ne;)if(B(H,$[re]))return!0;return!1}function In($,H){for(var B=-1,re=$==null?0:$.length,ne=Array(re);++B<re;)ne[B]=H($[B],B,$);return ne}function Jo($,H){for(var B=-1,re=H.length,ne=$.length;++B<re;)$[ne+B]=H[B];return $}function Za($,H,B,re){var ne=-1,ue=$==null?0:$.length;for(re&&ue&&(B=$[++ne]);++ne<ue;)B=H(B,$[ne],ne,$);return B}function Ud($,H,B,re){var ne=$==null?0:$.length;for(re&&ne&&(B=$[--ne]);ne--;)B=H(B,$[ne],ne,$);return B}function ei($,H){for(var B=-1,re=$==null?0:$.length;++B<re;)if(H($[B],B,$))return!0;return!1}var zd=rc("length");function hu($){return $.split("")}function pu($){return $.match(Km)||[]}function mu($,H,B){var re;return B($,function(ne,ue,be){if(H(ne,ue,be))return re=ue,!1}),re}function ec($,H,B,re){for(var ne=$.length,ue=B+(re?1:-1);re?ue--:++ue<ne;)if(H($[ue],ue,$))return ue;return-1}function Qa($,H,B){return H===H?to($,H,B):ec($,nc,B)}function tc($,H,B,re){for(var ne=B-1,ue=$.length;++ne<ue;)if(re($[ne],H))return ne;return-1}function nc($){return $!==$}function _h($,H){var B=$==null?0:$.length;return B?Wd($,H)/B:xe}function rc($){return function(H){return H==null?n:H[$]}}function Xa($){return function(H){return $==null?n:$[H]}}function Sh($,H,B,re,ne){return ne($,function(ue,be,ce){B=re?(re=!1,ue):H(B,ue,be,ce)}),B}function Eh($,H){var B=$.length;for($.sort(H);B--;)$[B]=$[B].value;return $}function Wd($,H){for(var B,re=-1,ne=$.length;++re<ne;){var ue=H($[re]);ue!==n&&(B=B===n?ue:B+ue)}return B}function gu($,H){for(var B=-1,re=Array($);++B<$;)re[B]=H(B);return re}function kh($,H){return In(H,function(B){return[B,$[B]]})}function Ch($){return $&&$.slice(0,j($)+1).replace(Rn,"")}function as($){return function(H){return $(H)}}function sa($,H){return In(H,function(B){return $[B]})}function wo($,H){return $.has(H)}function Vd($,H){for(var B=-1,re=$.length;++B<re&&Qa(H,$[B],0)>-1;);return B}function Hd($,H){for(var B=$.length;B--&&Qa(H,$[B],0)>-1;);return B}function Nh($,H){for(var B=$.length,re=0;B--;)$[B]===H&&++re;return re}var jh=Xa(Ha),sc=Xa(Ei);function bo($){return"\\"+Gm[$]}function Fn($,H){return $==null?n:$[H]}function ti($){return cu.test($)}function Us($){return Yl.test($)}function Zm($){for(var H,B=[];!(H=$.next()).done;)B.push(H.value);return B}function Ja($){var H=-1,B=Array($.size);return $.forEach(function(re,ne){B[++H]=[ne,re]}),B}function vu($,H){return function(B){return $(H(B))}}function Er($,H){for(var B=-1,re=$.length,ne=0,ue=[];++B<re;){var be=$[B];(be===H||be===y)&&($[B]=y,ue[ne++]=B)}return ue}function _o($){var H=-1,B=Array($.size);return $.forEach(function(re){B[++H]=re}),B}function el($){var H=-1,B=Array($.size);return $.forEach(function(re){B[++H]=[re,re]}),B}function to($,H,B){for(var re=B-1,ne=$.length;++re<ne;)if($[re]===H)return re;return-1}function Th($,H,B){for(var re=B+1;re--;)if($[re]===H)return re;return re}function v($){return ti($)?I($):zd($)}function b($){return ti($)?U($):hu($)}function j($){for(var H=$.length;H--&&Vl.test($.charAt(H)););return H}var P=Xa(Ym);function I($){for(var H=ea.lastIndex=0;ea.test($);)++H;return H}function U($){return $.match(ea)||[]}function G($){return $.match(xo)||[]}var oe=function $(H){H=H==null?Kn:pe.defaults(Kn.Object(),H,pe.pick(Kn,uu));var B=H.Array,re=H.Date,ne=H.Error,ue=H.Function,be=H.Math,ce=H.Object,Ne=H.RegExp,De=H.String,Ae=H.TypeError,$e=B.prototype,nt=ue.prototype,st=ce.prototype,et=H["__core-js_shared__"],ot=nt.toString,Ke=st.hasOwnProperty,lt=0,vt=function(){var l=/[^.]+$/.exec(et&&et.keys&&et.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Bt=st.toString,en=ot.call(ce),sn=Kn._,ls=Ne("^"+ot.call(Ke).replace(zr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$t=Ql?H.Buffer:n,Yn=H.Symbol,dr=H.Uint8Array,tl=$t?$t.allocUnsafe:n,Vn=vu(ce.getPrototypeOf,ce),So=ce.create,nl=st.propertyIsEnumerable,Ah=$e.splice,wy=Yn?Yn.isConcatSpreadable:n,oa=Yn?Yn.iterator:n,oc=Yn?Yn.toStringTag:n,qd=function(){try{var l=hl(ce,"defineProperty");return l({},"",{}),l}catch{}}(),by=H.clearTimeout!==Kn.clearTimeout&&H.clearTimeout,Xn=re&&re.now!==Kn.Date.now&&re.now,Qm=H.setTimeout!==Kn.setTimeout&&H.setTimeout,ic=be.ceil,rl=be.floor,Rh=ce.getOwnPropertySymbols,Xm=$t?$t.isBuffer:n,yu=H.isFinite,Ph=$e.join,xu=vu(ce.keys,ce),kr=be.max,cs=be.min,Iw=re.now,_y=H.parseInt,Kd=be.random,Oh=$e.reverse,Yd=hl(H,"DataView"),ac=hl(H,"Map"),Gd=hl(H,"Promise"),sl=hl(H,"Set"),Zd=hl(H,"WeakMap"),wu=hl(ce,"create"),Dh=Zd&&new Zd,bu={},Jm=pl(Yd),ol=pl(ac),Sy=pl(Gd),_u=pl(sl),Ci=pl(Zd),il=Yn?Yn.prototype:n,no=il?il.valueOf:n,Mh=il?il.toString:n;function W(l){if(Nr(l)&&!an(l)&&!(l instanceof on)){if(l instanceof us)return l;if(Ke.call(l,"__wrapped__"))return Qy(l)}return new us(l)}var Su=function(){function l(){}return function(f){if(!wr(f))return{};if(So)return So(f);l.prototype=f;var w=new l;return l.prototype=n,w}}();function Ni(){}function us(l,f){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=n}W.templateSettings={escape:Lt,evaluate:bn,interpolate:Dn,variable:"",imports:{_:W}},W.prototype=Ni.prototype,W.prototype.constructor=W,us.prototype=Su(Ni.prototype),us.prototype.constructor=us;function on(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=K,this.__views__=[]}function Ih(){var l=new on(this.__wrapped__);return l.__actions__=Es(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Es(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Es(this.__views__),l}function eg(){if(this.__filtered__){var l=new on(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function Eu(){var l=this.__wrapped__.value(),f=this.__dir__,w=an(l),R=f<0,L=w?l.length:0,V=jg(0,L,this.__views__),se=V.start,he=V.end,Ee=he-se,We=R?he:se-1,qe=this.__iteratees__,Qe=qe.length,mt=0,jt=cs(Ee,this.__takeCount__);if(!w||!R&&L==Ee&&jt==Ee)return Pu(l,this.__actions__);var zt=[];e:for(;Ee--&&mt<jt;){We+=f;for(var gn=-1,Wt=l[We];++gn<Qe;){var xn=qe[gn],Cn=xn.iteratee,di=xn.type,ao=Cn(Wt);if(di==ge)Wt=ao;else if(!ao){if(di==Le)continue e;break e}}zt[mt++]=Wt}return zt}on.prototype=Su(Ni.prototype),on.prototype.constructor=on;function zs(l){var f=-1,w=l==null?0:l.length;for(this.clear();++f<w;){var R=l[f];this.set(R[0],R[1])}}function Jn(){this.__data__=wu?wu(null):{},this.size=0}function Gn(l){var f=this.has(l)&&delete this.__data__[l];return this.size-=f?1:0,f}function al(l){var f=this.__data__;if(wu){var w=f[l];return w===p?n:w}return Ke.call(f,l)?f[l]:n}function ds(l){var f=this.__data__;return wu?f[l]!==n:Ke.call(f,l)}function Ws(l,f){var w=this.__data__;return this.size+=this.has(l)?0:1,w[l]=wu&&f===n?p:f,this}zs.prototype.clear=Jn,zs.prototype.delete=Gn,zs.prototype.get=al,zs.prototype.has=ds,zs.prototype.set=Ws;function Ss(l){var f=-1,w=l==null?0:l.length;for(this.clear();++f<w;){var R=l[f];this.set(R[0],R[1])}}function ku(){this.__data__=[],this.size=0}function Vs(l){var f=this.__data__,w=hs(f,l);if(w<0)return!1;var R=f.length-1;return w==R?f.pop():Ah.call(f,w,1),--this.size,!0}function Lh(l){var f=this.__data__,w=hs(f,l);return w<0?n:f[w][1]}function Ey(l){return hs(this.__data__,l)>-1}function ky(l,f){var w=this.__data__,R=hs(w,l);return R<0?(++this.size,w.push([l,f])):w[R][1]=f,this}Ss.prototype.clear=ku,Ss.prototype.delete=Vs,Ss.prototype.get=Lh,Ss.prototype.has=Ey,Ss.prototype.set=ky;function Eo(l){var f=-1,w=l==null?0:l.length;for(this.clear();++f<w;){var R=l[f];this.set(R[0],R[1])}}function Cy(){this.size=0,this.__data__={hash:new zs,map:new(ac||Ss),string:new zs}}function ia(l){var f=hf(this,l).delete(l);return this.size-=f?1:0,f}function Fh(l){return hf(this,l).get(l)}function tg(l){return hf(this,l).has(l)}function Ny(l,f){var w=hf(this,l),R=w.size;return w.set(l,f),this.size+=w.size==R?0:1,this}Eo.prototype.clear=Cy,Eo.prototype.delete=ia,Eo.prototype.get=Fh,Eo.prototype.has=tg,Eo.prototype.set=Ny;function lc(l){var f=-1,w=l==null?0:l.length;for(this.__data__=new Eo;++f<w;)this.add(l[f])}function ll(l){return this.__data__.set(l,p),this}function Cu(l){return this.__data__.has(l)}lc.prototype.add=lc.prototype.push=ll,lc.prototype.has=Cu;function fs(l){var f=this.__data__=new Ss(l);this.size=f.size}function $h(){this.__data__=new Ss,this.size=0}function Bh(l){var f=this.__data__,w=f.delete(l);return this.size=f.size,w}function ko(l){return this.__data__.get(l)}function Co(l){return this.__data__.has(l)}function cc(l,f){var w=this.__data__;if(w instanceof Ss){var R=w.__data__;if(!ac||R.length<s-1)return R.push([l,f]),this.size=++w.size,this;w=this.__data__=new Eo(R)}return w.set(l,f),this.size=w.size,this}fs.prototype.clear=$h,fs.prototype.delete=Bh,fs.prototype.get=ko,fs.prototype.has=Co,fs.prototype.set=cc;function ji(l,f){var w=an(l),R=!w&&kf(l),L=!w&&!R&&zu(l),V=!w&&!R&&!L&&Tp(l),se=w||R||L||V,he=se?gu(l.length,De):[],Ee=he.length;for(var We in l)(f||Ke.call(l,We))&&!(se&&(We=="length"||L&&(We=="offset"||We=="parent")||V&&(We=="buffer"||We=="byteLength"||We=="byteOffset")||nr(We,Ee)))&&he.push(We);return he}function Ti(l){var f=l.length;return f?l[Au(0,f-1)]:n}function uc(l,f){return fp(Es(l),aa(f,0,l.length))}function jy(l){return fp(Es(l))}function Qd(l,f,w){(w!==n&&!va(l[f],w)||w===n&&!(f in l))&&Ai(l,f,w)}function dc(l,f,w){var R=l[f];(!(Ke.call(l,f)&&va(R,w))||w===n&&!(f in l))&&Ai(l,f,w)}function hs(l,f){for(var w=l.length;w--;)if(va(l[w][0],f))return w;return-1}function ro(l,f,w,R){return Pi(l,function(L,V,se){f(R,L,w(L),se)}),R}function er(l,f){return l&&ri(f,gs(f),l)}function ni(l,f){return l&&ri(f,Mo(f),l)}function Ai(l,f,w){f=="__proto__"&&qd?qd(l,f,{configurable:!0,enumerable:!0,value:w,writable:!0}):l[f]=w}function Uh(l,f){for(var w=-1,R=f.length,L=B(R),V=l==null;++w<R;)L[w]=V?n:ib(l,f[w]);return L}function aa(l,f,w){return l===l&&(w!==n&&(l=l<=w?l:w),f!==n&&(l=l>=f?l:f)),l}function Hs(l,f,w,R,L,V){var se,he=f&g,Ee=f&S,We=f&k;if(w&&(se=L?w(l,R,L,V):w(l)),se!==n)return se;if(!wr(l))return l;var qe=an(l);if(qe){if(se=mf(l),!he)return Es(l,se)}else{var Qe=Jr(l),mt=Qe==ut||Qe==Gt;if(zu(l))return gg(l,he);if(Qe==zn||Qe==Fe||mt&&!L){if(se=Ee||mt?{}:es(l),!he)return Ee?Fw(l,ni(se,l)):ep(l,er(se,l))}else{if(!En[Qe])return L?l:{};se=$w(l,Qe,he)}}V||(V=new fs);var jt=V.get(l);if(jt)return jt;V.set(l,se),TE(l)?l.forEach(function(Wt){se.add(Hs(Wt,f,w,Wt,l,V))}):NE(l)&&l.forEach(function(Wt,xn){se.set(xn,Hs(Wt,f,w,xn,l,V))});var zt=We?Ee?ff:df:Ee?Mo:gs,gn=qe?n:zt(l);return Sr(gn||l,function(Wt,xn){gn&&(xn=Wt,Wt=l[xn]),dc(se,xn,Hs(Wt,f,w,xn,l,V))}),se}function Ty(l){var f=gs(l);return function(w){return Xd(w,l,f)}}function Xd(l,f,w){var R=w.length;if(l==null)return!R;for(l=ce(l);R--;){var L=w[R],V=f[L],se=l[L];if(se===n&&!(L in l)||!V(se))return!1}return!0}function ng(l,f,w){if(typeof l!="function")throw new Ae(c);return $u(function(){l.apply(n,w)},f)}function Ri(l,f,w,R){var L=-1,V=Jl,se=!0,he=l.length,Ee=[],We=f.length;if(!he)return Ee;w&&(f=In(f,as(w))),R?(V=Ga,se=!1):f.length>=s&&(V=wo,se=!1,f=new lc(f));e:for(;++L<he;){var qe=l[L],Qe=w==null?qe:w(qe);if(qe=R||qe!==0?qe:0,se&&Qe===Qe){for(var mt=We;mt--;)if(f[mt]===Qe)continue e;Ee.push(qe)}else V(f,Qe,R)||Ee.push(qe)}return Ee}var Pi=Ro(so),Ay=Ro(cl,!0);function Jd(l,f){var w=!0;return Pi(l,function(R,L,V){return w=!!f(R,L,V),w}),w}function fc(l,f,w){for(var R=-1,L=l.length;++R<L;){var V=l[R],se=f(V);if(se!=null&&(he===n?se===se&&!ui(se):w(se,he)))var he=se,Ee=V}return Ee}function Ry(l,f,w,R){var L=l.length;for(w=pn(w),w<0&&(w=-w>L?0:L+w),R=R===n||R>L?L:pn(R),R<0&&(R+=L),R=w>R?0:RE(R);w<R;)l[w++]=f;return l}function rg(l,f){var w=[];return Pi(l,function(R,L,V){f(R,L,V)&&w.push(R)}),w}function fr(l,f,w,R,L){var V=-1,se=l.length;for(w||(w=cp),L||(L=[]);++V<se;){var he=l[V];f>0&&w(he)?f>1?fr(he,f-1,w,R,L):Jo(L,he):R||(L[L.length]=he)}return L}var zh=np(),ef=np(!0);function so(l,f){return l&&zh(l,f,gs)}function cl(l,f){return l&&ef(l,f,gs)}function Nu(l,f){return Bs(f,function(w){return kc(l[w])})}function la(l,f){f=Mi(f,l);for(var w=0,R=f.length;l!=null&&w<R;)l=l[ai(f[w++])];return w&&w==R?l:n}function Wh(l,f,w){var R=f(l);return an(l)?R:Jo(R,w(l))}function Qr(l){return l==null?l===n?Ie:cr:oc&&oc in ce(l)?lp(l):Ag(l)}function ul(l,f){return l>f}function No(l,f){return l!=null&&Ke.call(l,f)}function hc(l,f){return l!=null&&f in ce(l)}function sg(l,f,w){return l>=cs(f,w)&&l<kr(f,w)}function Vh(l,f,w){for(var R=w?Ga:Jl,L=l[0].length,V=l.length,se=V,he=B(V),Ee=1/0,We=[];se--;){var qe=l[se];se&&f&&(qe=In(qe,as(f))),Ee=cs(qe.length,Ee),he[se]=!w&&(f||L>=120&&qe.length>=120)?new lc(se&&qe):n}qe=l[0];var Qe=-1,mt=he[0];e:for(;++Qe<L&&We.length<Ee;){var jt=qe[Qe],zt=f?f(jt):jt;if(jt=w||jt!==0?jt:0,!(mt?wo(mt,zt):R(We,zt,w))){for(se=V;--se;){var gn=he[se];if(!(gn?wo(gn,zt):R(l[se],zt,w)))continue e}mt&&mt.push(zt),We.push(jt)}}return We}function ca(l,f,w,R){return so(l,function(L,V,se){f(R,w(L),V,se)}),R}function jo(l,f,w){f=Mi(f,l),l=Wr(l,f);var R=l==null?l:l[ai(Ns(f))];return R==null?n:Rr(R,l,w)}function Hh(l){return Nr(l)&&Qr(l)==Fe}function Py(l){return Nr(l)&&Qr(l)==Ue}function ua(l){return Nr(l)&&Qr(l)==Oe}function To(l,f,w,R,L){return l===f?!0:l==null||f==null||!Nr(l)&&!Nr(f)?l!==l&&f!==f:qh(l,f,w,R,To,L)}function qh(l,f,w,R,L,V){var se=an(l),he=an(f),Ee=se?Ze:Jr(l),We=he?Ze:Jr(f);Ee=Ee==Fe?zn:Ee,We=We==Fe?zn:We;var qe=Ee==zn,Qe=We==zn,mt=Ee==We;if(mt&&zu(l)){if(!zu(f))return!1;se=!0,qe=!1}if(mt&&!qe)return V||(V=new fs),se||Tp(l)?Cg(l,f,w,R,L,V):Ng(l,f,Ee,w,R,L,V);if(!(w&T)){var jt=qe&&Ke.call(l,"__wrapped__"),zt=Qe&&Ke.call(f,"__wrapped__");if(jt||zt){var gn=jt?l.value():l,Wt=zt?f.value():f;return V||(V=new fs),L(gn,Wt,w,R,V)}}return mt?(V||(V=new fs),Wy(l,f,w,R,L,V)):!1}function Oy(l){return Nr(l)&&Jr(l)==nn}function ju(l,f,w,R){var L=w.length,V=L,se=!R;if(l==null)return!V;for(l=ce(l);L--;){var he=w[L];if(se&&he[2]?he[1]!==l[he[0]]:!(he[0]in l))return!1}for(;++L<V;){he=w[L];var Ee=he[0],We=l[Ee],qe=he[1];if(se&&he[2]){if(We===n&&!(Ee in l))return!1}else{var Qe=new fs;if(R)var mt=R(We,qe,Ee,l,f,Qe);if(!(mt===n?To(qe,We,T|E,R,Qe):mt))return!1}}return!0}function og(l){if(!wr(l)||qy(l))return!1;var f=kc(l)?ls:Dd;return f.test(pl(l))}function tf(l){return Nr(l)&&Qr(l)==Zt}function Oi(l){return Nr(l)&&Jr(l)==Vt}function nf(l){return Nr(l)&&d0(l.length)&&!!Sn[Qr(l)]}function Tu(l){return typeof l=="function"?l:l==null?Io:typeof l=="object"?an(l)?tr(l[0],l[1]):Kh(l):zE(l)}function da(l){if(!ma(l))return xu(l);var f=[];for(var w in ce(l))Ke.call(l,w)&&w!="constructor"&&f.push(w);return f}function ig(l){if(!wr(l))return Gy(l);var f=ma(l),w=[];for(var R in l)R=="constructor"&&(f||!Ke.call(l,R))||w.push(R);return w}function dl(l,f){return l<f}function ag(l,f){var w=-1,R=Do(l)?B(l.length):[];return Pi(l,function(L,V,se){R[++w]=f(L,V,se)}),R}function Kh(l){var f=pf(l);return f.length==1&&f[0][2]?up(f[0][0],f[0][1]):function(w){return w===l||ju(w,l,f)}}function tr(l,f){return bt(l)&&vf(f)?up(ai(l),f):function(w){var R=ib(w,l);return R===n&&R===f?ab(w,l):To(f,R,T|E)}}function pc(l,f,w,R,L){l!==f&&zh(f,function(V,se){if(L||(L=new fs),wr(V))lg(l,f,se,w,pc,R,L);else{var he=R?R(Fi(l,se),V,se+"",l,f,L):n;he===n&&(he=V),Qd(l,se,he)}},Mo)}function lg(l,f,w,R,L,V,se){var he=Fi(l,w),Ee=Fi(f,w),We=se.get(Ee);if(We){Qd(l,w,We);return}var qe=V?V(he,Ee,w+"",l,f,se):n,Qe=qe===n;if(Qe){var mt=an(Ee),jt=!mt&&zu(Ee),zt=!mt&&!jt&&Tp(Ee);qe=Ee,mt||jt||zt?an(he)?qe=he:Dr(he)?qe=Es(he):jt?(Qe=!1,qe=gg(Ee,!0)):zt?(Qe=!1,qe=Fy(Ee,!0)):qe=[]:Yg(Ee)||kf(Ee)?(qe=he,kf(he)?qe=PE(he):(!wr(he)||kc(he))&&(qe=es(Ee))):Qe=!1}Qe&&(se.set(Ee,qe),L(qe,Ee,R,V,se),se.delete(Ee)),Qd(l,w,qe)}function Yh(l,f){var w=l.length;if(w)return f+=f<0?w:0,nr(f,w)?l[f]:n}function rf(l,f,w){f.length?f=In(f,function(V){return an(V)?function(se){return la(se,V.length===1?V[0]:V)}:V}):f=[Io];var R=-1;f=In(f,as(Mt()));var L=ag(l,function(V,se,he){var Ee=In(f,function(We){return We(V)});return{criteria:Ee,index:++R,value:V}});return Eh(L,function(V,se){return Lw(V,se,w)})}function cg(l,f){return fl(l,f,function(w,R){return ab(l,R)})}function fl(l,f,w){for(var R=-1,L=f.length,V={};++R<L;){var se=f[R],he=la(l,se);w(he,se)&&gc(V,Mi(se,l),he)}return V}function or(l){return function(f){return la(f,l)}}function yr(l,f,w,R){var L=R?tc:Qa,V=-1,se=f.length,he=l;for(l===f&&(f=Es(f)),w&&(he=In(l,as(w)));++V<se;)for(var Ee=0,We=f[V],qe=w?w(We):We;(Ee=L(he,qe,Ee,R))>-1;)he!==l&&Ah.call(he,Ee,1),Ah.call(l,Ee,1);return l}function Pr(l,f){for(var w=l?f.length:0,R=w-1;w--;){var L=f[w];if(w==R||L!==V){var V=L;nr(L)?Ah.call(l,L,1):Qh(l,L)}}return l}function Au(l,f){return l+rl(Kd()*(f-l+1))}function sf(l,f,w,R){for(var L=-1,V=kr(ic((f-l)/(w||1)),0),se=B(V);V--;)se[R?V:++L]=l,l+=w;return se}function mc(l,f){var w="";if(!l||f<1||f>Q)return w;do f%2&&(w+=l),f=rl(f/2),f&&(l+=l);while(f);return w}function hn(l,f){return oo(dp(l,f,Io),l+"")}function ps(l){return Ti(Ap(l))}function ug(l,f){var w=Ap(l);return fp(w,aa(f,0,w.length))}function gc(l,f,w,R){if(!wr(l))return l;f=Mi(f,l);for(var L=-1,V=f.length,se=V-1,he=l;he!=null&&++L<V;){var Ee=ai(f[L]),We=w;if(Ee==="__proto__"||Ee==="constructor"||Ee==="prototype")return l;if(L!=se){var qe=he[Ee];We=R?R(qe,Ee,he):n,We===n&&(We=wr(qe)?qe:nr(f[L+1])?[]:{})}dc(he,Ee,We),he=he[Ee]}return l}var Gh=Dh?function(l,f){return Dh.set(l,f),l}:Io,Di=qd?function(l,f){return qd(l,"toString",{configurable:!0,enumerable:!1,value:cb(f),writable:!0})}:Io;function Ao(l){return fp(Ap(l))}function ms(l,f,w){var R=-1,L=l.length;f<0&&(f=-f>L?0:L+f),w=w>L?L:w,w<0&&(w+=L),L=f>w?0:w-f>>>0,f>>>=0;for(var V=B(L);++R<L;)V[R]=l[R+f];return V}function dg(l,f){var w;return Pi(l,function(R,L,V){return w=f(R,L,V),!w}),!!w}function Ru(l,f,w){var R=0,L=l==null?R:l.length;if(typeof f=="number"&&f===f&&L<=Pe){for(;R<L;){var V=R+L>>>1,se=l[V];se!==null&&!ui(se)&&(w?se<=f:se<f)?R=V+1:L=V}return L}return Zh(l,f,Io,w)}function Zh(l,f,w,R){var L=0,V=l==null?0:l.length;if(V===0)return 0;f=w(f);for(var se=f!==f,he=f===null,Ee=ui(f),We=f===n;L<V;){var qe=rl((L+V)/2),Qe=w(l[qe]),mt=Qe!==n,jt=Qe===null,zt=Qe===Qe,gn=ui(Qe);if(se)var Wt=R||zt;else We?Wt=zt&&(R||mt):he?Wt=zt&&mt&&(R||!jt):Ee?Wt=zt&&mt&&!jt&&(R||!gn):jt||gn?Wt=!1:Wt=R?Qe<=f:Qe<f;Wt?L=qe+1:V=qe}return cs(V,X)}function fg(l,f){for(var w=-1,R=l.length,L=0,V=[];++w<R;){var se=l[w],he=f?f(se):se;if(!w||!va(he,Ee)){var Ee=he;V[L++]=se===0?0:se}}return V}function hg(l){return typeof l=="number"?l:ui(l)?xe:+l}function qs(l){if(typeof l=="string")return l;if(an(l))return In(l,qs)+"";if(ui(l))return Mh?Mh.call(l):"";var f=l+"";return f=="0"&&1/l==-1/0?"-0":f}function fa(l,f,w){var R=-1,L=Jl,V=l.length,se=!0,he=[],Ee=he;if(w)se=!1,L=Ga;else if(V>=s){var We=f?null:zy(l);if(We)return _o(We);se=!1,L=wo,Ee=new lc}else Ee=f?[]:he;e:for(;++R<V;){var qe=l[R],Qe=f?f(qe):qe;if(qe=w||qe!==0?qe:0,se&&Qe===Qe){for(var mt=Ee.length;mt--;)if(Ee[mt]===Qe)continue e;f&&Ee.push(Qe),he.push(qe)}else L(Ee,Qe,w)||(Ee!==he&&Ee.push(Qe),he.push(qe))}return he}function Qh(l,f){return f=Mi(f,l),l=Wr(l,f),l==null||delete l[ai(Ns(f))]}function pg(l,f,w,R){return gc(l,f,w(la(l,f)),R)}function of(l,f,w,R){for(var L=l.length,V=R?L:-1;(R?V--:++V<L)&&f(l[V],V,l););return w?ms(l,R?0:V,R?V+1:L):ms(l,R?V+1:0,R?L:V)}function Pu(l,f){var w=l;return w instanceof on&&(w=w.value()),Za(f,function(R,L){return L.func.apply(L.thisArg,Jo([R],L.args))},w)}function Xh(l,f,w){var R=l.length;if(R<2)return R?fa(l[0]):[];for(var L=-1,V=B(R);++L<R;)for(var se=l[L],he=-1;++he<R;)he!=L&&(V[L]=Ri(V[L]||se,l[he],f,w));return fa(fr(V,1),f,w)}function af(l,f,w){for(var R=-1,L=l.length,V=f.length,se={};++R<L;){var he=R<V?f[R]:n;w(se,l[R],he)}return se}function Ou(l){return Dr(l)?l:[]}function Jh(l){return typeof l=="function"?l:Io}function Mi(l,f){return an(l)?l:bt(l,f)?[l]:Og($n(l))}var Dy=hn;function ha(l,f,w){var R=l.length;return w=w===n?R:w,!f&&w>=R?l:ms(l,f,w)}var mg=by||function(l){return Kn.clearTimeout(l)};function gg(l,f){if(f)return l.slice();var w=l.length,R=tl?tl(w):new l.constructor(w);return l.copy(R),R}function lf(l){var f=new l.constructor(l.byteLength);return new dr(f).set(new dr(l)),f}function My(l,f){var w=f?lf(l.buffer):l.buffer;return new l.constructor(w,l.byteOffset,l.byteLength)}function Iy(l){var f=new l.constructor(l.source,Ua.exec(l));return f.lastIndex=l.lastIndex,f}function Ly(l){return no?ce(no.call(l)):{}}function Fy(l,f){var w=f?lf(l.buffer):l.buffer;return new l.constructor(w,l.byteOffset,l.length)}function vg(l,f){if(l!==f){var w=l!==n,R=l===null,L=l===l,V=ui(l),se=f!==n,he=f===null,Ee=f===f,We=ui(f);if(!he&&!We&&!V&&l>f||V&&se&&Ee&&!he&&!We||R&&se&&Ee||!w&&Ee||!L)return 1;if(!R&&!V&&!We&&l<f||We&&w&&L&&!R&&!V||he&&w&&L||!se&&L||!Ee)return-1}return 0}function Lw(l,f,w){for(var R=-1,L=l.criteria,V=f.criteria,se=L.length,he=w.length;++R<se;){var Ee=vg(L[R],V[R]);if(Ee){if(R>=he)return Ee;var We=w[R];return Ee*(We=="desc"?-1:1)}}return l.index-f.index}function $y(l,f,w,R){for(var L=-1,V=l.length,se=w.length,he=-1,Ee=f.length,We=kr(V-se,0),qe=B(Ee+We),Qe=!R;++he<Ee;)qe[he]=f[he];for(;++L<se;)(Qe||L<V)&&(qe[w[L]]=l[L]);for(;We--;)qe[he++]=l[L++];return qe}function yg(l,f,w,R){for(var L=-1,V=l.length,se=-1,he=w.length,Ee=-1,We=f.length,qe=kr(V-he,0),Qe=B(qe+We),mt=!R;++L<qe;)Qe[L]=l[L];for(var jt=L;++Ee<We;)Qe[jt+Ee]=f[Ee];for(;++se<he;)(mt||L<V)&&(Qe[jt+w[se]]=l[L++]);return Qe}function Es(l,f){var w=-1,R=l.length;for(f||(f=B(R));++w<R;)f[w]=l[w];return f}function ri(l,f,w,R){var L=!w;w||(w={});for(var V=-1,se=f.length;++V<se;){var he=f[V],Ee=R?R(w[he],l[he],he,w,l):n;Ee===n&&(Ee=l[he]),L?Ai(w,he,Ee):dc(w,he,Ee)}return w}function ep(l,f){return ri(l,si(l),f)}function Fw(l,f){return ri(l,Vy(l),f)}function tp(l,f){return function(w,R){var L=an(w)?Xl:ro,V=f?f():{};return L(w,l,Mt(R,2),V)}}function Du(l){return hn(function(f,w){var R=-1,L=w.length,V=L>1?w[L-1]:n,se=L>2?w[2]:n;for(V=l.length>3&&typeof V=="function"?(L--,V):n,se&&Cs(w[0],w[1],se)&&(V=L<3?n:V,L=1),f=ce(f);++R<L;){var he=w[R];he&&l(f,he,R,V)}return f})}function Ro(l,f){return function(w,R){if(w==null)return w;if(!Do(w))return l(w,R);for(var L=w.length,V=f?L:-1,se=ce(w);(f?V--:++V<L)&&R(se[V],V,se)!==!1;);return w}}function np(l){return function(f,w,R){for(var L=-1,V=ce(f),se=R(f),he=se.length;he--;){var Ee=se[l?he:++L];if(w(V[Ee],Ee,V)===!1)break}return f}}function rp(l,f,w){var R=f&N,L=Mu(l);function V(){var se=this&&this!==Kn&&this instanceof V?L:l;return se.apply(R?w:this,arguments)}return V}function xg(l){return function(f){f=$n(f);var w=ti(f)?b(f):n,R=w?w[0]:f.charAt(0),L=w?ha(w,1).join(""):f.slice(1);return R[l]()+L}}function vc(l){return function(f){return Za(BE($E(f).replace(Bd,"")),l,"")}}function Mu(l){return function(){var f=arguments;switch(f.length){case 0:return new l;case 1:return new l(f[0]);case 2:return new l(f[0],f[1]);case 3:return new l(f[0],f[1],f[2]);case 4:return new l(f[0],f[1],f[2],f[3]);case 5:return new l(f[0],f[1],f[2],f[3],f[4]);case 6:return new l(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new l(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var w=Su(l.prototype),R=l.apply(w,f);return wr(R)?R:w}}function wg(l,f,w){var R=Mu(l);function L(){for(var V=arguments.length,se=B(V),he=V,Ee=pa(L);he--;)se[he]=arguments[he];var We=V<3&&se[0]!==Ee&&se[V-1]!==Ee?[]:Er(se,Ee);if(V-=We.length,V<w)return ks(l,f,Iu,L.placeholder,n,se,We,n,n,w-V);var qe=this&&this!==Kn&&this instanceof L?R:l;return Rr(qe,this,se)}return L}function yc(l){return function(f,w,R){var L=ce(f);if(!Do(f)){var V=Mt(w,3);f=gs(f),w=function(he){return V(L[he],he,L)}}var se=l(f,w,R);return se>-1?L[V?f[se]:se]:n}}function sp(l){return Li(function(f){var w=f.length,R=w,L=us.prototype.thru;for(l&&f.reverse();R--;){var V=f[R];if(typeof V!="function")throw new Ae(c);if(L&&!se&&Lu(V)=="wrapper")var se=new us([],!0)}for(R=se?R:w;++R<w;){V=f[R];var he=Lu(V),Ee=he=="wrapper"?ap(V):n;Ee&&gf(Ee[0])&&Ee[1]==(Z|M|q|ae)&&!Ee[4].length&&Ee[9]==1?se=se[Lu(Ee[0])].apply(se,Ee[3]):se=V.length==1&&gf(V)?se[he]():se.thru(V)}return function(){var We=arguments,qe=We[0];if(se&&We.length==1&&an(qe))return se.plant(qe).value();for(var Qe=0,mt=w?f[Qe].apply(this,We):qe;++Qe<w;)mt=f[Qe].call(this,mt);return mt}})}function Iu(l,f,w,R,L,V,se,he,Ee,We){var qe=f&Z,Qe=f&N,mt=f&O,jt=f&(M|z),zt=f&te,gn=mt?n:Mu(l);function Wt(){for(var xn=arguments.length,Cn=B(xn),di=xn;di--;)Cn[di]=arguments[di];if(jt)var ao=pa(Wt),fi=Nh(Cn,ao);if(R&&(Cn=$y(Cn,R,L,jt)),V&&(Cn=yg(Cn,V,se,jt)),xn-=fi,jt&&xn<We){var Mr=Er(Cn,ao);return ks(l,f,Iu,Wt.placeholder,w,Cn,Mr,he,Ee,We-xn)}var ya=Qe?w:this,Nc=mt?ya[l]:l;return xn=Cn.length,he?Cn=oi(Cn,he):zt&&xn>1&&Cn.reverse(),qe&&Ee<xn&&(Cn.length=Ee),this&&this!==Kn&&this instanceof Wt&&(Nc=gn||Mu(Nc)),Nc.apply(ya,Cn)}return Wt}function By(l,f){return function(w,R){return ca(w,l,f(R),{})}}function cf(l,f){return function(w,R){var L;if(w===n&&R===n)return f;if(w!==n&&(L=w),R!==n){if(L===n)return R;typeof w=="string"||typeof R=="string"?(w=qs(w),R=qs(R)):(w=hg(w),R=hg(R)),L=l(w,R)}return L}}function op(l){return Li(function(f){return f=In(f,as(Mt())),hn(function(w){var R=this;return l(f,function(L){return Rr(L,R,w)})})})}function uf(l,f){f=f===n?" ":qs(f);var w=f.length;if(w<2)return w?mc(f,l):f;var R=mc(f,ic(l/v(f)));return ti(f)?ha(b(R),0,l).join(""):R.slice(0,l)}function Uy(l,f,w,R){var L=f&N,V=Mu(l);function se(){for(var he=-1,Ee=arguments.length,We=-1,qe=R.length,Qe=B(qe+Ee),mt=this&&this!==Kn&&this instanceof se?V:l;++We<qe;)Qe[We]=R[We];for(;Ee--;)Qe[We++]=arguments[++he];return Rr(mt,L?w:this,Qe)}return se}function bg(l){return function(f,w,R){return R&&typeof R!="number"&&Cs(f,w,R)&&(w=R=n),f=Cc(f),w===n?(w=f,f=0):w=Cc(w),R=R===n?f<w?1:-1:Cc(R),sf(f,w,R,l)}}function ip(l){return function(f,w){return typeof f=="string"&&typeof w=="string"||(f=$i(f),w=$i(w)),l(f,w)}}function ks(l,f,w,R,L,V,se,he,Ee,We){var qe=f&M,Qe=qe?se:n,mt=qe?n:se,jt=qe?V:n,zt=qe?n:V;f|=qe?q:Y,f&=~(qe?Y:q),f&D||(f&=-4);var gn=[l,f,L,jt,Qe,zt,mt,he,Ee,We],Wt=w.apply(n,gn);return gf(l)&&Rg(Wt,gn),Wt.placeholder=R,Pg(Wt,l,f)}function Xr(l){var f=be[l];return function(w,R){if(w=$i(w),R=R==null?0:cs(pn(R),292),R&&yu(w)){var L=($n(w)+"e").split("e"),V=f(L[0]+"e"+(+L[1]+R));return L=($n(V)+"e").split("e"),+(L[0]+"e"+(+L[1]-R))}return f(w)}}var zy=sl&&1/_o(new sl([,-0]))[1]==de?function(l){return new sl(l)}:fb;function _g(l){return function(f){var w=Jr(f);return w==nn?Ja(f):w==Vt?el(f):kh(f,l(f))}}function Ii(l,f,w,R,L,V,se,he){var Ee=f&O;if(!Ee&&typeof l!="function")throw new Ae(c);var We=R?R.length:0;if(We||(f&=-97,R=L=n),se=se===n?se:kr(pn(se),0),he=he===n?he:pn(he),We-=L?L.length:0,f&Y){var qe=R,Qe=L;R=L=n}var mt=Ee?n:ap(l),jt=[l,f,w,R,L,qe,Qe,V,se,he];if(mt&&Yy(jt,mt),l=jt[0],f=jt[1],w=jt[2],R=jt[3],L=jt[4],he=jt[9]=jt[9]===n?Ee?0:l.length:kr(jt[9]-We,0),!he&&f&(M|z)&&(f&=-25),!f||f==N)var zt=rp(l,f,w);else f==M||f==z?zt=wg(l,f,he):(f==q||f==(N|q))&&!L.length?zt=Uy(l,f,w,R):zt=Iu.apply(n,jt);var gn=mt?Gh:Rg;return Pg(gn(zt,jt),l,f)}function Sg(l,f,w,R){return l===n||va(l,st[w])&&!Ke.call(R,w)?f:l}function Eg(l,f,w,R,L,V){return wr(l)&&wr(f)&&(V.set(f,l),pc(l,f,n,Eg,V),V.delete(f)),l}function kg(l){return Yg(l)?n:l}function Cg(l,f,w,R,L,V){var se=w&T,he=l.length,Ee=f.length;if(he!=Ee&&!(se&&Ee>he))return!1;var We=V.get(l),qe=V.get(f);if(We&&qe)return We==f&&qe==l;var Qe=-1,mt=!0,jt=w&E?new lc:n;for(V.set(l,f),V.set(f,l);++Qe<he;){var zt=l[Qe],gn=f[Qe];if(R)var Wt=se?R(gn,zt,Qe,f,l,V):R(zt,gn,Qe,l,f,V);if(Wt!==n){if(Wt)continue;mt=!1;break}if(jt){if(!ei(f,function(xn,Cn){if(!wo(jt,Cn)&&(zt===xn||L(zt,xn,w,R,V)))return jt.push(Cn)})){mt=!1;break}}else if(!(zt===gn||L(zt,gn,w,R,V))){mt=!1;break}}return V.delete(l),V.delete(f),mt}function Ng(l,f,w,R,L,V,se){switch(w){case ct:if(l.byteLength!=f.byteLength||l.byteOffset!=f.byteOffset)return!1;l=l.buffer,f=f.buffer;case Ue:return!(l.byteLength!=f.byteLength||!V(new dr(l),new dr(f)));case at:case Oe:case On:return va(+l,+f);case At:return l.name==f.name&&l.message==f.message;case Zt:case ie:return l==f+"";case nn:var he=Ja;case Vt:var Ee=R&T;if(he||(he=_o),l.size!=f.size&&!Ee)return!1;var We=se.get(l);if(We)return We==f;R|=E,se.set(l,f);var qe=Cg(he(l),he(f),R,L,V,se);return se.delete(l),qe;case ve:if(no)return no.call(l)==no.call(f)}return!1}function Wy(l,f,w,R,L,V){var se=w&T,he=df(l),Ee=he.length,We=df(f),qe=We.length;if(Ee!=qe&&!se)return!1;for(var Qe=Ee;Qe--;){var mt=he[Qe];if(!(se?mt in f:Ke.call(f,mt)))return!1}var jt=V.get(l),zt=V.get(f);if(jt&&zt)return jt==f&&zt==l;var gn=!0;V.set(l,f),V.set(f,l);for(var Wt=se;++Qe<Ee;){mt=he[Qe];var xn=l[mt],Cn=f[mt];if(R)var di=se?R(Cn,xn,mt,f,l,V):R(xn,Cn,mt,l,f,V);if(!(di===n?xn===Cn||L(xn,Cn,w,R,V):di)){gn=!1;break}Wt||(Wt=mt=="constructor")}if(gn&&!Wt){var ao=l.constructor,fi=f.constructor;ao!=fi&&"constructor"in l&&"constructor"in f&&!(typeof ao=="function"&&ao instanceof ao&&typeof fi=="function"&&fi instanceof fi)&&(gn=!1)}return V.delete(l),V.delete(f),gn}function Li(l){return oo(dp(l,n,pp),l+"")}function df(l){return Wh(l,gs,si)}function ff(l){return Wh(l,Mo,Vy)}var ap=Dh?function(l){return Dh.get(l)}:fb;function Lu(l){for(var f=l.name+"",w=bu[f],R=Ke.call(bu,f)?w.length:0;R--;){var L=w[R],V=L.func;if(V==null||V==l)return L.name}return f}function pa(l){var f=Ke.call(W,"placeholder")?W:l;return f.placeholder}function Mt(){var l=W.iteratee||ub;return l=l===ub?Tu:l,arguments.length?l(arguments[0],arguments[1]):l}function hf(l,f){var w=l.__data__;return Fu(f)?w[typeof f=="string"?"string":"hash"]:w.map}function pf(l){for(var f=gs(l),w=f.length;w--;){var R=f[w],L=l[R];f[w]=[R,L,vf(L)]}return f}function hl(l,f){var w=Fn(l,f);return og(w)?w:n}function lp(l){var f=Ke.call(l,oc),w=l[oc];try{l[oc]=n;var R=!0}catch{}var L=Bt.call(l);return R&&(f?l[oc]=w:delete l[oc]),L}var si=Rh?function(l){return l==null?[]:(l=ce(l),Bs(Rh(l),function(f){return nl.call(l,f)}))}:hb,Vy=Rh?function(l){for(var f=[];l;)Jo(f,si(l)),l=Vn(l);return f}:hb,Jr=Qr;(Yd&&Jr(new Yd(new ArrayBuffer(1)))!=ct||ac&&Jr(new ac)!=nn||Gd&&Jr(Gd.resolve())!=Xe||sl&&Jr(new sl)!=Vt||Zd&&Jr(new Zd)!=Je)&&(Jr=function(l){var f=Qr(l),w=f==zn?l.constructor:n,R=w?pl(w):"";if(R)switch(R){case Jm:return ct;case ol:return nn;case Sy:return Xe;case _u:return Vt;case Ci:return Je}return f});function jg(l,f,w){for(var R=-1,L=w.length;++R<L;){var V=w[R],se=V.size;switch(V.type){case"drop":l+=se;break;case"dropRight":f-=se;break;case"take":f=cs(f,l+se);break;case"takeRight":l=kr(l,f-se);break}}return{start:l,end:f}}function Hy(l){var f=l.match(Gi);return f?f[1].split($a):[]}function Tg(l,f,w){f=Mi(f,l);for(var R=-1,L=f.length,V=!1;++R<L;){var se=ai(f[R]);if(!(V=l!=null&&w(l,se)))break;l=l[se]}return V||++R!=L?V:(L=l==null?0:l.length,!!L&&d0(L)&&nr(se,L)&&(an(l)||kf(l)))}function mf(l){var f=l.length,w=new l.constructor(f);return f&&typeof l[0]=="string"&&Ke.call(l,"index")&&(w.index=l.index,w.input=l.input),w}function es(l){return typeof l.constructor=="function"&&!ma(l)?Su(Vn(l)):{}}function $w(l,f,w){var R=l.constructor;switch(f){case Ue:return lf(l);case at:case Oe:return new R(+l);case ct:return My(l,w);case Nt:case rn:case fn:case mr:case Qn:case sr:case Tr:case ht:case ws:return Fy(l,w);case nn:return new R;case On:case ie:return new R(l);case Zt:return Iy(l);case Vt:return new R;case ve:return Ly(l)}}function Bw(l,f){var w=f.length;if(!w)return l;var R=w-1;return f[R]=(w>1?"& ":"")+f[R],f=f.join(w>2?", ":" "),l.replace(Yi,`{
/* [wrapped with `+f+`] */
`)}function cp(l){return an(l)||kf(l)||!!(wy&&l&&l[wy])}function nr(l,f){var w=typeof l;return f=f??Q,!!f&&(w=="number"||w!="symbol"&&Md.test(l))&&l>-1&&l%1==0&&l<f}function Cs(l,f,w){if(!wr(w))return!1;var R=typeof f;return(R=="number"?Do(w)&&nr(f,w.length):R=="string"&&f in w)?va(w[f],l):!1}function bt(l,f){if(an(l))return!1;var w=typeof l;return w=="number"||w=="symbol"||w=="boolean"||l==null||ui(l)?!0:gr.test(l)||!ur.test(l)||f!=null&&l in ce(f)}function Fu(l){var f=typeof l;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?l!=="__proto__":l===null}function gf(l){var f=Lu(l),w=W[f];if(typeof w!="function"||!(f in on.prototype))return!1;if(l===w)return!0;var R=ap(w);return!!R&&l===R[0]}function qy(l){return!!vt&&vt in l}var Uw=et?kc:pb;function ma(l){var f=l&&l.constructor,w=typeof f=="function"&&f.prototype||st;return l===w}function vf(l){return l===l&&!wr(l)}function up(l,f){return function(w){return w==null?!1:w[l]===f&&(f!==n||l in ce(w))}}function Ky(l){var f=je(l,function(R){return w.size===m&&w.clear(),R}),w=f.cache;return f}function Yy(l,f){var w=l[1],R=f[1],L=w|R,V=L<(N|O|Z),se=R==Z&&w==M||R==Z&&w==ae&&l[7].length<=f[8]||R==(Z|ae)&&f[7].length<=f[8]&&w==M;if(!(V||se))return l;R&N&&(l[2]=f[2],L|=w&N?0:D);var he=f[3];if(he){var Ee=l[3];l[3]=Ee?$y(Ee,he,f[4]):he,l[4]=Ee?Er(l[3],y):f[4]}return he=f[5],he&&(Ee=l[5],l[5]=Ee?yg(Ee,he,f[6]):he,l[6]=Ee?Er(l[5],y):f[6]),he=f[7],he&&(l[7]=he),R&Z&&(l[8]=l[8]==null?f[8]:cs(l[8],f[8])),l[9]==null&&(l[9]=f[9]),l[0]=f[0],l[1]=L,l}function Gy(l){var f=[];if(l!=null)for(var w in ce(l))f.push(w);return f}function Ag(l){return Bt.call(l)}function dp(l,f,w){return f=kr(f===n?l.length-1:f,0),function(){for(var R=arguments,L=-1,V=kr(R.length-f,0),se=B(V);++L<V;)se[L]=R[f+L];L=-1;for(var he=B(f+1);++L<f;)he[L]=R[L];return he[f]=w(se),Rr(l,this,he)}}function Wr(l,f){return f.length<2?l:la(l,ms(f,0,-1))}function oi(l,f){for(var w=l.length,R=cs(f.length,w),L=Es(l);R--;){var V=f[R];l[R]=nr(V,w)?L[V]:n}return l}function Fi(l,f){if(!(f==="constructor"&&typeof l[f]=="function")&&f!="__proto__")return l[f]}var Rg=ii(Gh),$u=Qm||function(l,f){return Kn.setTimeout(l,f)},oo=ii(Di);function Pg(l,f,w){var R=f+"";return oo(l,Bw(R,Zy(Hy(R),w)))}function ii(l){var f=0,w=0;return function(){var R=Iw(),L=_e-(R-w);if(w=R,L>0){if(++f>=Se)return arguments[0]}else f=0;return l.apply(n,arguments)}}function fp(l,f){var w=-1,R=l.length,L=R-1;for(f=f===n?R:f;++w<f;){var V=Au(w,L),se=l[V];l[V]=l[w],l[w]=se}return l.length=f,l}var Og=Ky(function(l){var f=[];return l.charCodeAt(0)===46&&f.push(""),l.replace(Ur,function(w,R,L,V){f.push(L?V.replace(Ba,"$1"):R||w)}),f});function ai(l){if(typeof l=="string"||ui(l))return l;var f=l+"";return f=="0"&&1/l==-1/0?"-0":f}function pl(l){if(l!=null){try{return ot.call(l)}catch{}try{return l+""}catch{}}return""}function Zy(l,f){return Sr(Be,function(w){var R="_."+w[0];f&w[1]&&!Jl(l,R)&&l.push(R)}),l.sort()}function Qy(l){if(l instanceof on)return l.clone();var f=new us(l.__wrapped__,l.__chain__);return f.__actions__=Es(l.__actions__),f.__index__=l.__index__,f.__values__=l.__values__,f}function hp(l,f,w){(w?Cs(l,f,w):f===n)?f=1:f=kr(pn(f),0);var R=l==null?0:l.length;if(!R||f<1)return[];for(var L=0,V=0,se=B(ic(R/f));L<R;)se[V++]=ms(l,L,L+=f);return se}function Dg(l){for(var f=-1,w=l==null?0:l.length,R=0,L=[];++f<w;){var V=l[f];V&&(L[R++]=V)}return L}function Po(){var l=arguments.length;if(!l)return[];for(var f=B(l-1),w=arguments[0],R=l;R--;)f[R-1]=arguments[R];return Jo(an(w)?Es(w):[w],fr(f,1))}var kn=hn(function(l,f){return Dr(l)?Ri(l,fr(f,1,Dr,!0)):[]}),Vr=hn(function(l,f){var w=Ns(f);return Dr(w)&&(w=n),Dr(l)?Ri(l,fr(f,1,Dr,!0),Mt(w,2)):[]}),Cr=hn(function(l,f){var w=Ns(f);return Dr(w)&&(w=n),Dr(l)?Ri(l,fr(f,1,Dr,!0),n,w):[]});function ts(l,f,w){var R=l==null?0:l.length;return R?(f=w||f===n?1:pn(f),ms(l,f<0?0:f,R)):[]}function io(l,f,w){var R=l==null?0:l.length;return R?(f=w||f===n?1:pn(f),f=R-f,ms(l,0,f<0?0:f)):[]}function Bu(l,f){return l&&l.length?of(l,Mt(f,3),!0,!0):[]}function Or(l,f){return l&&l.length?of(l,Mt(f,3),!0):[]}function yf(l,f,w,R){var L=l==null?0:l.length;return L?(w&&typeof w!="number"&&Cs(l,f,w)&&(w=0,R=L),Ry(l,f,w,R)):[]}function ml(l,f,w){var R=l==null?0:l.length;if(!R)return-1;var L=w==null?0:pn(w);return L<0&&(L=kr(R+L,0)),ec(l,Mt(f,3),L)}function xf(l,f,w){var R=l==null?0:l.length;if(!R)return-1;var L=R-1;return w!==n&&(L=pn(w),L=w<0?kr(R+L,0):cs(L,R-1)),ec(l,Mt(f,3),L,!0)}function pp(l){var f=l==null?0:l.length;return f?fr(l,1):[]}function wf(l){var f=l==null?0:l.length;return f?fr(l,de):[]}function Ks(l,f){var w=l==null?0:l.length;return w?(f=f===n?1:pn(f),fr(l,f)):[]}function Mg(l){for(var f=-1,w=l==null?0:l.length,R={};++f<w;){var L=l[f];R[L[0]]=L[1]}return R}function xc(l){return l&&l.length?l[0]:n}function ga(l,f,w){var R=l==null?0:l.length;if(!R)return-1;var L=w==null?0:pn(w);return L<0&&(L=kr(R+L,0)),Qa(l,f,L)}function mp(l){var f=l==null?0:l.length;return f?ms(l,0,-1):[]}var Ig=hn(function(l){var f=In(l,Ou);return f.length&&f[0]===l[0]?Vh(f):[]}),gl=hn(function(l){var f=Ns(l),w=In(l,Ou);return f===Ns(w)?f=n:w.pop(),w.length&&w[0]===l[0]?Vh(w,Mt(f,2)):[]}),gp=hn(function(l){var f=Ns(l),w=In(l,Ou);return f=typeof f=="function"?f:n,f&&w.pop(),w.length&&w[0]===l[0]?Vh(w,n,f):[]});function vl(l,f){return l==null?"":Ph.call(l,f)}function Ns(l){var f=l==null?0:l.length;return f?l[f-1]:n}function bf(l,f,w){var R=l==null?0:l.length;if(!R)return-1;var L=R;return w!==n&&(L=pn(w),L=L<0?kr(R+L,0):cs(L,R-1)),f===f?Th(l,f,L):ec(l,nc,L,!0)}function Lg(l,f){return l&&l.length?Yh(l,pn(f)):n}var vp=hn(_f);function _f(l,f){return l&&l.length&&f&&f.length?yr(l,f):l}function js(l,f,w){return l&&l.length&&f&&f.length?yr(l,f,Mt(w,2)):l}function yl(l,f,w){return l&&l.length&&f&&f.length?yr(l,f,n,w):l}var li=Li(function(l,f){var w=l==null?0:l.length,R=Uh(l,f);return Pr(l,In(f,function(L){return nr(L,w)?+L:L}).sort(vg)),R});function Ys(l,f){var w=[];if(!(l&&l.length))return w;var R=-1,L=[],V=l.length;for(f=Mt(f,3);++R<V;){var se=l[R];f(se,R,l)&&(w.push(se),L.push(R))}return Pr(l,L),w}function yp(l){return l==null?l:Oh.call(l)}function Fg(l,f,w){var R=l==null?0:l.length;return R?(w&&typeof w!="number"&&Cs(l,f,w)?(f=0,w=R):(f=f==null?0:pn(f),w=w===n?R:pn(w)),ms(l,f,w)):[]}function $g(l,f){return Ru(l,f)}function zw(l,f,w){return Zh(l,f,Mt(w,2))}function xl(l,f){var w=l==null?0:l.length;if(w){var R=Ru(l,f);if(R<w&&va(l[R],f))return R}return-1}function Xy(l,f){return Ru(l,f,!0)}function Bg(l,f,w){return Zh(l,f,Mt(w,2),!0)}function wc(l,f){var w=l==null?0:l.length;if(w){var R=Ru(l,f,!0)-1;if(va(l[R],f))return R}return-1}function Ug(l){return l&&l.length?fg(l):[]}function bc(l,f){return l&&l.length?fg(l,Mt(f,2)):[]}function Jy(l){var f=l==null?0:l.length;return f?ms(l,1,f):[]}function e0(l,f,w){return l&&l.length?(f=w||f===n?1:pn(f),ms(l,0,f<0?0:f)):[]}function zg(l,f,w){var R=l==null?0:l.length;return R?(f=w||f===n?1:pn(f),f=R-f,ms(l,f<0?0:f,R)):[]}function xp(l,f){return l&&l.length?of(l,Mt(f,3),!1,!0):[]}function Ww(l,f){return l&&l.length?of(l,Mt(f,3)):[]}var Vw=hn(function(l){return fa(fr(l,1,Dr,!0))}),t0=hn(function(l){var f=Ns(l);return Dr(f)&&(f=n),fa(fr(l,1,Dr,!0),Mt(f,2))}),n0=hn(function(l){var f=Ns(l);return f=typeof f=="function"?f:n,fa(fr(l,1,Dr,!0),n,f)});function _c(l){return l&&l.length?fa(l):[]}function Hw(l,f){return l&&l.length?fa(l,Mt(f,2)):[]}function Uu(l,f){return f=typeof f=="function"?f:n,l&&l.length?fa(l,n,f):[]}function wp(l){if(!(l&&l.length))return[];var f=0;return l=Bs(l,function(w){if(Dr(w))return f=kr(w.length,f),!0}),gu(f,function(w){return In(l,rc(w))})}function ir(l,f){if(!(l&&l.length))return[];var w=wp(l);return f==null?w:In(w,function(R){return Rr(f,n,R)})}var qw=hn(function(l,f){return Dr(l)?Ri(l,f):[]}),r0=hn(function(l){return Xh(Bs(l,Dr))}),Kw=hn(function(l){var f=Ns(l);return Dr(f)&&(f=n),Xh(Bs(l,Dr),Mt(f,2))}),Yw=hn(function(l){var f=Ns(l);return f=typeof f=="function"?f:n,Xh(Bs(l,Dr),n,f)}),s0=hn(wp);function o0(l,f){return af(l||[],f||[],dc)}function Gw(l,f){return af(l||[],f||[],gc)}var Oo=hn(function(l){var f=l.length,w=f>1?l[f-1]:n;return w=typeof w=="function"?(l.pop(),w):n,ir(l,w)});function bp(l){var f=W(l);return f.__chain__=!0,f}function Zw(l,f){return f(l),l}function ci(l,f){return f(l)}var _p=Li(function(l){var f=l.length,w=f?l[0]:0,R=this.__wrapped__,L=function(V){return Uh(V,l)};return f>1||this.__actions__.length||!(R instanceof on)||!nr(w)?this.thru(L):(R=R.slice(w,+w+(f?1:0)),R.__actions__.push({func:ci,args:[L],thisArg:n}),new us(R,this.__chain__).thru(function(V){return f&&!V.length&&V.push(n),V}))});function Sc(){return bp(this)}function Sp(){return new us(this.value(),this.__chain__)}function Wg(){this.__values__===n&&(this.__values__=AE(this.value()));var l=this.__index__>=this.__values__.length,f=l?n:this.__values__[this.__index__++];return{done:l,value:f}}function Vg(){return this}function Qw(l){for(var f,w=this;w instanceof Ni;){var R=Qy(w);R.__index__=0,R.__values__=n,f?L.__wrapped__=R:f=R;var L=R;w=w.__wrapped__}return L.__wrapped__=l,f}function Hg(){var l=this.__wrapped__;if(l instanceof on){var f=l;return this.__actions__.length&&(f=new on(this)),f=f.reverse(),f.__actions__.push({func:ci,args:[yp],thisArg:n}),new us(f,this.__chain__)}return this.thru(yp)}function Xw(){return Pu(this.__wrapped__,this.__actions__)}var i0=tp(function(l,f,w){Ke.call(l,w)?++l[w]:Ai(l,w,1)});function a0(l,f,w){var R=an(l)?ra:Jd;return w&&Cs(l,f,w)&&(f=n),R(l,Mt(f,3))}function Ep(l,f){var w=an(l)?Bs:rg;return w(l,Mt(f,3))}var kp=yc(ml),l0=yc(xf);function qg(l,f){return fr(Ec(l,f),1)}function Jw(l,f){return fr(Ec(l,f),de)}function c0(l,f,w){return w=w===n?1:pn(w),fr(Ec(l,f),w)}function Cp(l,f){var w=an(l)?Sr:Pi;return w(l,Mt(f,3))}function Sf(l,f){var w=an(l)?vr:Ay;return w(l,Mt(f,3))}var Kg=tp(function(l,f,w){Ke.call(l,w)?l[w].push(f):Ai(l,w,[f])});function Np(l,f,w,R){l=Do(l)?l:Ap(l),w=w&&!R?pn(w):0;var L=l.length;return w<0&&(w=kr(L+w,0)),f0(l)?w<=L&&l.indexOf(f,w)>-1:!!L&&Qa(l,f,w)>-1}var u0=hn(function(l,f,w){var R=-1,L=typeof f=="function",V=Do(l)?B(l.length):[];return Pi(l,function(se){V[++R]=L?Rr(f,se,w):jo(se,f,w)}),V}),eb=tp(function(l,f,w){Ai(l,w,f)});function Ec(l,f){var w=an(l)?In:ag;return w(l,Mt(f,3))}function tb(l,f,w,R){return l==null?[]:(an(f)||(f=f==null?[]:[f]),w=R?n:w,an(w)||(w=w==null?[]:[w]),rf(l,f,w))}var Ef=tp(function(l,f,w){l[w?0:1].push(f)},function(){return[[],[]]});function nb(l,f,w){var R=an(l)?Za:Sh,L=arguments.length<3;return R(l,Mt(f,4),w,L,Pi)}function jp(l,f,w){var R=an(l)?Ud:Sh,L=arguments.length<3;return R(l,Mt(f,4),w,L,Ay)}function o(l,f){var w=an(l)?Bs:rg;return w(l,it(Mt(f,3)))}function a(l){var f=an(l)?Ti:ps;return f(l)}function h(l,f,w){(w?Cs(l,f,w):f===n)?f=1:f=pn(f);var R=an(l)?uc:ug;return R(l,f)}function x(l){var f=an(l)?jy:Ao;return f(l)}function C(l){if(l==null)return 0;if(Do(l))return f0(l)?v(l):l.length;var f=Jr(l);return f==nn||f==Vt?l.size:da(l).length}function A(l,f,w){var R=an(l)?ei:dg;return w&&Cs(l,f,w)&&(f=n),R(l,Mt(f,3))}var F=hn(function(l,f){if(l==null)return[];var w=f.length;return w>1&&Cs(l,f[0],f[1])?f=[]:w>2&&Cs(f[0],f[1],f[2])&&(f=[f[0]]),rf(l,fr(f,1),[])}),ee=Xn||function(){return Kn.Date.now()};function fe(l,f){if(typeof f!="function")throw new Ae(c);return l=pn(l),function(){if(--l<1)return f.apply(this,arguments)}}function Re(l,f,w){return f=w?n:f,f=l&&f==null?l.length:f,Ii(l,Z,n,n,n,n,f)}function Ge(l,f){var w;if(typeof f!="function")throw new Ae(c);return l=pn(l),function(){return--l>0&&(w=f.apply(this,arguments)),l<=1&&(f=n),w}}var tt=hn(function(l,f,w){var R=N;if(w.length){var L=Er(w,pa(tt));R|=q}return Ii(l,R,f,w,L)}),Ye=hn(function(l,f,w){var R=N|O;if(w.length){var L=Er(w,pa(Ye));R|=q}return Ii(f,R,l,w,L)});function yt(l,f,w){f=w?n:f;var R=Ii(l,M,n,n,n,n,n,f);return R.placeholder=yt.placeholder,R}function St(l,f,w){f=w?n:f;var R=Ii(l,z,n,n,n,n,n,f);return R.placeholder=St.placeholder,R}function Et(l,f,w){var R,L,V,se,he,Ee,We=0,qe=!1,Qe=!1,mt=!0;if(typeof l!="function")throw new Ae(c);f=$i(f)||0,wr(w)&&(qe=!!w.leading,Qe="maxWait"in w,V=Qe?kr($i(w.maxWait)||0,f):V,mt="trailing"in w?!!w.trailing:mt);function jt(Mr){var ya=R,Nc=L;return R=L=n,We=Mr,se=l.apply(Nc,ya),se}function zt(Mr){return We=Mr,he=$u(xn,f),qe?jt(Mr):se}function gn(Mr){var ya=Mr-Ee,Nc=Mr-We,WE=f-ya;return Qe?cs(WE,V-Nc):WE}function Wt(Mr){var ya=Mr-Ee,Nc=Mr-We;return Ee===n||ya>=f||ya<0||Qe&&Nc>=V}function xn(){var Mr=ee();if(Wt(Mr))return Cn(Mr);he=$u(xn,gn(Mr))}function Cn(Mr){return he=n,mt&&R?jt(Mr):(R=L=n,se)}function di(){he!==n&&mg(he),We=0,R=Ee=L=he=n}function ao(){return he===n?se:Cn(ee())}function fi(){var Mr=ee(),ya=Wt(Mr);if(R=arguments,L=this,Ee=Mr,ya){if(he===n)return zt(Ee);if(Qe)return mg(he),he=$u(xn,f),jt(Ee)}return he===n&&(he=$u(xn,f)),se}return fi.cancel=di,fi.flush=ao,fi}var xr=hn(function(l,f){return ng(l,1,f)}),ke=hn(function(l,f,w){return ng(l,$i(f)||0,w)});function we(l){return Ii(l,te)}function je(l,f){if(typeof l!="function"||f!=null&&typeof f!="function")throw new Ae(c);var w=function(){var R=arguments,L=f?f.apply(this,R):R[0],V=w.cache;if(V.has(L))return V.get(L);var se=l.apply(this,R);return w.cache=V.set(L,se)||V,se};return w.cache=new(je.Cache||Eo),w}je.Cache=Eo;function it(l){if(typeof l!="function")throw new Ae(c);return function(){var f=arguments;switch(f.length){case 0:return!l.call(this);case 1:return!l.call(this,f[0]);case 2:return!l.call(this,f[0],f[1]);case 3:return!l.call(this,f[0],f[1],f[2])}return!l.apply(this,f)}}function Ct(l){return Ge(2,l)}var Dt=Dy(function(l,f){f=f.length==1&&an(f[0])?In(f[0],as(Mt())):In(fr(f,1),as(Mt()));var w=f.length;return hn(function(R){for(var L=-1,V=cs(R.length,w);++L<V;)R[L]=f[L].call(this,R[L]);return Rr(l,this,R)})}),Ot=hn(function(l,f){var w=Er(f,pa(Ot));return Ii(l,q,n,f,w)}),Ut=hn(function(l,f){var w=Er(f,pa(Ut));return Ii(l,Y,n,f,w)}),Hr=Li(function(l,f){return Ii(l,ae,n,n,n,f)});function Tn(l,f){if(typeof l!="function")throw new Ae(c);return f=f===n?f:pn(f),hn(l,f)}function wl(l,f){if(typeof l!="function")throw new Ae(c);return f=f==null?0:kr(pn(f),0),hn(function(w){var R=w[f],L=ha(w,0,f);return R&&Jo(L,R),Rr(l,this,L)})}function rb(l,f,w){var R=!0,L=!0;if(typeof l!="function")throw new Ae(c);return wr(w)&&(R="leading"in w?!!w.leading:R,L="trailing"in w?!!w.trailing:L),Et(l,f,{leading:R,maxWait:f,trailing:L})}function cM(l){return Re(l,1)}function uM(l,f){return Ot(Jh(f),l)}function dM(){if(!arguments.length)return[];var l=arguments[0];return an(l)?l:[l]}function fM(l){return Hs(l,k)}function hM(l,f){return f=typeof f=="function"?f:n,Hs(l,k,f)}function pM(l){return Hs(l,g|k)}function mM(l,f){return f=typeof f=="function"?f:n,Hs(l,g|k,f)}function gM(l,f){return f==null||Xd(l,f,gs(f))}function va(l,f){return l===f||l!==l&&f!==f}var vM=ip(ul),yM=ip(function(l,f){return l>=f}),kf=Hh(function(){return arguments}())?Hh:function(l){return Nr(l)&&Ke.call(l,"callee")&&!nl.call(l,"callee")},an=B.isArray,xM=Ya?as(Ya):Py;function Do(l){return l!=null&&d0(l.length)&&!kc(l)}function Dr(l){return Nr(l)&&Do(l)}function wM(l){return l===!0||l===!1||Nr(l)&&Qr(l)==at}var zu=Xm||pb,bM=Ar?as(Ar):ua;function _M(l){return Nr(l)&&l.nodeType===1&&!Yg(l)}function SM(l){if(l==null)return!0;if(Do(l)&&(an(l)||typeof l=="string"||typeof l.splice=="function"||zu(l)||Tp(l)||kf(l)))return!l.length;var f=Jr(l);if(f==nn||f==Vt)return!l.size;if(ma(l))return!da(l).length;for(var w in l)if(Ke.call(l,w))return!1;return!0}function EM(l,f){return To(l,f)}function kM(l,f,w){w=typeof w=="function"?w:n;var R=w?w(l,f):n;return R===n?To(l,f,n,w):!!R}function sb(l){if(!Nr(l))return!1;var f=Qr(l);return f==At||f==wt||typeof l.message=="string"&&typeof l.name=="string"&&!Yg(l)}function CM(l){return typeof l=="number"&&yu(l)}function kc(l){if(!wr(l))return!1;var f=Qr(l);return f==ut||f==Gt||f==Me||f==Ft}function CE(l){return typeof l=="number"&&l==pn(l)}function d0(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=Q}function wr(l){var f=typeof l;return l!=null&&(f=="object"||f=="function")}function Nr(l){return l!=null&&typeof l=="object"}var NE=ki?as(ki):Oy;function NM(l,f){return l===f||ju(l,f,pf(f))}function jM(l,f,w){return w=typeof w=="function"?w:n,ju(l,f,pf(f),w)}function TM(l){return jE(l)&&l!=+l}function AM(l){if(Uw(l))throw new ne(i);return og(l)}function RM(l){return l===null}function PM(l){return l==null}function jE(l){return typeof l=="number"||Nr(l)&&Qr(l)==On}function Yg(l){if(!Nr(l)||Qr(l)!=zn)return!1;var f=Vn(l);if(f===null)return!0;var w=Ke.call(f,"constructor")&&f.constructor;return typeof w=="function"&&w instanceof w&&ot.call(w)==en}var ob=du?as(du):tf;function OM(l){return CE(l)&&l>=-9007199254740991&&l<=Q}var TE=Xo?as(Xo):Oi;function f0(l){return typeof l=="string"||!an(l)&&Nr(l)&&Qr(l)==ie}function ui(l){return typeof l=="symbol"||Nr(l)&&Qr(l)==ve}var Tp=fu?as(fu):nf;function DM(l){return l===n}function MM(l){return Nr(l)&&Jr(l)==Je}function IM(l){return Nr(l)&&Qr(l)==He}var LM=ip(dl),FM=ip(function(l,f){return l<=f});function AE(l){if(!l)return[];if(Do(l))return f0(l)?b(l):Es(l);if(oa&&l[oa])return Zm(l[oa]());var f=Jr(l),w=f==nn?Ja:f==Vt?_o:Ap;return w(l)}function Cc(l){if(!l)return l===0?l:0;if(l=$i(l),l===de||l===-1/0){var f=l<0?-1:1;return f*J}return l===l?l:0}function pn(l){var f=Cc(l),w=f%1;return f===f?w?f-w:f:0}function RE(l){return l?aa(pn(l),0,K):0}function $i(l){if(typeof l=="number")return l;if(ui(l))return xe;if(wr(l)){var f=typeof l.valueOf=="function"?l.valueOf():l;l=wr(f)?f+"":f}if(typeof l!="string")return l===0?l:+l;l=Ch(l);var w=yi.test(l);return w||xi.test(l)?ta(l.slice(2),w?2:8):vh.test(l)?xe:+l}function PE(l){return ri(l,Mo(l))}function $M(l){return l?aa(pn(l),-9007199254740991,Q):l===0?l:0}function $n(l){return l==null?"":qs(l)}var BM=Du(function(l,f){if(ma(f)||Do(f)){ri(f,gs(f),l);return}for(var w in f)Ke.call(f,w)&&dc(l,w,f[w])}),OE=Du(function(l,f){ri(f,Mo(f),l)}),h0=Du(function(l,f,w,R){ri(f,Mo(f),l,R)}),UM=Du(function(l,f,w,R){ri(f,gs(f),l,R)}),zM=Li(Uh);function WM(l,f){var w=Su(l);return f==null?w:er(w,f)}var VM=hn(function(l,f){l=ce(l);var w=-1,R=f.length,L=R>2?f[2]:n;for(L&&Cs(f[0],f[1],L)&&(R=1);++w<R;)for(var V=f[w],se=Mo(V),he=-1,Ee=se.length;++he<Ee;){var We=se[he],qe=l[We];(qe===n||va(qe,st[We])&&!Ke.call(l,We))&&(l[We]=V[We])}return l}),HM=hn(function(l){return l.push(n,Eg),Rr(DE,n,l)});function qM(l,f){return mu(l,Mt(f,3),so)}function KM(l,f){return mu(l,Mt(f,3),cl)}function YM(l,f){return l==null?l:zh(l,Mt(f,3),Mo)}function GM(l,f){return l==null?l:ef(l,Mt(f,3),Mo)}function ZM(l,f){return l&&so(l,Mt(f,3))}function QM(l,f){return l&&cl(l,Mt(f,3))}function XM(l){return l==null?[]:Nu(l,gs(l))}function JM(l){return l==null?[]:Nu(l,Mo(l))}function ib(l,f,w){var R=l==null?n:la(l,f);return R===n?w:R}function eI(l,f){return l!=null&&Tg(l,f,No)}function ab(l,f){return l!=null&&Tg(l,f,hc)}var tI=By(function(l,f,w){f!=null&&typeof f.toString!="function"&&(f=Bt.call(f)),l[f]=w},cb(Io)),nI=By(function(l,f,w){f!=null&&typeof f.toString!="function"&&(f=Bt.call(f)),Ke.call(l,f)?l[f].push(w):l[f]=[w]},Mt),rI=hn(jo);function gs(l){return Do(l)?ji(l):da(l)}function Mo(l){return Do(l)?ji(l,!0):ig(l)}function sI(l,f){var w={};return f=Mt(f,3),so(l,function(R,L,V){Ai(w,f(R,L,V),R)}),w}function oI(l,f){var w={};return f=Mt(f,3),so(l,function(R,L,V){Ai(w,L,f(R,L,V))}),w}var iI=Du(function(l,f,w){pc(l,f,w)}),DE=Du(function(l,f,w,R){pc(l,f,w,R)}),aI=Li(function(l,f){var w={};if(l==null)return w;var R=!1;f=In(f,function(V){return V=Mi(V,l),R||(R=V.length>1),V}),ri(l,ff(l),w),R&&(w=Hs(w,g|S|k,kg));for(var L=f.length;L--;)Qh(w,f[L]);return w});function lI(l,f){return ME(l,it(Mt(f)))}var cI=Li(function(l,f){return l==null?{}:cg(l,f)});function ME(l,f){if(l==null)return{};var w=In(ff(l),function(R){return[R]});return f=Mt(f),fl(l,w,function(R,L){return f(R,L[0])})}function uI(l,f,w){f=Mi(f,l);var R=-1,L=f.length;for(L||(L=1,l=n);++R<L;){var V=l==null?n:l[ai(f[R])];V===n&&(R=L,V=w),l=kc(V)?V.call(l):V}return l}function dI(l,f,w){return l==null?l:gc(l,f,w)}function fI(l,f,w,R){return R=typeof R=="function"?R:n,l==null?l:gc(l,f,w,R)}var IE=_g(gs),LE=_g(Mo);function hI(l,f,w){var R=an(l),L=R||zu(l)||Tp(l);if(f=Mt(f,4),w==null){var V=l&&l.constructor;L?w=R?new V:[]:wr(l)?w=kc(V)?Su(Vn(l)):{}:w={}}return(L?Sr:so)(l,function(se,he,Ee){return f(w,se,he,Ee)}),w}function pI(l,f){return l==null?!0:Qh(l,f)}function mI(l,f,w){return l==null?l:pg(l,f,Jh(w))}function gI(l,f,w,R){return R=typeof R=="function"?R:n,l==null?l:pg(l,f,Jh(w),R)}function Ap(l){return l==null?[]:sa(l,gs(l))}function vI(l){return l==null?[]:sa(l,Mo(l))}function yI(l,f,w){return w===n&&(w=f,f=n),w!==n&&(w=$i(w),w=w===w?w:0),f!==n&&(f=$i(f),f=f===f?f:0),aa($i(l),f,w)}function xI(l,f,w){return f=Cc(f),w===n?(w=f,f=0):w=Cc(w),l=$i(l),sg(l,f,w)}function wI(l,f,w){if(w&&typeof w!="boolean"&&Cs(l,f,w)&&(f=w=n),w===n&&(typeof f=="boolean"?(w=f,f=n):typeof l=="boolean"&&(w=l,l=n)),l===n&&f===n?(l=0,f=1):(l=Cc(l),f===n?(f=l,l=0):f=Cc(f)),l>f){var R=l;l=f,f=R}if(w||l%1||f%1){var L=Kd();return cs(l+L*(f-l+qa("1e-"+((L+"").length-1))),f)}return Au(l,f)}var bI=vc(function(l,f,w){return f=f.toLowerCase(),l+(w?FE(f):f)});function FE(l){return lb($n(l).toLowerCase())}function $E(l){return l=$n(l),l&&l.replace(su,jh).replace(Qo,"")}function _I(l,f,w){l=$n(l),f=qs(f);var R=l.length;w=w===n?R:aa(pn(w),0,R);var L=w;return w-=f.length,w>=0&&l.slice(w,L)==f}function SI(l){return l=$n(l),l&&Wl.test(l)?l.replace(Ms,sc):l}function EI(l){return l=$n(l),l&&tn.test(l)?l.replace(zr,"\\$&"):l}var kI=vc(function(l,f,w){return l+(w?"-":"")+f.toLowerCase()}),CI=vc(function(l,f,w){return l+(w?" ":"")+f.toLowerCase()}),NI=xg("toLowerCase");function jI(l,f,w){l=$n(l),f=pn(f);var R=f?v(l):0;if(!f||R>=f)return l;var L=(f-R)/2;return uf(rl(L),w)+l+uf(ic(L),w)}function TI(l,f,w){l=$n(l),f=pn(f);var R=f?v(l):0;return f&&R<f?l+uf(f-R,w):l}function AI(l,f,w){l=$n(l),f=pn(f);var R=f?v(l):0;return f&&R<f?uf(f-R,w)+l:l}function RI(l,f,w){return w||f==null?f=0:f&&(f=+f),_y($n(l).replace(Rn,""),f||0)}function PI(l,f,w){return(w?Cs(l,f,w):f===n)?f=1:f=pn(f),mc($n(l),f)}function OI(){var l=arguments,f=$n(l[0]);return l.length<3?f:f.replace(l[1],l[2])}var DI=vc(function(l,f,w){return l+(w?"_":"")+f.toLowerCase()});function MI(l,f,w){return w&&typeof w!="number"&&Cs(l,f,w)&&(f=w=n),w=w===n?K:w>>>0,w?(l=$n(l),l&&(typeof f=="string"||f!=null&&!ob(f))&&(f=qs(f),!f&&ti(l))?ha(b(l),0,w):l.split(f,w)):[]}var II=vc(function(l,f,w){return l+(w?" ":"")+lb(f)});function LI(l,f,w){return l=$n(l),w=w==null?0:aa(pn(w),0,l.length),f=qs(f),l.slice(w,w+f.length)==f}function FI(l,f,w){var R=W.templateSettings;w&&Cs(l,f,w)&&(f=n),l=$n(l),f=h0({},f,R,Sg);var L=h0({},f.imports,R.imports,Sg),V=gs(L),se=sa(L,V),he,Ee,We=0,qe=f.interpolate||qn,Qe="__p += '",mt=Ne((f.escape||qn).source+"|"+qe.source+"|"+(qe===Dn?is:qn).source+"|"+(f.evaluate||qn).source+"|$","g"),jt="//# sourceURL="+(Ke.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Gl+"]")+`
`;l.replace(mt,function(Wt,xn,Cn,di,ao,fi){return Cn||(Cn=di),Qe+=l.slice(We,fi).replace(Zi,bo),xn&&(he=!0,Qe+=`' +
__e(`+xn+`) +
'`),ao&&(Ee=!0,Qe+=`';
`+ao+`;
__p += '`),Cn&&(Qe+=`' +
((__t = (`+Cn+`)) == null ? '' : __t) +
'`),We=fi+Wt.length,Wt}),Qe+=`';
`;var zt=Ke.call(f,"variable")&&f.variable;if(!zt)Qe=`with (obj) {
`+Qe+`
}
`;else if(vi.test(zt))throw new ne(u);Qe=(Ee?Qe.replace(os,""):Qe).replace(qo,"$1").replace(dt,"$1;"),Qe="function("+(zt||"obj")+`) {
`+(zt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(he?", __e = _.escape":"")+(Ee?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Qe+`return __p
}`;var gn=UE(function(){return ue(V,jt+"return "+Qe).apply(n,se)});if(gn.source=Qe,sb(gn))throw gn;return gn}function $I(l){return $n(l).toLowerCase()}function BI(l){return $n(l).toUpperCase()}function UI(l,f,w){if(l=$n(l),l&&(w||f===n))return Ch(l);if(!l||!(f=qs(f)))return l;var R=b(l),L=b(f),V=Vd(R,L),se=Hd(R,L)+1;return ha(R,V,se).join("")}function zI(l,f,w){if(l=$n(l),l&&(w||f===n))return l.slice(0,j(l)+1);if(!l||!(f=qs(f)))return l;var R=b(l),L=Hd(R,b(f))+1;return ha(R,0,L).join("")}function WI(l,f,w){if(l=$n(l),l&&(w||f===n))return l.replace(Rn,"");if(!l||!(f=qs(f)))return l;var R=b(l),L=Vd(R,b(f));return ha(R,L).join("")}function VI(l,f){var w=ye,R=Te;if(wr(f)){var L="separator"in f?f.separator:L;w="length"in f?pn(f.length):w,R="omission"in f?qs(f.omission):R}l=$n(l);var V=l.length;if(ti(l)){var se=b(l);V=se.length}if(w>=V)return l;var he=w-v(R);if(he<1)return R;var Ee=se?ha(se,0,he).join(""):l.slice(0,he);if(L===n)return Ee+R;if(se&&(he+=Ee.length-he),ob(L)){if(l.slice(he).search(L)){var We,qe=Ee;for(L.global||(L=Ne(L.source,$n(Ua.exec(L))+"g")),L.lastIndex=0;We=L.exec(qe);)var Qe=We.index;Ee=Ee.slice(0,Qe===n?he:Qe)}}else if(l.indexOf(qs(L),he)!=he){var mt=Ee.lastIndexOf(L);mt>-1&&(Ee=Ee.slice(0,mt))}return Ee+R}function HI(l){return l=$n(l),l&&bs.test(l)?l.replace(eo,P):l}var qI=vc(function(l,f,w){return l+(w?" ":"")+f.toUpperCase()}),lb=xg("toUpperCase");function BE(l,f,w){return l=$n(l),f=w?n:f,f===n?Us(l)?G(l):pu(l):l.match(f)||[]}var UE=hn(function(l,f){try{return Rr(l,n,f)}catch(w){return sb(w)?w:new ne(w)}}),KI=Li(function(l,f){return Sr(f,function(w){w=ai(w),Ai(l,w,tt(l[w],l))}),l});function YI(l){var f=l==null?0:l.length,w=Mt();return l=f?In(l,function(R){if(typeof R[1]!="function")throw new Ae(c);return[w(R[0]),R[1]]}):[],hn(function(R){for(var L=-1;++L<f;){var V=l[L];if(Rr(V[0],this,R))return Rr(V[1],this,R)}})}function GI(l){return Ty(Hs(l,g))}function cb(l){return function(){return l}}function ZI(l,f){return l==null||l!==l?f:l}var QI=sp(),XI=sp(!0);function Io(l){return l}function ub(l){return Tu(typeof l=="function"?l:Hs(l,g))}function JI(l){return Kh(Hs(l,g))}function e3(l,f){return tr(l,Hs(f,g))}var t3=hn(function(l,f){return function(w){return jo(w,l,f)}}),n3=hn(function(l,f){return function(w){return jo(l,w,f)}});function db(l,f,w){var R=gs(f),L=Nu(f,R);w==null&&!(wr(f)&&(L.length||!R.length))&&(w=f,f=l,l=this,L=Nu(f,gs(f)));var V=!(wr(w)&&"chain"in w)||!!w.chain,se=kc(l);return Sr(L,function(he){var Ee=f[he];l[he]=Ee,se&&(l.prototype[he]=function(){var We=this.__chain__;if(V||We){var qe=l(this.__wrapped__),Qe=qe.__actions__=Es(this.__actions__);return Qe.push({func:Ee,args:arguments,thisArg:l}),qe.__chain__=We,qe}return Ee.apply(l,Jo([this.value()],arguments))})}),l}function r3(){return Kn._===this&&(Kn._=sn),this}function fb(){}function s3(l){return l=pn(l),hn(function(f){return Yh(f,l)})}var o3=op(In),i3=op(ra),a3=op(ei);function zE(l){return bt(l)?rc(ai(l)):or(l)}function l3(l){return function(f){return l==null?n:la(l,f)}}var c3=bg(),u3=bg(!0);function hb(){return[]}function pb(){return!1}function d3(){return{}}function f3(){return""}function h3(){return!0}function p3(l,f){if(l=pn(l),l<1||l>Q)return[];var w=K,R=cs(l,K);f=Mt(f),l-=K;for(var L=gu(R,f);++w<l;)f(w);return L}function m3(l){return an(l)?In(l,ai):ui(l)?[l]:Es(Og($n(l)))}function g3(l){var f=++lt;return $n(l)+f}var v3=cf(function(l,f){return l+f},0),y3=Xr("ceil"),x3=cf(function(l,f){return l/f},1),w3=Xr("floor");function b3(l){return l&&l.length?fc(l,Io,ul):n}function _3(l,f){return l&&l.length?fc(l,Mt(f,2),ul):n}function S3(l){return _h(l,Io)}function E3(l,f){return _h(l,Mt(f,2))}function k3(l){return l&&l.length?fc(l,Io,dl):n}function C3(l,f){return l&&l.length?fc(l,Mt(f,2),dl):n}var N3=cf(function(l,f){return l*f},1),j3=Xr("round"),T3=cf(function(l,f){return l-f},0);function A3(l){return l&&l.length?Wd(l,Io):0}function R3(l,f){return l&&l.length?Wd(l,Mt(f,2)):0}return W.after=fe,W.ary=Re,W.assign=BM,W.assignIn=OE,W.assignInWith=h0,W.assignWith=UM,W.at=zM,W.before=Ge,W.bind=tt,W.bindAll=KI,W.bindKey=Ye,W.castArray=dM,W.chain=bp,W.chunk=hp,W.compact=Dg,W.concat=Po,W.cond=YI,W.conforms=GI,W.constant=cb,W.countBy=i0,W.create=WM,W.curry=yt,W.curryRight=St,W.debounce=Et,W.defaults=VM,W.defaultsDeep=HM,W.defer=xr,W.delay=ke,W.difference=kn,W.differenceBy=Vr,W.differenceWith=Cr,W.drop=ts,W.dropRight=io,W.dropRightWhile=Bu,W.dropWhile=Or,W.fill=yf,W.filter=Ep,W.flatMap=qg,W.flatMapDeep=Jw,W.flatMapDepth=c0,W.flatten=pp,W.flattenDeep=wf,W.flattenDepth=Ks,W.flip=we,W.flow=QI,W.flowRight=XI,W.fromPairs=Mg,W.functions=XM,W.functionsIn=JM,W.groupBy=Kg,W.initial=mp,W.intersection=Ig,W.intersectionBy=gl,W.intersectionWith=gp,W.invert=tI,W.invertBy=nI,W.invokeMap=u0,W.iteratee=ub,W.keyBy=eb,W.keys=gs,W.keysIn=Mo,W.map=Ec,W.mapKeys=sI,W.mapValues=oI,W.matches=JI,W.matchesProperty=e3,W.memoize=je,W.merge=iI,W.mergeWith=DE,W.method=t3,W.methodOf=n3,W.mixin=db,W.negate=it,W.nthArg=s3,W.omit=aI,W.omitBy=lI,W.once=Ct,W.orderBy=tb,W.over=o3,W.overArgs=Dt,W.overEvery=i3,W.overSome=a3,W.partial=Ot,W.partialRight=Ut,W.partition=Ef,W.pick=cI,W.pickBy=ME,W.property=zE,W.propertyOf=l3,W.pull=vp,W.pullAll=_f,W.pullAllBy=js,W.pullAllWith=yl,W.pullAt=li,W.range=c3,W.rangeRight=u3,W.rearg=Hr,W.reject=o,W.remove=Ys,W.rest=Tn,W.reverse=yp,W.sampleSize=h,W.set=dI,W.setWith=fI,W.shuffle=x,W.slice=Fg,W.sortBy=F,W.sortedUniq=Ug,W.sortedUniqBy=bc,W.split=MI,W.spread=wl,W.tail=Jy,W.take=e0,W.takeRight=zg,W.takeRightWhile=xp,W.takeWhile=Ww,W.tap=Zw,W.throttle=rb,W.thru=ci,W.toArray=AE,W.toPairs=IE,W.toPairsIn=LE,W.toPath=m3,W.toPlainObject=PE,W.transform=hI,W.unary=cM,W.union=Vw,W.unionBy=t0,W.unionWith=n0,W.uniq=_c,W.uniqBy=Hw,W.uniqWith=Uu,W.unset=pI,W.unzip=wp,W.unzipWith=ir,W.update=mI,W.updateWith=gI,W.values=Ap,W.valuesIn=vI,W.without=qw,W.words=BE,W.wrap=uM,W.xor=r0,W.xorBy=Kw,W.xorWith=Yw,W.zip=s0,W.zipObject=o0,W.zipObjectDeep=Gw,W.zipWith=Oo,W.entries=IE,W.entriesIn=LE,W.extend=OE,W.extendWith=h0,db(W,W),W.add=v3,W.attempt=UE,W.camelCase=bI,W.capitalize=FE,W.ceil=y3,W.clamp=yI,W.clone=fM,W.cloneDeep=pM,W.cloneDeepWith=mM,W.cloneWith=hM,W.conformsTo=gM,W.deburr=$E,W.defaultTo=ZI,W.divide=x3,W.endsWith=_I,W.eq=va,W.escape=SI,W.escapeRegExp=EI,W.every=a0,W.find=kp,W.findIndex=ml,W.findKey=qM,W.findLast=l0,W.findLastIndex=xf,W.findLastKey=KM,W.floor=w3,W.forEach=Cp,W.forEachRight=Sf,W.forIn=YM,W.forInRight=GM,W.forOwn=ZM,W.forOwnRight=QM,W.get=ib,W.gt=vM,W.gte=yM,W.has=eI,W.hasIn=ab,W.head=xc,W.identity=Io,W.includes=Np,W.indexOf=ga,W.inRange=xI,W.invoke=rI,W.isArguments=kf,W.isArray=an,W.isArrayBuffer=xM,W.isArrayLike=Do,W.isArrayLikeObject=Dr,W.isBoolean=wM,W.isBuffer=zu,W.isDate=bM,W.isElement=_M,W.isEmpty=SM,W.isEqual=EM,W.isEqualWith=kM,W.isError=sb,W.isFinite=CM,W.isFunction=kc,W.isInteger=CE,W.isLength=d0,W.isMap=NE,W.isMatch=NM,W.isMatchWith=jM,W.isNaN=TM,W.isNative=AM,W.isNil=PM,W.isNull=RM,W.isNumber=jE,W.isObject=wr,W.isObjectLike=Nr,W.isPlainObject=Yg,W.isRegExp=ob,W.isSafeInteger=OM,W.isSet=TE,W.isString=f0,W.isSymbol=ui,W.isTypedArray=Tp,W.isUndefined=DM,W.isWeakMap=MM,W.isWeakSet=IM,W.join=vl,W.kebabCase=kI,W.last=Ns,W.lastIndexOf=bf,W.lowerCase=CI,W.lowerFirst=NI,W.lt=LM,W.lte=FM,W.max=b3,W.maxBy=_3,W.mean=S3,W.meanBy=E3,W.min=k3,W.minBy=C3,W.stubArray=hb,W.stubFalse=pb,W.stubObject=d3,W.stubString=f3,W.stubTrue=h3,W.multiply=N3,W.nth=Lg,W.noConflict=r3,W.noop=fb,W.now=ee,W.pad=jI,W.padEnd=TI,W.padStart=AI,W.parseInt=RI,W.random=wI,W.reduce=nb,W.reduceRight=jp,W.repeat=PI,W.replace=OI,W.result=uI,W.round=j3,W.runInContext=$,W.sample=a,W.size=C,W.snakeCase=DI,W.some=A,W.sortedIndex=$g,W.sortedIndexBy=zw,W.sortedIndexOf=xl,W.sortedLastIndex=Xy,W.sortedLastIndexBy=Bg,W.sortedLastIndexOf=wc,W.startCase=II,W.startsWith=LI,W.subtract=T3,W.sum=A3,W.sumBy=R3,W.template=FI,W.times=p3,W.toFinite=Cc,W.toInteger=pn,W.toLength=RE,W.toLower=$I,W.toNumber=$i,W.toSafeInteger=$M,W.toString=$n,W.toUpper=BI,W.trim=UI,W.trimEnd=zI,W.trimStart=WI,W.truncate=VI,W.unescape=HI,W.uniqueId=g3,W.upperCase=qI,W.upperFirst=lb,W.each=Cp,W.eachRight=Sf,W.first=xc,db(W,function(){var l={};return so(W,function(f,w){Ke.call(W.prototype,w)||(l[w]=f)}),l}(),{chain:!1}),W.VERSION=r,Sr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){W[l].placeholder=W}),Sr(["drop","take"],function(l,f){on.prototype[l]=function(w){w=w===n?1:kr(pn(w),0);var R=this.__filtered__&&!f?new on(this):this.clone();return R.__filtered__?R.__takeCount__=cs(w,R.__takeCount__):R.__views__.push({size:cs(w,K),type:l+(R.__dir__<0?"Right":"")}),R},on.prototype[l+"Right"]=function(w){return this.reverse()[l](w).reverse()}}),Sr(["filter","map","takeWhile"],function(l,f){var w=f+1,R=w==Le||w==me;on.prototype[l]=function(L){var V=this.clone();return V.__iteratees__.push({iteratee:Mt(L,3),type:w}),V.__filtered__=V.__filtered__||R,V}}),Sr(["head","last"],function(l,f){var w="take"+(f?"Right":"");on.prototype[l]=function(){return this[w](1).value()[0]}}),Sr(["initial","tail"],function(l,f){var w="drop"+(f?"":"Right");on.prototype[l]=function(){return this.__filtered__?new on(this):this[w](1)}}),on.prototype.compact=function(){return this.filter(Io)},on.prototype.find=function(l){return this.filter(l).head()},on.prototype.findLast=function(l){return this.reverse().find(l)},on.prototype.invokeMap=hn(function(l,f){return typeof l=="function"?new on(this):this.map(function(w){return jo(w,l,f)})}),on.prototype.reject=function(l){return this.filter(it(Mt(l)))},on.prototype.slice=function(l,f){l=pn(l);var w=this;return w.__filtered__&&(l>0||f<0)?new on(w):(l<0?w=w.takeRight(-l):l&&(w=w.drop(l)),f!==n&&(f=pn(f),w=f<0?w.dropRight(-f):w.take(f-l)),w)},on.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},on.prototype.toArray=function(){return this.take(K)},so(on.prototype,function(l,f){var w=/^(?:filter|find|map|reject)|While$/.test(f),R=/^(?:head|last)$/.test(f),L=W[R?"take"+(f=="last"?"Right":""):f],V=R||/^find/.test(f);L&&(W.prototype[f]=function(){var se=this.__wrapped__,he=R?[1]:arguments,Ee=se instanceof on,We=he[0],qe=Ee||an(se),Qe=function(xn){var Cn=L.apply(W,Jo([xn],he));return R&&mt?Cn[0]:Cn};qe&&w&&typeof We=="function"&&We.length!=1&&(Ee=qe=!1);var mt=this.__chain__,jt=!!this.__actions__.length,zt=V&&!mt,gn=Ee&&!jt;if(!V&&qe){se=gn?se:new on(this);var Wt=l.apply(se,he);return Wt.__actions__.push({func:ci,args:[Qe],thisArg:n}),new us(Wt,mt)}return zt&&gn?l.apply(this,he):(Wt=this.thru(Qe),zt?R?Wt.value()[0]:Wt.value():Wt)})}),Sr(["pop","push","shift","sort","splice","unshift"],function(l){var f=$e[l],w=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",R=/^(?:pop|shift)$/.test(l);W.prototype[l]=function(){var L=arguments;if(R&&!this.__chain__){var V=this.value();return f.apply(an(V)?V:[],L)}return this[w](function(se){return f.apply(an(se)?se:[],L)})}}),so(on.prototype,function(l,f){var w=W[f];if(w){var R=w.name+"";Ke.call(bu,R)||(bu[R]=[]),bu[R].push({name:f,func:w})}}),bu[Iu(n,O).name]=[{name:"wrapper",func:n}],on.prototype.clone=Ih,on.prototype.reverse=eg,on.prototype.value=Eu,W.prototype.at=_p,W.prototype.chain=Sc,W.prototype.commit=Sp,W.prototype.next=Wg,W.prototype.plant=Qw,W.prototype.reverse=Hg,W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=Xw,W.prototype.first=W.prototype.head,oa&&(W.prototype[oa]=Vg),W},pe=oe();$s?(($s.exports=pe)._=pe,Zl._=pe):Kn._=pe}).call(FZ)}(hv,hv.exports)),hv.exports}var BZ=$Z();const u1=new Map,UZ=1e3*60*60;async function zZ(e){if(!e)return[];const t=u1.get(e);if(t)return t;try{const n=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(e)}&limit=10&addressdetails=1`,{headers:{"Accept-Language":"en-US,en;q=0.9","User-Agent":"Plektos/1.0"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const r=await n.json();return u1.set(e,r),setTimeout(()=>{u1.delete(e)},UZ),r}catch(n){return console.error("Error searching locations:",n),[]}}const WZ=BZ.debounce(async e=>zZ(e),150,{leading:!0,trailing:!0,maxWait:500}),VZ=e=>new Promise(t=>{WZ(e).then(t)});function LD({value:e,onChange:t,onLocationSelect:n,className:r}){const[s,i]=_.useState(!1),[c,u]=_.useState([]),[p,m]=_.useState(!1),y=_.useCallback(async S=>{if(!S){u([]);return}m(!0);try{const k=await VZ(S);u(k||[])}catch(k){console.error("Error searching locations:",k),u([])}finally{m(!1)}},[]),g=S=>{const k={name:S.display_name.split(",")[0],address:S.display_name,placeId:S.place_id.toString(),lat:parseFloat(S.lat),lng:parseFloat(S.lon)};t(k.address),n==null||n(k),i(!1)};return d.jsxs("div",{className:ze("space-y-2",r),children:[d.jsx(Ln,{className:"text-sm",children:"Location"}),d.jsxs(cE,{open:s,onOpenChange:i,children:[d.jsx(uE,{asChild:!0,children:d.jsxs(Pt,{variant:"outline",role:"combobox","aria-expanded":s,className:"w-full justify-between text-left max-w-full",children:[d.jsx("div",{className:"flex-1 min-w-0",children:e?d.jsx("span",{className:"truncate block text-sm",title:e,children:e}):d.jsx("span",{className:"text-muted-foreground text-sm",children:"Search for a location..."})}),d.jsx(Z1,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),d.jsx(Ew,{className:"w-[--radix-popover-trigger-width] p-0 max-w-[90vw]",align:"start",children:d.jsxs(RD,{children:[d.jsx(PD,{placeholder:"Search locations...",value:e,onValueChange:S=>{t(S),y(S)},className:"text-sm"}),d.jsxs(OD,{children:[d.jsx(DD,{children:p?d.jsx("div",{className:"flex items-center justify-center py-6",children:d.jsx(qp,{className:"h-6 w-6 animate-spin"})}):"No locations found."}),d.jsx(MD,{children:c.map(S=>d.jsxs(ID,{value:S.display_name,onSelect:()=>g(S),className:"text-sm",children:[d.jsx(Z1,{className:"mr-2 h-4 w-4 shrink-0"}),d.jsx("span",{className:"truncate block",title:S.display_name,children:S.display_name})]},S.place_id))})]})]})})]})]})}class Pw{constructor(t){Qt(this,"servers");Qt(this,"signer");Qt(this,"fetch");Qt(this,"expiresIn");this.servers=t.servers,this.signer=t.signer,this.fetch=t.fetch??globalThis.fetch.bind(globalThis),this.expiresIn=t.expiresIn??6e4}async upload(t,n){const r=fB(await crypto.subtle.digest("SHA-256",await t.arrayBuffer())),s=Date.now(),i=s+this.expiresIn,c=await this.signer.signEvent({kind:24242,content:`Upload ${t.name}`,created_at:Math.floor(s/1e3),tags:[["t","upload"],["x",r],["size",t.size.toString()],["expiration",Math.floor(i/1e3).toString()]]}),u=`Nostr ${_B.encodeEvent(c)}`;return Promise.any(this.servers.map(async p=>{const m=new URL("/upload",p),g=await(await this.fetch(m,{method:"PUT",body:t,headers:{authorization:u,"content-type":t.type},signal:n==null?void 0:n.signal})).json(),S=Pw.schema().parse(g),k=[["url",S.url],["x",S.sha256],["ox",S.sha256],["size",S.size.toString()]];return S.type&&k.push(["m",S.type]),k}))}static schema(){return Ce.object({url:Ce.string(),sha256:Ce.string(),size:Ce.number(),type:Ce.string().optional()})}}const sv=["https://blossom.primal.net/","https://blossom.band"];function HZ(){const{user:e}=lr(),{nostr:t}=Os(),[n,r]=_.useState(!1),s=async()=>{if(!e)return console.log("No user logged in, using default servers"),sv;try{console.log("Querying for blossom server list for user:",e.pubkey);const c=await t.query([{kinds:[10063],authors:[e.pubkey]}],{signal:AbortSignal.timeout(5e3)});if(console.log("Received events:",c.length),c.length===0)return console.log("No blossom server list found, using defaults"),sv;const u=c[0];console.log("Most recent blossom server list event:",{id:u.id,created_at:new Date(u.created_at*1e3).toISOString(),tags:u.tags});const p=u.tags.filter(y=>y[0]==="server");if(p.length===0)return console.warn("No server tags found in blossom server list"),sv;const m=p.map(y=>y[1]).filter(y=>{const g=typeof y=="string"&&y.trim()!=="";return g||console.warn("Invalid server URL in list:",y),g}).map(y=>{const g=y.trim();return g.endsWith("/")?g:`${g}/`});return m.length===0?(console.warn("No valid servers in blossom server list"),sv):(console.log("Using custom blossom servers:",m),m)}catch(c){return console.warn("Failed to fetch blossom server list:",c),sv}};return{uploadFile:async c=>{if(!(e!=null&&e.signer))throw new Error("User must be logged in to upload files");r(!0);try{const u=await s(),m=await new Pw({servers:u,signer:e.signer,expiresIn:12e4}).upload(c),y=m.find(T=>T[0]==="url");if(!y||!y[1])throw new Error("No URL returned from upload");const g=y[1],S=m.find(T=>T[0]==="size"),k=m.find(T=>T[0]==="m");return console.log("Upload successful:",{url:g,size:S==null?void 0:S[1],mimeType:k==null?void 0:k[1],servers:u}),It.success("Image uploaded successfully!"),{url:g,previewUrl:g}}catch(u){throw console.error("Upload error:",u),It.error("Failed to upload image. Please try again."),u}finally{r(!1)}},isUploading:n}}function FD({value:e,onChange:t}){const[n,r]=_.useState("upload"),[s,i]=_.useState(!1),[c,u]=_.useState(""),p=_.useRef(null),{uploadFile:m,isUploading:y}=HZ(),g=async D=>{if(!D.type.startsWith("image/")){It.error("Please select an image file");return}if(D.size>10*1024*1024){It.error("File size must be less than 10MB");return}try{const M=await m(D);console.log("Image upload result:",M),console.log("Calling onChange with URL:",M.url),t(M.url),u(M.previewUrl)}catch(M){console.error("Upload failed:",M)}},S=D=>{var z;const M=(z=D.target.files)==null?void 0:z[0];M&&g(M)},k=D=>{D.preventDefault(),i(!0)},T=D=>{D.preventDefault(),i(!1)},E=D=>{D.preventDefault(),i(!1);const M=D.dataTransfer.files[0];M&&g(M)},N=()=>{console.log("Removing image"),t(""),u("")};_.useEffect(()=>{e&&u(e)},[e]);const O=()=>{var D;y||(D=p.current)==null||D.click()};return d.jsxs("div",{className:"space-y-4",children:[d.jsxs(SS,{value:n,onValueChange:D=>r(D),children:[d.jsxs(iw,{className:"grid w-full grid-cols-2",children:[d.jsx(fd,{value:"upload",className:"text-xs sm:text-sm",children:"Upload"}),d.jsx(fd,{value:"url",className:"text-xs sm:text-sm",children:"URL"})]}),d.jsx(hd,{value:"upload",children:d.jsxs("div",{className:ze("border-2 border-dashed rounded-lg p-4 sm:p-8 text-center cursor-pointer transition-colors",s&&"border-primary bg-primary/5",y&&"opacity-50 cursor-not-allowed"),onDragOver:k,onDragLeave:T,onDrop:E,onClick:O,role:"button",tabIndex:0,onKeyDown:D=>{(D.key==="Enter"||D.key===" ")&&(D.preventDefault(),O())},children:[d.jsx("input",{type:"file",ref:p,onChange:S,accept:"image/*",className:"hidden",disabled:y}),d.jsxs("div",{className:"space-y-2 sm:space-y-4",children:[d.jsx("div",{className:"flex justify-center",children:d.jsx(uU,{className:"h-8 w-8 sm:h-12 sm:w-12 text-muted-foreground"})}),d.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[d.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:y?"Uploading...":d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"hidden sm:inline",children:"Drag and drop your image here, or click to browse"}),d.jsx("span",{className:"sm:hidden",children:"Tap to select image"})]})}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Max: 10MB"})]})]})]})}),d.jsx(hd,{value:"url",children:d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{children:[d.jsx(Ln,{htmlFor:"imageUrl",className:"text-sm",children:"Image URL"}),d.jsx(Rs,{id:"imageUrl",value:e,onChange:D=>{t(D.target.value),u(D.target.value)},placeholder:"https://...",className:"text-xs sm:text-sm"})]})})})]}),(c||e)&&d.jsx(qr,{children:d.jsx(Kr,{className:"p-4",children:d.jsxs("div",{className:"relative max-w-full",children:[d.jsx("img",{src:c||e,alt:"Preview",className:"object-contain w-full max-w-full max-h-[300px] sm:max-h-[400px] rounded-md"}),d.jsx(Pt,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:N,children:d.jsx(Yx,{className:"h-4 w-4"})})]})})})]})}function $D({selectedCategories:e,onCategoriesChange:t,maxSelections:n=5}){const[r,s]=_.useState(!1),i=c=>{e.includes(c)?t(e.filter(u=>u!==c)):e.length<n&&t([...e,c])};return d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ln,{children:"Categories (Optional)"}),d.jsxs(pE,{open:r,onOpenChange:s,children:[d.jsx(mE,{asChild:!0,children:d.jsxs(Pt,{type:"button",variant:"outline",className:"w-full justify-between text-left font-normal",children:[d.jsx("div",{className:"flex items-center gap-2",children:e.length===0?d.jsx("span",{className:"text-muted-foreground",children:"Select categories..."}):d.jsxs("span",{children:[e.length," ",e.length===1?"category":"categories"," ","selected"]})}),d.jsx(Dm,{className:ze("h-4 w-4 transition-transform duration-200",r&&"transform rotate-180")})]})}),d.jsx(gE,{children:d.jsxs("div",{className:"mt-2 p-4 border rounded-lg bg-muted/50 space-y-2 max-h-64 overflow-y-auto",children:[d.jsxs("div",{className:"text-sm text-muted-foreground mb-3",children:["Select up to ",n," categories that best describe your event:"]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:yO.map(c=>d.jsx(Pt,{type:"button",variant:e.includes(c)?"default":"ghost",size:"sm",className:"justify-start h-auto py-2 px-3",onClick:()=>i(c),disabled:!e.includes(c)&&e.length>=n,children:d.jsxs("div",{className:"flex items-center gap-2 w-full",children:[d.jsx("div",{className:ze("h-4 w-4 border rounded flex-shrink-0 flex items-center justify-center",e.includes(c)?"bg-primary border-primary":"border-muted-foreground"),children:e.includes(c)&&d.jsx(mS,{className:"h-3 w-3 text-primary-foreground"})}),d.jsx("span",{className:"text-sm text-left",children:c})]})},c))})]})})]}),e.length>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.map(c=>d.jsxs(Vi,{variant:"secondary",className:"cursor-pointer hover:bg-destructive hover:text-destructive-foreground",onClick:()=>i(c),children:[c," ×"]},c))}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Categories help people find your event. You can select up to"," ",n,"."]})]})}function BD({onTicketInfoChange:e,initialTicketInfo:t}){var T,E,N,O;const{user:n}=lr(),r=Jc(n==null?void 0:n.pubkey),[s,i]=_.useState(t||{enabled:!1,price:0,lightningAddress:""}),[c,u]=_.useState(()=>!(t!=null&&t.lightningAddress)),[p,m]=_.useState(""),y=((E=(T=r.data)==null?void 0:T.metadata)==null?void 0:E.lud16)||((O=(N=r.data)==null?void 0:N.metadata)==null?void 0:O.lud06)||"";_.useEffect(()=>{t!=null&&t.lightningAddress&&y&&u(t.lightningAddress===y)},[t==null?void 0:t.lightningAddress,y]),_.useEffect(()=>{c&&y&&i(D=>({...D,lightningAddress:y}))},[c,y]),_.useEffect(()=>{e(s)},[s,e]);const g=D=>{const M=parseFloat(D.target.value);i({...s,price:isNaN(M)?0:M})},S=D=>{const M=D.target.value;i({...s,lightningAddress:M}),M&&!yG(M)?m("Invalid Lightning address format"):m("")},k=D=>{i({...s,enabled:D,...D?{}:{price:0,lightningAddress:""}})};return n?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(hx,{id:"paid-ticket",checked:s.enabled,onCheckedChange:k}),d.jsx(Ln,{htmlFor:"paid-ticket",children:"Enable Paid Tickets"})]}),s.enabled&&d.jsxs("div",{className:"space-y-4 pl-6",children:[d.jsxs("div",{children:[d.jsx(Ln,{htmlFor:"price",children:"Price (sats)"}),d.jsx(Rs,{id:"price",type:"number",min:"0",value:s.price,onChange:g,required:!0}),s.price>0&&d.jsxs("p",{className:"text-sm text-muted-foreground",children:[md(s.price)," per ticket"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(hx,{id:"use-default-address",checked:c,onCheckedChange:u,disabled:!y}),d.jsxs(Ln,{htmlFor:"use-default-address",children:["Use my default lightning address",!y&&" (not found in profile)"]})]}),(!c||!y)&&d.jsxs("div",{children:[d.jsx(Ln,{htmlFor:"lightning-address",children:"Lightning Address"}),d.jsx(Rs,{id:"lightning-address",type:"text",placeholder:"your@lightning.address",value:s.lightningAddress,onChange:S,required:!0}),p&&d.jsx("p",{className:"text-sm text-destructive",children:p})]})]})]})]}):null}const qZ=["UTC","America/New_York","America/Chicago","America/Denver","America/Los_Angeles","Europe/London","Europe/Paris","Europe/Berlin","Asia/Tokyo","Asia/Shanghai","Australia/Sydney","Pacific/Auckland"];function KZ({event:e,onEventUpdated:t}){const{user:n}=lr(),{mutate:r}=Ed(),[s,i]=_.useState(!1),[c,u]=_.useState(!1),[p,m]=_.useState(!1);_.useEffect(()=>{const T=()=>{m(window.innerWidth<640)};return T(),window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);const y=_.useCallback(()=>{var _e,Le,ge,me,de,Q,J,xe;const T=((_e=e.tags.find(K=>K[0]==="title"))==null?void 0:_e[1])||"",E=e.content||"",N=((Le=e.tags.find(K=>K[0]==="location"))==null?void 0:Le[1])||"",O=((ge=e.tags.find(K=>K[0]==="image"))==null?void 0:ge[1])||"",D=((me=e.tags.find(K=>K[0]==="start"))==null?void 0:me[1])||"",M=((de=e.tags.find(K=>K[0]==="end"))==null?void 0:de[1])||"",z=e.tags.filter(K=>K[0]==="t").map(K=>K[1]),q=(Q=e.tags.find(K=>K[0]==="price"))==null?void 0:Q[1],Y=(J=e.tags.find(K=>K[0]==="lud16"))==null?void 0:J[1],Z=!!(q&&Y),ae=((xe=e.tags.find(K=>K[0]==="start_tzid"))==null?void 0:xe[1])||Intl.DateTimeFormat().resolvedOptions().timeZone;let te="",ye="",Te="",Se="";if(e.kind===31922)te=D,ye=M;else{if(D){const K=new Date(parseInt(D)*1e3);te=K.toISOString().split("T")[0],Te=K.toTimeString().slice(0,5)}if(M){const K=new Date(parseInt(M)*1e3);ye=K.toISOString().split("T")[0],Se=K.toTimeString().slice(0,5)}}return{title:T,description:E,location:N,locationDetails:{name:"",address:N,placeId:"",lat:0,lng:0},startDate:te,startTime:Te,endDate:ye,endTime:Se,imageUrl:O,categories:z,ticketInfo:{enabled:Z,price:q?parseInt(q):0,lightningAddress:Y||""},timezone:ae}},[e]),[g,S]=_.useState(y());_.useEffect(()=>{S(y())},[y]);const k=async T=>{var E;if(T.preventDefault(),!!n){if(!g.title.trim()){It.error("Title is required");return}if(!g.startDate){It.error("Start date is required");return}if(!g.endDate){It.error("End date is required");return}if(g.endDate<g.startDate){It.error("End date must be after start date");return}u(!0);try{const N=e.kind;let O,D;if(N===31923){const q=new Date(g.startDate);if(g.startTime){const[Z,ae]=g.startTime.split(":").map(Number);q.setHours(Z,ae)}const Y=new Date(g.endDate);if(g.endTime){const[Z,ae]=g.endTime.split(":").map(Number);Y.setHours(Z,ae)}O=Math.floor(q.getTime()/1e3).toString(),D=Math.floor(Y.getTime()/1e3).toString()}else O=g.startDate,D=g.endDate;const M=(E=e.tags.find(q=>q[0]==="d"))==null?void 0:E[1];if(!M){It.error("Cannot find event identifier");return}const z=[["d",M],["title",g.title],["description",g.description],["location",g.location]];if(g.locationDetails.placeId&&z.push(["g",`${g.locationDetails.lat},${g.locationDetails.lng}`],["place_id",g.locationDetails.placeId]),z.push(["start",O]),D&&z.push(["end",D]),N===31923&&(z.push(["start_tzid",g.timezone]),D&&z.push(["end_tzid",g.timezone])),g.imageUrl&&z.push(["image",g.imageUrl]),g.categories.length>0)for(const q of g.categories)z.push(["t",q]);g.ticketInfo.enabled&&z.push(["price",g.ticketInfo.price.toString()],["lud16",g.ticketInfo.lightningAddress]),await r({kind:N,content:g.description,tags:z}),It.success("Event updated successfully!"),i(!1),t&&t()}catch(N){It.error("Failed to update event"),console.error("Error updating event:",N)}finally{u(!1)}}};return!n||n.pubkey!==e.pubkey||e.kind!==31922&&e.kind!==31923?null:d.jsxs(jd,{open:s,onOpenChange:i,children:[d.jsx(nw,{asChild:!0,children:d.jsxs(Pt,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[d.jsx(yU,{className:"h-4 w-4"}),"Edit Event"]})}),d.jsxs(eu,{className:"mobile-dialog-content overflow-y-auto p-3 sm:p-6",onOpenAutoFocus:T=>{p&&T.preventDefault()},children:[d.jsx(tu,{className:"pb-2 sm:pb-4",children:d.jsx(nu,{className:"text-lg sm:text-xl",children:"Edit Event"})}),d.jsxs("form",{onSubmit:k,className:"space-y-4 sm:space-y-6 max-w-full overflow-hidden",children:[d.jsxs("div",{className:"w-full max-w-full",children:[d.jsx(Ln,{htmlFor:"title",className:"text-sm",children:"Event Title"}),d.jsx(Rs,{id:"title",value:g.title,onChange:T=>S(E=>({...E,title:T.target.value})),required:!0,className:"text-sm w-full max-w-full"})]}),d.jsxs("div",{className:"w-full max-w-full",children:[d.jsx(Ln,{htmlFor:"description",className:"text-sm",children:"Description"}),d.jsx(zl,{id:"description",value:g.description,onChange:T=>S(E=>({...E,description:T.target.value})),required:!0,className:"text-sm min-h-[100px] w-full max-w-full resize-none"})]}),d.jsx(LD,{value:g.location,onChange:T=>S(E=>({...E,location:T})),onLocationSelect:T=>S(E=>({...E,location:T.address,locationDetails:T}))}),d.jsx(FD,{value:g.imageUrl,onChange:T=>{S(E=>({...E,imageUrl:T}))}}),d.jsx($D,{selectedCategories:g.categories,onCategoriesChange:T=>S(E=>({...E,categories:T}))}),d.jsx("div",{className:"space-y-4 sm:space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 sm:gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ln,{htmlFor:"startDate",className:"text-sm font-medium",children:"Start Date"}),d.jsx(Cm,{id:"startDate",mode:"single",selected:g.startDate?new Date(g.startDate+"T12:00:00Z"):void 0,onSelect:T=>{if(T){const E=new Date(Date.UTC(T.getFullYear(),T.getMonth(),T.getDate(),12,0,0,0));S(N=>({...N,startDate:E.toISOString().split("T")[0]}))}},disabled:T=>{const E=new Date;return E.setUTCHours(0,0,0,0),T<E},className:"rounded-md border w-full mx-auto max-w-[280px] sm:max-w-none",classNames:{months:"flex w-full flex-col sm:flex-row space-y-0 sm:space-y-0",month:"space-y-2",caption:"flex justify-center p-1 relative items-center",caption_label:"text-xs sm:text-sm font-medium",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-7 sm:w-9 font-normal text-[0.7rem] sm:text-[0.8rem]",row:"flex w-full mt-1 sm:mt-2",cell:"text-center text-xs sm:text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:"h-7 w-7 sm:h-9 sm:w-9 p-0 font-normal aria-selected:opacity-100 text-xs sm:text-sm",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_hidden:"invisible"}})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ln,{htmlFor:"endDate",className:"text-sm font-medium",children:"End Date"}),d.jsx(Cm,{id:"endDate",mode:"single",selected:g.endDate?new Date(g.endDate+"T12:00:00Z"):void 0,onSelect:T=>{if(T){const E=new Date(Date.UTC(T.getFullYear(),T.getMonth(),T.getDate(),12,0,0,0));S(N=>({...N,endDate:E.toISOString().split("T")[0]}))}},disabled:T=>{const E=g.startDate?new Date(g.startDate+"T12:00:00Z"):new Date;return E.setUTCHours(0,0,0,0),T<E},className:"rounded-md border w-full mx-auto max-w-[280px] sm:max-w-none",classNames:{months:"flex w-full flex-col sm:flex-row space-y-0 sm:space-y-0",month:"space-y-2",caption:"flex justify-center p-1 relative items-center",caption_label:"text-xs sm:text-sm font-medium",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-7 sm:w-9 font-normal text-[0.7rem] sm:text-[0.8rem]",row:"flex w-full mt-1 sm:mt-2",cell:"text-center text-xs sm:text-sm p-0 relative [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:"h-7 w-7 sm:h-9 sm:w-9 p-0 font-normal aria-selected:opacity-100 text-xs sm:text-sm",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"text-muted-foreground opacity-50",day_disabled:"text-muted-foreground opacity-50",day_hidden:"invisible"}})]})]})}),(e.kind===31923||g.startTime||g.endTime)&&d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs(Ln,{children:["Start Time ",e.kind===31922&&"(Optional)"]}),d.jsx(Sx,{value:g.startTime,onChange:T=>S(E=>({...E,startTime:T}))})]}),d.jsxs("div",{children:[d.jsxs(Ln,{children:["End Time ",e.kind===31922&&"(Optional)"]}),d.jsx(Sx,{value:g.endTime,onChange:T=>S(E=>({...E,endTime:T}))})]})]}),e.kind===31923&&d.jsxs("div",{children:[d.jsx(Ln,{className:"text-sm",children:"Timezone"}),d.jsxs(yE,{value:g.timezone,onValueChange:T=>S(E=>({...E,timezone:T})),children:[d.jsx(Tw,{className:"text-sm",children:d.jsx(xE,{placeholder:"Select timezone"})}),d.jsx(Aw,{className:"max-h-[300px]",children:qZ.map(T=>d.jsx(Zp,{value:T,className:"text-sm",children:T},T))})]})]}),d.jsx(BD,{initialTicketInfo:g.ticketInfo,onTicketInfoChange:T=>S(E=>({...E,ticketInfo:T}))}),d.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 pt-4",children:[d.jsx(Pt,{type:"button",variant:"outline",onClick:()=>i(!1),disabled:c,className:"w-full",children:"Cancel"}),d.jsx(Pt,{type:"submit",disabled:c,className:"w-full",children:c?"Updating...":"Update Event"})]})]})]})]})}var Cf={},UC;function YZ(){if(UC)return Cf;UC=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.bech32m=Cf.bech32=void 0;const e="qpzry9x8gf2tvdw0s3jn54khce6mua7l",t={};for(let m=0;m<e.length;m++){const y=e.charAt(m);t[y]=m}function n(m){const y=m>>25;return(m&33554431)<<5^-(y>>0&1)&996825010^-(y>>1&1)&642813549^-(y>>2&1)&513874426^-(y>>3&1)&1027748829^-(y>>4&1)&705979059}function r(m){let y=1;for(let g=0;g<m.length;++g){const S=m.charCodeAt(g);if(S<33||S>126)return"Invalid prefix ("+m+")";y=n(y)^S>>5}y=n(y);for(let g=0;g<m.length;++g){const S=m.charCodeAt(g);y=n(y)^S&31}return y}function s(m,y,g,S){let k=0,T=0;const E=(1<<g)-1,N=[];for(let O=0;O<m.length;++O)for(k=k<<y|m[O],T+=y;T>=g;)T-=g,N.push(k>>T&E);if(S)T>0&&N.push(k<<g-T&E);else{if(T>=y)return"Excess padding";if(k<<g-T&E)return"Non-zero padding"}return N}function i(m){return s(m,8,5,!0)}function c(m){const y=s(m,5,8,!1);if(Array.isArray(y))return y}function u(m){const y=s(m,5,8,!1);if(Array.isArray(y))return y;throw new Error(y)}function p(m){let y;m==="bech32"?y=1:y=734539939;function g(E,N,O){if(O=O||90,E.length+7+N.length>O)throw new TypeError("Exceeds length limit");E=E.toLowerCase();let D=r(E);if(typeof D=="string")throw new Error(D);let M=E+"1";for(let z=0;z<N.length;++z){const q=N[z];if(q>>5!==0)throw new Error("Non 5-bit word");D=n(D)^q,M+=e.charAt(q)}for(let z=0;z<6;++z)D=n(D);D^=y;for(let z=0;z<6;++z){const q=D>>(5-z)*5&31;M+=e.charAt(q)}return M}function S(E,N){if(N=N||90,E.length<8)return E+" too short";if(E.length>N)return"Exceeds length limit";const O=E.toLowerCase(),D=E.toUpperCase();if(E!==O&&E!==D)return"Mixed-case string "+E;E=O;const M=E.lastIndexOf("1");if(M===-1)return"No separator character for "+E;if(M===0)return"Missing prefix for "+E;const z=E.slice(0,M),q=E.slice(M+1);if(q.length<6)return"Data too short";let Y=r(z);if(typeof Y=="string")return Y;const Z=[];for(let ae=0;ae<q.length;++ae){const te=q.charAt(ae),ye=t[te];if(ye===void 0)return"Unknown character "+te;Y=n(Y)^ye,!(ae+6>=q.length)&&Z.push(ye)}return Y!==y?"Invalid checksum for "+E:{prefix:z,words:Z}}function k(E,N){const O=S(E,N);if(typeof O=="object")return O}function T(E,N){const O=S(E,N);if(typeof O=="object")return O;throw new Error(O)}return{decodeUnsafe:k,decode:T,encode:g,toWords:i,fromWordsUnsafe:c,fromWords:u}}return Cf.bech32=p("bech32"),Cf.bech32m=p("bech32m"),Cf}var zC=YZ();function GZ(e){const[t,n]=e.split("@"),r=`https://${n}/.well-known/lnurlp/${t}`,s=new TextEncoder,i=zC.bech32.toWords(s.encode(r));return zC.bech32.encode("lnurl",i,1023).toUpperCase()}function UD(){const{user:e}=lr();return{zap:_.useCallback(async n=>{try{if(!(e!=null&&e.signer))throw new Error("Please log in to send zaps");if(!e.pubkey)throw new Error("Could not get user information");const r=GZ(n.lightningAddress),[s,i]=n.lightningAddress.split("@");if(!s||!i)throw new Error("Invalid lightning address format");console.log("Fetching LNURL data for:",n.lightningAddress);let c;try{c=await fetch(`https://${i}/.well-known/lnurlp/${s}`,{method:"GET",headers:{Accept:"application/json"}})}catch(D){throw console.error("Failed to fetch LNURL data:",D),new Error("Unable to connect to lightning service. Please check your internet connection.")}if(!c.ok)throw console.error("LNURL fetch failed:",c.status,c.statusText),new Error("Lightning address not found or invalid");const u=await c.json();if(console.log("LNURL data:",u),u.status==="ERROR")throw new Error(u.reason||"Lightning service error");if(!u.allowsNostr)throw new Error("This lightning address doesn't support Nostr zaps");const p=n.amount*1e3;if(u.minSendable&&p<u.minSendable)throw new Error(`Minimum zap amount is ${Math.ceil(u.minSendable/1e3)} sats`);if(u.maxSendable&&p>u.maxSendable)throw new Error(`Maximum zap amount is ${Math.floor(u.maxSendable/1e3)} sats`);const m=[["relays","wss://relay.damus.io","wss://nostr-relay.wlvs.space"],["amount",p.toString()],["lnurl",r],["p",n.eventPubkey]];n.eventId&&n.eventId.trim()!==""&&m.push(["e",n.eventId]);const y={kind:9734,content:n.comment||"",tags:m,created_at:Math.floor(Date.now()/1e3),pubkey:e.pubkey};console.log("Signing zap request:",y);const g=await e.signer.signEvent(y);console.log("Signed zap request:",g);const S=JSON.stringify(g),k=`${u.callback}?amount=${p}&nostr=${encodeURIComponent(S)}`;console.log("Calling LNURL callback (attempt 1):",k);let T,E=!0;try{T=await fetch(k,{method:"GET",headers:{Accept:"application/json"}})}catch(D){console.log("GET request failed with CORS/fetch error:",D),E=!1,console.log("Skipping POST attempt, trying fallback without nostr parameter");const M=`${u.callback}?amount=${p}`;try{if(T=await fetch(M,{method:"GET",headers:{Accept:"application/json"}}),T.ok){const z=await T.json();z.pr&&!z.status&&(console.log("Fallback successful, but this won't generate a zap receipt"),It.warning("Payment will be sent but may not appear as a zap on Nostr"),E=!1)}}catch(z){throw console.error("Fallback also failed:",z),new Error("Unable to connect to lightning service. This may be due to CORS restrictions or service unavailability.")}}if(E&&T&&!T.ok){console.log("GET request failed, trying POST method");const D=`${u.callback}`,M=new URLSearchParams({amount:p.toString(),nostr:S});try{T=await fetch(D,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},body:M})}catch(z){console.log("POST request also failed:",z),E=!1}}if(E&&(!T||!T.ok)){const D=await(T==null?void 0:T.text().catch(()=>"Unknown error"));console.error("LNURL callback failed:",T==null?void 0:T.status,D),console.log("Trying final fallback without nostr parameter");const M=`${u.callback}?amount=${p}`;try{const z=await fetch(M,{method:"GET",headers:{Accept:"application/json"}});if(z.ok){const q=await z.json();q.pr&&!q.status&&(console.log("Final fallback successful, but this won't generate a zap receipt"),It.warning("Payment will be sent but may not appear as a zap on Nostr"),T=z,E=!1)}else throw new Error("Failed to create lightning invoice. The lightning service may be temporarily unavailable.")}catch(z){throw console.error("Final fallback also failed:",z),new Error("Failed to create lightning invoice. The lightning service may be temporarily unavailable.")}}const N=await T.json();if(console.log("LNURL callback response:",N),N.status==="ERROR")throw new Error(N.reason||"Failed to create lightning invoice");if(!N.pr)throw new Error("No lightning invoice received");if(!window.webln)throw new Error("Lightning wallet not found. Please install a WebLN-compatible wallet like Alby.");try{await window.webln.enable()}catch(D){throw console.error("Failed to enable WebLN:",D),new Error("Failed to connect to lightning wallet. Please check your wallet permissions.")}console.log("Sending lightning payment:",N.pr);const O=await window.webln.sendPayment(N.pr);return console.log("Payment result:",O),n.skipSuccessToast||(E?It.success(`Successfully zapped ${n.amount} sats!`):It.success(`Payment of ${n.amount} sats sent!`)),O}catch(r){throw console.error("Error sending zap:",r),r}},[e])}}const ZZ=[21,100,500,1e3,5e3];function QZ({pubkey:e,displayName:t,lightningAddress:n,eventId:r="",eventKind:s=0,eventIdentifier:i="",disabled:c=!1,className:u="",fixedAmount:p,buttonText:m}){const{zap:y}=UD(),[g,S]=_.useState(!1),[k,T]=_.useState(!1),[E,N]=_.useState("21"),O=async M=>{if(!n){It.error("Lightning address not available");return}S(!0);try{const z=p?`Ticket for ${t}`:`Zapped ${t}`;await y({amount:M,eventId:r,eventPubkey:e,eventKind:s,eventIdentifier:i,eventName:p?`Ticket for ${t}`:`Zap to ${t}`,comment:z,lightningAddress:n,skipSuccessToast:!!p}),p&&It.success("Ticket purchased successfully!")}catch(z){console.error("Error zapping:",z);const q=p?z instanceof Error?z.message:"Failed to purchase ticket":z instanceof Error?z.message:"Failed to zap";It.error(q)}finally{S(!1)}},D=async()=>{const M=parseInt(E);if(isNaN(M)||M<1){It.error("Please enter a valid amount");return}await O(M),T(!1),N("21")};return c||!n?null:p?d.jsxs(Pt,{variant:"outline",size:"sm",disabled:g,onClick:()=>O(p),className:`flex items-center gap-2 ${u}`,children:[d.jsx($f,{className:"h-4 w-4"}),g?"Processing...":m||`Purchase Ticket - ${md(p)}`]}):d.jsxs(d.Fragment,{children:[d.jsxs(zm,{children:[d.jsx(Wm,{asChild:!0,children:d.jsxs(Pt,{variant:"outline",size:"sm",disabled:g,className:`flex items-center gap-2 ${u}`,children:[d.jsx($f,{className:"h-4 w-4"}),g?"Zapping...":"Zap"]})}),d.jsxs(mh,{align:"end",className:"w-48",children:[d.jsx("div",{className:"px-2 py-1.5 text-sm font-medium text-muted-foreground",children:"Quick Amounts"}),ZZ.map(M=>d.jsxs(vs,{onClick:()=>O(M),disabled:g,className:"flex items-center justify-between",children:[d.jsx("span",{children:md(M)}),d.jsx($f,{className:"h-3 w-3"})]},M)),d.jsx(pd,{}),d.jsxs(vs,{onClick:()=>T(!0),disabled:g,className:"flex items-center gap-2",children:[d.jsx(Gj,{className:"h-4 w-4"}),"Custom Amount"]})]})]}),d.jsx(jd,{open:k,onOpenChange:T,children:d.jsxs(eu,{children:[d.jsxs(tu,{children:[d.jsxs(nu,{children:["Zap ",t]}),d.jsxs(hh,{children:["Send a custom zap amount to ",t," via Lightning."]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ln,{htmlFor:"amount",children:"Amount (sats)"}),d.jsx(Rs,{id:"amount",type:"number",value:E,onChange:M=>N(M.target.value),placeholder:"21",min:"1"})]}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Lightning Address: ",n]})]}),d.jsxs(rw,{children:[d.jsx(Pt,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),d.jsxs(Pt,{onClick:D,disabled:g,className:"bg-yellow-600 hover:bg-yellow-700",children:[d.jsx($f,{className:"h-4 w-4 mr-2"}),g?"Zapping...":`Zap ${md(parseInt(E)||0)}`]})]})]})})]})}function XZ({eventId:e,eventPubkey:t}){const{nostr:n}=Os(),{data:r}=xs({queryKey:["zapReceipts",e],queryFn:async()=>{const s=AbortSignal.timeout(5e3);let i=e;try{if(e.startsWith("nevent")){const u=Ps.decode(e);u.type==="nevent"&&(i=u.data.id)}}catch(u){console.error("Error decoding nevent:",u)}return await n.query([{kinds:[9735],"#e":[i],"#p":[t]}],{signal:s})}});return r!=null&&r.length?d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-semibold",children:"Ticket Purchases"}),d.jsx("div",{className:"space-y-3",children:r.map(s=>{var p,m;const i=(p=s.tags.find(y=>y[0]==="description"))==null?void 0:p[1];if(!i)return null;let c;try{c=JSON.parse(i)}catch{return null}const u=(m=c.tags.find(y=>y[0]==="amount"))==null?void 0:m[1];return u?d.jsx(JZ,{receipt:s,zapRequest:c,amount:parseInt(u)/1e3},s.id):null})})]}):null}function JZ({receipt:e,zapRequest:t,amount:n}){var p;const s=(p=Jc(t.pubkey).data)==null?void 0:p.metadata,i=(s==null?void 0:s.name)||(s==null?void 0:s.display_name)||t.pubkey.slice(0,8),c=s==null?void 0:s.picture,u=Ps.npubEncode(t.pubkey);return d.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border",children:[d.jsxs(ja,{className:"h-10 w-10",children:[d.jsx(Ta,{src:c,alt:i}),d.jsx(Aa,{children:i.slice(0,2)})]}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsx("a",{href:`/profile/${u}`,className:"font-medium hover:underline truncate",children:i}),d.jsx("span",{className:"text-sm font-medium tabular-nums",children:md(n)})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(e.created_at*1e3).toLocaleString()})]})]})}const eQ=Im("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),zD=_.forwardRef(({className:e,variant:t,...n},r)=>d.jsx("div",{ref:r,role:"alert",className:ze(eQ({variant:t}),e),...n}));zD.displayName="Alert";const tQ=_.forwardRef(({className:e,...t},n)=>d.jsx("h5",{ref:n,className:ze("mb-1 font-medium leading-none tracking-tight",e),...t}));tQ.displayName="AlertTitle";const WD=_.forwardRef(({className:e,...t},n)=>d.jsx("div",{ref:n,className:ze("text-sm [&_p]:leading-relaxed",e),...t}));WD.displayName="AlertDescription";function nQ({organizerPubkey:e,eventTitle:t}){var N;const[n,r]=_.useState(!1),[s,i]=_.useState(""),[c,u]=_.useState(!1),{user:p}=lr(),{sendDirectMessage:m}=xO(),g=(N=Jc(e).data)==null?void 0:N.metadata,S=(g==null?void 0:g.name)||(g==null?void 0:g.display_name)||e.slice(0,8),k=g==null?void 0:g.picture,T=async()=>{if(!(!s.trim()||!p)){u(!0);try{const O=`Regarding "${t}":

${s}`;await m(e,O),i(""),r(!1)}catch(O){console.error("Failed to send message:",O)}finally{u(!1)}}},E=O=>{O.key==="Enter"&&(O.ctrlKey||O.metaKey)&&!c&&(O.preventDefault(),T())};return p?p.pubkey===e?null:d.jsxs(jd,{open:n,onOpenChange:r,children:[d.jsx(nw,{asChild:!0,children:d.jsxs(Pt,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[d.jsx(T0,{className:"h-4 w-4"}),"Contact"]})}),d.jsxs(eu,{className:"sm:max-w-md",children:[d.jsxs(tu,{children:[d.jsxs(nu,{className:"flex items-center gap-2",children:[d.jsx(Uk,{className:"h-4 w-4 text-green-600"}),"Send Private Message"]}),d.jsx(hh,{children:"Send a secure, encrypted direct message to the event organizer."})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted rounded-lg",children:[d.jsxs(ja,{className:"h-8 w-8",children:[d.jsx(Ta,{src:k,alt:S}),d.jsx(Aa,{children:S.slice(0,2)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-sm",children:S}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Event Organizer"})]})]}),d.jsxs(zD,{children:[d.jsx(Uk,{className:"h-4 w-4"}),d.jsx(WD,{children:"This message will be encrypted using NIP-17 and only visible to you and the organizer."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ln,{htmlFor:"message",children:"Your Message"}),d.jsx(zl,{id:"message",placeholder:`Send a message to ${S} about "${t}"...`,value:s,onChange:O=>i(O.target.value),onKeyDown:E,className:"min-h-[120px] resize-none",disabled:c}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Press Ctrl+Enter to send • Your message will automatically include the event title for context"})]})]}),d.jsxs(rw,{className:"gap-2",children:[d.jsx(Pt,{variant:"outline",onClick:()=>r(!1),disabled:c,children:"Cancel"}),d.jsx(Pt,{onClick:T,disabled:!s.trim()||c,children:c?d.jsx(d.Fragment,{children:"Sending..."}):d.jsxs(d.Fragment,{children:[d.jsx(Q1,{className:"h-4 w-4 mr-2"}),"Send Message"]})})]})]})]}):d.jsxs(Pt,{disabled:!0,size:"sm",variant:"outline",className:"flex items-center gap-2",children:[d.jsx(Q1,{className:"h-4 w-4"}),"Contact Organizer"]})}function rQ(e,t,n,r){const{nostr:s}=Os(),{user:i}=lr(),{mutateAsync:c}=Ed(),u=uh(),p=t?t>=3e4&&t<4e4:!1,m=p&&t&&n&&r?`${t}:${n}:${r}`:void 0,{data:y=[],isLoading:g,refetch:S}=xs({queryKey:["comments",e,m],queryFn:async({signal:M})=>{const z=[{kinds:[1111],"#e":[e],limit:100}];return m&&z.push({kinds:[1111],"#a":[m],limit:100}),(await s.query(z,{signal:AbortSignal.any([M,AbortSignal.timeout(5e3)])})).reduce((Z,ae)=>(Z.find(te=>te.id===ae.id)||Z.push(ae),Z),[]).sort((Z,ae)=>Z.created_at-ae.created_at)},enabled:!!e}),k=y.map(M=>M.id),{data:T=[]}=xs({queryKey:["reactions",e,m,...k],queryFn:async({signal:M})=>k.length===0?[]:await s.query([{kinds:[7],"#e":k,limit:500}],{signal:AbortSignal.any([M,AbortSignal.timeout(5e3)])}),enabled:k.length>0});return{comments:y,reactions:T,isLoading:g,postComment:async M=>{if(!i)throw new Error("User must be logged in to comment");const z={id:`temp-${Date.now()}`,kind:1111,content:M,tags:p&&m?[["e",e],["a",m],["E",e],["A",m],["k",t.toString()]]:[["e",e],["E",e],["k",(t==null?void 0:t.toString())||"1"]],created_at:Math.floor(Date.now()/1e3),pubkey:i.pubkey,sig:"temp-sig"},q=["comments",e,m];u.setQueryData(q,(Y=[])=>[...Y,z].sort((Z,ae)=>Z.created_at-ae.created_at));try{const Y=p&&m?[["e",e],["a",m],["E",e],["A",m],["k",t.toString()]]:[["e",e],["E",e],["k",(t==null?void 0:t.toString())||"1"]];n&&Y.push(["p",n]),await c({kind:1111,content:M,tags:Y}),u.invalidateQueries({queryKey:q})}catch(Y){throw u.setQueryData(q,(Z=[])=>Z.filter(ae=>ae.id!==z.id)),Y}},likeComment:async M=>{var Z,ae;if(!i)throw new Error("User must be logged in to react");if(T.find(te=>te.pubkey===i.pubkey&&te.tags.some(ye=>ye[0]==="e"&&ye[1]===M)&&te.content==="+"))return;const q={id:`temp-${Date.now()}`,kind:7,content:"+",tags:[["e",M],["p",((Z=y.find(te=>te.id===M))==null?void 0:Z.pubkey)||""]],created_at:Math.floor(Date.now()/1e3),pubkey:i.pubkey,sig:"temp-sig"},Y=["reactions",e,m,...k];u.setQueryData(Y,(te=[])=>[...te,q]);try{await c({kind:7,content:"+",tags:[["e",M],["p",((ae=y.find(te=>te.id===M))==null?void 0:ae.pubkey)||""]]}),u.invalidateQueries({queryKey:Y})}catch(te){throw u.setQueryData(Y,(ye=[])=>ye.filter(Te=>Te.id!==q.id)),te}},getLikeCount:M=>T.filter(z=>z.tags.some(q=>q[0]==="e"&&q[1]===M)&&z.content==="+").length,hasUserLiked:M=>i?T.some(z=>z.pubkey===i.pubkey&&z.tags.some(q=>q[0]==="e"&&q[1]===M)&&z.content==="+"):!1,refetch:S}}function sQ(){const{nostr:e}=Os(),{user:t}=lr(),{mutateAsync:n}=Ed(),r=uh(),{data:s,isLoading:i,refetch:c}=xs({queryKey:["followList",t==null?void 0:t.pubkey],queryFn:async({signal:k})=>{if(!(t!=null&&t.pubkey))return null;const T=await e.query([{kinds:[3],authors:[t.pubkey],limit:10}],{signal:AbortSignal.any([k,AbortSignal.timeout(5e3)])});return T.length===0?null:T.sort((N,O)=>O.created_at-N.created_at)[0]},enabled:!!(t!=null&&t.pubkey),staleTime:3e4}),u=(s==null?void 0:s.tags.filter(k=>k[0]==="p").map(k=>k[1]))||[],p=k=>u.includes(k),m=async(k,T="")=>{if(!t)throw new Error("User must be logged in to follow");const E=(s==null?void 0:s.tags)||[];if(E.some(D=>D[0]==="p"&&D[1]===k))return;const N=[...E,T?["p",k,T]:["p",k]],O=(s==null?void 0:s.content)||"";await n({kind:3,content:O,tags:N}),r.invalidateQueries({queryKey:["followList",t.pubkey]})},y=async k=>{if(!t)throw new Error("User must be logged in to unfollow");if(!s)return;const T=s.tags.filter(N=>!(N[0]==="p"&&N[1]===k)),E=s.content||"";await n({kind:3,content:E,tags:T}),r.invalidateQueries({queryKey:["followList",t.pubkey]})},g=k=>{const T=s==null?void 0:s.tags.find(E=>E[0]==="p"&&E[1]===k);return(T==null?void 0:T[2])||""},S=u.length;return{followList:s,followedPubkeys:u,followCount:S,isLoading:i,isFollowing:p,followPubkey:m,unfollowPubkey:y,getFollowRelay:g,refetch:c}}function bE({pubkey:e,authorName:t,className:n=""}){const{user:r}=lr(),{isMuted:s,mutePubkey:i,unmutePubkey:c,getMuteReason:u}=LP(),{isFollowing:p,followPubkey:m,unfollowPubkey:y}=sQ(),[g,S]=_.useState(!1),[k,T]=_.useState(""),[E,N]=_.useState(!1),[O,D]=_.useState(!1);if(!r||r.pubkey===e)return null;const M=s(e),z=p(e),q=u(e),Y=async()=>{S(!0);try{await i(e,k.trim()),It.success(`Muted ${t}`),N(!1),T("")}catch(ye){console.error("Error muting user:",ye),It.error("Failed to mute user")}finally{S(!1)}},Z=async()=>{S(!0);try{await c(e),It.success(`Unmuted ${t}`)}catch(ye){console.error("Error unmuting user:",ye),It.error("Failed to unmute user")}finally{S(!1)}},ae=async()=>{S(!0);try{await m(e),It.success(`Now following ${t}`)}catch(ye){console.error("Error following user:",ye),It.error("Failed to follow user")}finally{S(!1)}},te=async()=>{S(!0);try{await y(e),It.success(`Unfollowed ${t}`),D(!1)}catch(ye){console.error("Error unfollowing user:",ye),It.error("Failed to unfollow user")}finally{S(!1)}};return d.jsxs(d.Fragment,{children:[d.jsxs(zm,{children:[d.jsx(Wm,{asChild:!0,children:d.jsx(Pt,{variant:"ghost",size:"sm",className:`h-8 w-8 p-0 ${n}`,title:"User actions",children:d.jsx(iU,{className:"h-4 w-4"})})}),d.jsxs(mh,{align:"end",className:"w-48",children:[z?d.jsxs(vs,{onClick:()=>D(!0),disabled:g,className:"flex items-center gap-2 text-red-600",children:[d.jsx(bU,{className:"h-4 w-4"}),"Unfollow ",t]}):d.jsxs(vs,{onClick:ae,disabled:g,className:"flex items-center gap-2",children:[d.jsx(X1,{className:"h-4 w-4"}),"Follow ",t]}),d.jsx(pd,{}),M?d.jsxs(vs,{onClick:Z,disabled:g,className:"flex items-center gap-2",title:q?`Muted: ${q}`:void 0,children:[d.jsx(_U,{className:"h-4 w-4"}),"Unmute ",t]}):d.jsxs(vs,{onClick:()=>N(!0),disabled:g,className:"flex items-center gap-2 text-red-600",children:[d.jsx(SU,{className:"h-4 w-4"}),"Mute ",t]}),d.jsx(pd,{}),d.jsxs(vs,{disabled:!0,className:"flex items-center gap-2 text-muted-foreground",children:[d.jsx(cU,{className:"h-4 w-4"}),"Report (coming soon)"]})]})]}),d.jsx(b_,{open:E,onOpenChange:N,children:d.jsxs(gx,{children:[d.jsxs(vx,{children:[d.jsxs(xx,{children:["Mute ",t,"?"]}),d.jsx(wx,{children:"You won't see content from this user in your feed. You can unmute them later."})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium",children:"Reason (optional)"}),d.jsx(zl,{value:k,onChange:ye=>T(ye.target.value),placeholder:"Why are you muting this user?",className:"min-h-[80px]"})]}),d.jsxs(yx,{children:[d.jsx(_x,{children:"Cancel"}),d.jsx(bx,{onClick:Y,disabled:g,className:"bg-red-600 hover:bg-red-700",children:g?"Muting...":"Mute User"})]})]})}),d.jsx(b_,{open:O,onOpenChange:D,children:d.jsxs(gx,{children:[d.jsxs(vx,{children:[d.jsxs(xx,{children:["Unfollow ",t,"?"]}),d.jsxs(wx,{children:["You will no longer see updates from ",t," in your feed. You can follow them again at any time."]})]}),d.jsxs(yx,{children:[d.jsx(_x,{children:"Cancel"}),d.jsx(bx,{onClick:te,disabled:g,className:"bg-red-600 hover:bg-red-700",children:g?"Unfollowing...":"Unfollow"})]})]})})]})}function oQ({comment:e,likeCount:t,hasUserLiked:n,onLike:r}){var y;const{user:s}=lr(),c=(y=Jc(e.pubkey).data)==null?void 0:y.metadata,u=(c==null?void 0:c.name)||(c==null?void 0:c.display_name)||e.pubkey.slice(0,8),p=c==null?void 0:c.picture,m=QH(new Date(e.created_at*1e3),{addSuffix:!0});return d.jsxs("div",{className:"flex gap-3 p-4 border rounded-lg bg-card",children:[d.jsxs(ja,{className:"h-8 w-8 flex-shrink-0",children:[d.jsx(Ta,{src:p,alt:u}),d.jsx(Aa,{className:"text-xs",children:u.slice(0,2).toUpperCase()})]}),d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"font-medium text-sm",children:u}),d.jsx("span",{className:"text-xs text-muted-foreground",children:m})]}),d.jsx(bE,{pubkey:e.pubkey,authorName:u})]}),d.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap break-words",children:e.content}),d.jsx("div",{className:"flex items-center gap-1",children:d.jsxs(Pt,{variant:"ghost",size:"sm",className:ze("h-7 px-2 gap-1",n&&"text-red-500 hover:text-red-600"),onClick:r,disabled:!s,children:[d.jsx(Zj,{className:ze("h-3 w-3",n&&"fill-current")}),t>0&&d.jsx("span",{className:"text-xs font-medium",children:t})]})})]})]})}function iQ({eventId:e,eventTitle:t,eventKind:n,eventPubkey:r,eventIdentifier:s}){const[i,c]=_.useState(""),[u,p]=_.useState(!1),{user:m}=lr(),{comments:y,isLoading:g,postComment:S,likeComment:k,getLikeCount:T,hasUserLiked:E}=rQ(e,n,r,s),N=async()=>{if(!(!i.trim()||!m)){p(!0);try{await S(i),c(""),It.success("Comment posted!")}catch(M){console.error("Error posting comment:",M),It.error("Failed to post comment")}finally{p(!1)}}},O=async M=>{if(!m){It.error("Please log in to like comments");return}try{await k(M)}catch(z){console.error("Error liking comment:",z),It.error("Failed to like comment")}},D=M=>{M.key==="Enter"&&(M.ctrlKey||M.metaKey)&&!u&&(M.preventDefault(),N())};return g?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(T0,{className:"h-5 w-5"}),d.jsx("h3",{className:"font-semibold",children:"Discussion"})]}),d.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading comments..."})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(T0,{className:"h-5 w-5"}),d.jsx("h3",{className:"font-semibold",children:"Discussion"}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",y.length," ",y.length===1?"comment":"comments",")"]})]}),m?d.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/50",children:[d.jsx(zl,{value:i,onChange:M=>c(M.target.value),onKeyDown:D,placeholder:`Share your thoughts about ${t}...`,className:"min-h-[80px] resize-none",disabled:u}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-xs text-muted-foreground",children:"Press Ctrl+Enter to post"}),d.jsxs(Pt,{onClick:N,disabled:!i.trim()||u,size:"sm",className:"gap-2",children:[d.jsx(pU,{className:"h-3 w-3"}),u?"Posting...":"Post Comment"]})]})]}):d.jsx("div",{className:"p-4 border rounded-lg bg-muted/50 text-center",children:d.jsx("p",{className:"text-sm text-muted-foreground",children:"Please log in to join the discussion"})}),d.jsx("div",{className:"space-y-3",children:y.length===0?d.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[d.jsx(T0,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),d.jsx("p",{className:"text-sm",children:"No comments yet."}),d.jsx("p",{className:"text-xs",children:"Be the first to share your thoughts!"})]}):y.map(M=>d.jsx(oQ,{comment:M,likeCount:T(M.id),hasUserLiked:E(M.id),onLike:()=>O(M.id)},M.id))})]})}function aQ({categories:e}){const[t,n]=_.useState(!1);return e.length===0?null:d.jsx("div",{children:d.jsxs(pE,{open:t,onOpenChange:n,children:[d.jsx(mE,{asChild:!0,children:d.jsx(Pt,{variant:"ghost",size:"sm",className:"h-auto p-0 hover:bg-transparent",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(xU,{className:"h-4 w-4"}),d.jsx("span",{className:"font-semibold",children:"Categories"}),d.jsx(Dm,{className:ze("h-4 w-4 transition-transform duration-200",t&&"transform rotate-180")})]})})}),d.jsx(gE,{children:d.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:e.map((r,s)=>d.jsx(Vi,{variant:"secondary",className:"text-xs",children:r},s))})})]})})}function WC(e,t){if(t){let n;if(e.match(/^\d{10}$/))n=parseInt(e)*1e3;else if(e.match(/^\d{13}$/))n=parseInt(e);else throw new Error(`Invalid timestamp format: ${e}`);return new Date(n).toISOString().replace(/[-:]/g,"").split(".")[0]+"Z"}else return new Date(e+"T00:00:00Z").toISOString().split("T")[0].replace(/-/g,"")}function lQ(e){var k,T,E,N;const t=((k=e.tags.find(O=>O[0]==="title"))==null?void 0:k[1])||"Untitled",n=(T=e.tags.find(O=>O[0]==="start"))==null?void 0:T[1],r=(E=e.tags.find(O=>O[0]==="end"))==null?void 0:E[1],s=(N=e.tags.find(O=>O[0]==="location"))==null?void 0:N[1];if(!n)throw new Error("Event must have a start time");const i=e.kind===31923,c=WC(n,i),u=r?WC(r,i):c,p=i?`DTSTART:${c}`:`DTSTART;VALUE=DATE:${c}`,m=i?`DTEND:${u}`:`DTEND;VALUE=DATE:${u}`,y=`${e.id}@nostr-event`,g=new Date().toISOString().replace(/[-:]/g,"").split(".")[0]+"Z";return["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Nostr Event Calendar//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`UID:${y}`,`DTSTAMP:${g}`,p,m,`SUMMARY:${t}`,`DESCRIPTION:${e.content.replace(/\n/g,"\\n")}`,s?`LOCATION:${s}`:"","STATUS:CONFIRMED","END:VEVENT","END:VCALENDAR"].filter(O=>O!=="").join(`\r
`)}function cQ(e){var i;const t=lQ(e),n=new Blob([t],{type:"text/calendar;charset=utf-8"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=`${((i=e.tags.find(c=>c[0]==="title"))==null?void 0:i[1])||"event"}.ics`,s.click(),URL.revokeObjectURL(r)}function uQ(e){switch(e){case"accepted":return"bg-green-500/10 text-green-500 hover:bg-green-500/20";case"tentative":return"bg-yellow-500/10 text-yellow-500 hover:bg-yellow-500/20";case"declined":return"bg-red-500/10 text-red-500 hover:bg-red-500/20";default:return"bg-gray-500/10 text-gray-500 hover:bg-gray-500/20"}}function dQ(e){switch(e){case"accepted":return"Going";case"tentative":return"Maybe";case"declined":return"Can't Go";default:return e}}function fQ({pubkey:e}){var c;const n=(c=Jc(e).data)==null?void 0:c.metadata,r=(n==null?void 0:n.name)||(n==null?void 0:n.display_name)||e.slice(0,8),s=n==null?void 0:n.picture,i=Ps.npubEncode(e);return d.jsxs("div",{className:"flex items-center justify-between gap-2",children:[d.jsxs(Pl,{to:`/profile/${i}`,className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[d.jsxs(ja,{className:"h-6 w-6",children:[d.jsx(Ta,{src:s,alt:r}),d.jsx(Aa,{children:r.slice(0,2)})]}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:["Created by ",r]})]}),d.jsx(bE,{pubkey:e,authorName:r})]})}function hQ(){var Me,at,Oe,wt,At,ut,Gt,nn,On,cr,zn;const{eventId:e}=WN(),{data:t,isLoading:n,refetch:r}=IP(),{data:s,isLoading:i}=cK(e),{user:c}=lr(),{mutate:u}=Ed(),{mutate:p}=Ed(),[m,y]=_.useState("accepted"),[g,S]=_.useState(""),[k,T]=_.useState(!1),[E,N]=_.useState(!1),[O,D]=_.useState(!1),M=uh(),z=O_(),q=n||i,Y=async()=>{D(!0);try{await M.invalidateQueries({queryKey:["events"]}),await M.invalidateQueries({queryKey:["event"]}),await M.invalidateQueries({queryKey:["comments"]}),await M.invalidateQueries({queryKey:["reactions"]}),await r(),It.success("Event details refreshed!")}catch(Xe){console.error("Error refreshing event data:",Xe),It.error("Could not refresh event details")}finally{D(!1)}};if(q||O)return d.jsx("div",{className:"container px-0 sm:px-4 py-2 sm:py-6",children:d.jsx(qr,{className:"rounded-none sm:rounded-lg",children:d.jsx(Kr,{className:"p-6",children:d.jsx("div",{className:"text-center py-12",children:d.jsxs("div",{className:"inline-flex items-center gap-2",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-primary border-t-transparent"}),d.jsx("span",{children:O?"Refreshing event details...":"Loading event..."})]})})})})});let Z=null,ae;try{if(!e)return d.jsx("div",{className:"container px-0 sm:px-4 py-2 sm:py-6",children:d.jsx(qr,{className:"rounded-none sm:rounded-lg",children:d.jsx(Kr,{className:"p-6",children:d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-destructive",children:"No event identifier provided"})})})})});const Xe=hK(e);if(Xe.type==="naddr"){const{kind:Ft,pubkey:Zt,identifier:Vt}=Xe.data;Z=t==null?void 0:t.find(ie=>ie.kind===Ft&&ie.pubkey===Zt&&ie.tags.some(ve=>ve[0]==="d"&&ve[1]===Vt)),!Z&&s&&(Z=s),ae=Z==null?void 0:Z.id}else if(Xe.type==="nevent"||Xe.type==="note"||Xe.type==="raw"){const Ft=Xe.type==="raw"||Xe.type==="note"?Xe.data:Xe.data.id;Z=t==null?void 0:t.find(Zt=>Zt.id===Ft),!Z&&s&&(Z=s),ae=Ft}}catch(Xe){return console.error("Error decoding event identifier:",Xe),d.jsx("div",{className:"container px-0 sm:px-4 py-2 sm:py-6",children:d.jsx(qr,{className:"rounded-none sm:rounded-lg",children:d.jsx(Kr,{className:"p-6",children:d.jsx("div",{className:"text-center py-12",children:d.jsx("p",{className:"text-destructive",children:"Invalid event address"})})})})})}const te=Z;if(!te)return d.jsx("div",{className:"container px-0 sm:px-4 py-2 sm:py-6",children:d.jsx(qr,{className:"rounded-none sm:rounded-lg",children:d.jsx(Kr,{className:"p-6",children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Event not found"}),d.jsx("p",{className:"text-muted-foreground mb-6",children:"The event you're looking for doesn't exist or may have been deleted."}),d.jsx(Pt,{variant:"outline",onClick:()=>z("/"),className:"inline-flex items-center gap-2",children:d.jsx("span",{children:"← Back to Events"})})]})})})});const ye=(t||[]).filter(Xe=>Xe.kind===31925).filter(Xe=>Xe.tags.some(Ft=>Ft[0]==="e"&&Ft[1]===ae)),Te=ye.reduce((Xe,Ft)=>{const Zt=Xe.find(Vt=>Vt.pubkey===Ft.pubkey);return!Zt||Ft.created_at>Zt.created_at?[...Xe.filter(ie=>ie.pubkey!==Ft.pubkey),Ft]:Xe},[]),Se=Te.filter(Xe=>{var Ft;return((Ft=Xe.tags.find(Zt=>Zt[0]==="status"))==null?void 0:Ft[1])==="accepted"}),_e=Te.filter(Xe=>{var Ft;return((Ft=Xe.tags.find(Zt=>Zt[0]==="status"))==null?void 0:Ft[1])==="tentative"}),Le=Te.filter(Xe=>{var Ft;return((Ft=Xe.tags.find(Zt=>Zt[0]==="status"))==null?void 0:Ft[1])==="declined"}),ge=Te.map(Xe=>Xe.pubkey),me=(Me=te.tags.find(Xe=>Xe[0]==="price"))==null?void 0:Me[1],de=(at=te.tags.find(Xe=>Xe[0]==="lud16"))==null?void 0:at[1],Q=me&&de,J=(c==null?void 0:c.pubkey)===te.pubkey,xe=(Oe=te.tags.find(Xe=>Xe[0]==="image"))==null?void 0:Oe[1],K=(wt=te.tags.find(Xe=>Xe[0]==="d"))==null?void 0:wt[1],X=async()=>{if(!(!c||!K)){T(!0);try{const Xe=[["e",te.id],["a",`${te.kind}:${te.pubkey}:${K}`],["d",Math.random().toString(36).substring(2)],["status",m],["p",te.pubkey]];await u({kind:31925,content:g,tags:Xe},{onSuccess:()=>{It.success("RSVP submitted successfully!"),S(""),M.invalidateQueries({queryKey:["events"]})}})}catch(Xe){It.error("Failed to submit RSVP"),console.error("Error submitting RSVP:",Xe)}finally{T(!1)}}},Pe=ye.find(Xe=>Xe.pubkey===(c==null?void 0:c.pubkey)),Be=(At=Pe==null?void 0:Pe.tags.find(Xe=>Xe[0]==="status"))==null?void 0:At[1],Fe=Pe==null?void 0:Pe.content,Ze=async()=>{var Xe,Ft,Zt,Vt,ie;if(!(!c||!te)){N(!0);try{const ve=((Xe=te.tags.find(Nt=>Nt[0]==="title"))==null?void 0:Xe[1])||"Untitled Event",Ie=(Ft=te.tags.find(Nt=>Nt[0]==="location"))==null?void 0:Ft[1],Je=(Zt=te.tags.find(Nt=>Nt[0]==="start"))==null?void 0:Zt[1],He=(Vt=te.tags.find(Nt=>Nt[0]==="image"))==null?void 0:Vt[1];let Ue=`🎉 Join me at ${ve}!

`;if(Je){const Nt=p_(te),rn=$c(Nt,new Date(parseInt(Je)*1e3).getTime());if(te.kind===31922){let fn;if(Je.match(/^\d{10}$/))fn=new Date(parseInt(Je)*1e3);else if(Je.match(/^\d{13}$/))fn=new Date(parseInt(Je));else{const[mr,Qn,sr]=Je.split("-").map(Number);fn=new Date(mr,Qn-1,sr)}Ue+=`📅 ${fo(fn.getTime(),Nt)}${rn}
`}else{const fn=new Date(parseInt(Je)*1e3),mr=(ie=te.tags.find(Qn=>Qn[0]==="end"))==null?void 0:ie[1];if(mr){const Qn=new Date(parseInt(mr)*1e3),sr=fo(fn.getTime(),Nt,{hour:"numeric",minute:"numeric"}),Tr=m_(Qn.getTime(),Nt);Ue+=`📅 ${sr} - ${Tr}${rn}
`}else{const Qn=fo(fn.getTime(),Nt,{hour:"numeric",minute:"numeric"});Ue+=`📅 ${Qn}${rn}
`}}}Ie&&(Ue+=`📍 ${Ie}
`),Ue+=`
${te.content}

`,Ue+=`🔗 ${pK(te,"https://plektos.app")}`;const ct=[];He&&ct.push(["image",He]),await p({kind:1,content:Ue,tags:ct}),It.success("Event shared successfully!")}catch(ve){It.error("Failed to share event"),console.error("Error sharing event:",ve)}finally{N(!1)}}};return d.jsxs("div",{className:"container max-w-4xl px-0 sm:px-4 py-2 sm:py-8",children:[d.jsxs(qr,{className:"rounded-none sm:rounded-lg",children:[xe&&d.jsx("div",{className:"aspect-video w-full overflow-hidden",children:d.jsx("img",{src:xe,alt:((ut=te.tags.find(Xe=>Xe[0]==="title"))==null?void 0:ut[1])||"Event image",className:"w-full h-full object-cover"})}),d.jsx(gh,{className:"p-3 sm:p-6",children:d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-4",children:[d.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[d.jsx(Hm,{children:(Gt=te.tags.find(Xe=>Xe[0]==="title"))==null?void 0:Gt[1]}),d.jsx(fQ,{pubkey:te.pubkey})]}),c&&d.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 self-start sm:self-auto",children:[d.jsx(nQ,{organizerPubkey:te.pubkey,eventTitle:((nn=te.tags.find(Xe=>Xe[0]==="title"))==null?void 0:nn[1])||"Event"}),d.jsxs(Pt,{variant:"outline",size:"sm",onClick:()=>cQ(te),className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3",children:[d.jsx(pS,{className:"h-4 w-4"}),"Calendar"]}),d.jsxs(Pt,{variant:"outline",size:"sm",onClick:Ze,disabled:E,className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3",children:[d.jsx(gU,{className:"h-4 w-4"}),E?"...":"Share"]})]})]})}),d.jsxs(Kr,{className:"p-3 sm:p-6 space-y-3 sm:space-y-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:"Description"}),d.jsx("p",{className:"text-muted-foreground",children:te.content})]}),d.jsx(aQ,{categories:te.tags.filter(Xe=>Xe[0]==="t").map(Xe=>Xe[1])}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:"Location"}),d.jsx("p",{className:"text-muted-foreground",children:(On=te.tags.find(Xe=>Xe[0]==="location"))==null?void 0:On[1]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:"Date & Time"}),d.jsx("p",{className:"text-muted-foreground",children:(()=>{var Vt,ie;const Xe=(Vt=te.tags.find(ve=>ve[0]==="start"))==null?void 0:Vt[1],Ft=(ie=te.tags.find(ve=>ve[0]==="end"))==null?void 0:ie[1],Zt=p_(te);if(!Xe)return"Date not specified";try{if(te.kind===31922){let ve;if(Xe.match(/^\d{10}$/))ve=new Date(parseInt(Xe)*1e3);else if(Xe.match(/^\d{13}$/))ve=new Date(parseInt(Xe));else{const[Ie,Je,He]=Xe.split("-").map(Number);if(isNaN(Ie)||isNaN(Je)||isNaN(He))throw new Error("Invalid date format");ve=new Date(Ie,Je-1,He)}if(isNaN(ve.getTime()))return console.error("Invalid start date:",Xe),"Invalid date";if(Ft&&Ft!==Xe){let Ie;if(Ft.match(/^\d{10}$/))Ie=new Date(parseInt(Ft)*1e3);else if(Ft.match(/^\d{13}$/))Ie=new Date(parseInt(Ft));else{const[Je,He,Ue]=Ft.split("-").map(Number);!isNaN(Je)&&!isNaN(He)&&!isNaN(Ue)&&(Ie=new Date(Je,He-1,Ue))}if(Ie&&!isNaN(Ie.getTime()))return ve.toDateString()===Ie.toDateString()?fo(ve.getTime(),Zt)+$c(Zt,ve.getTime()):`${fo(ve.getTime(),Zt)} - ${fo(Ie.getTime(),Zt)}`+$c(Zt,ve.getTime())}return fo(ve.getTime(),Zt)+$c(Zt,ve.getTime())}else{const ve=new Date(parseInt(Xe)*1e3);if(isNaN(ve.getTime()))return console.error("Invalid start date:",Xe),"Invalid date";const Ie=$c(Zt,ve.getTime());if(Ft){const He=new Date(parseInt(Ft)*1e3);if(!isNaN(He.getTime())){const Ue=fo(ve.getTime(),Zt,{hour:"numeric",minute:"numeric"}),ct=m_(He.getTime(),Zt);return`${Ue} - ${ct}${Ie}`}}return`${fo(ve.getTime(),Zt,{hour:"numeric",minute:"numeric"})}${Ie}`}}catch(ve){return console.error("Error formatting date:",ve),"Invalid date"}})()})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-2",children:"Attendees"}),d.jsxs("div",{className:"space-y-4",children:[Se.length>0&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Vi,{variant:"outline",className:"bg-green-500/10 text-green-500",children:"Going"}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[Se.length," ",Se.length===1?"person":"people"]})]}),d.jsx(i1,{pubkeys:Se.map(Xe=>Xe.pubkey)})]}),_e.length>0&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Vi,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500",children:"Maybe"}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[_e.length," ",_e.length===1?"person":"people"]})]}),d.jsx(i1,{pubkeys:_e.map(Xe=>Xe.pubkey)})]}),Le.length>0&&d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Vi,{variant:"outline",className:"bg-red-500/10 text-red-500",children:"Can't Go"}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[Le.length," ",Le.length===1?"person":"people"]})]}),d.jsx(i1,{pubkeys:Le.map(Xe=>Xe.pubkey)})]})]})]}),c&&!J&&d.jsxs("div",{className:"border-t pt-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"font-semibold",children:"RSVP"}),Be&&d.jsx(Vi,{variant:"outline",className:uQ(Be),children:dQ(Be)})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium mb-2 block",children:Be?"Change Status":"Select Status"}),d.jsxs(yE,{value:Be||m,onValueChange:Xe=>y(Xe),children:[d.jsx(Tw,{className:"w-full",children:d.jsx(xE,{placeholder:"Select your status"})}),d.jsxs(Aw,{children:[d.jsx(Zp,{value:"accepted",children:"I'm going"}),d.jsx(Zp,{value:"tentative",children:"Maybe"}),d.jsx(Zp,{value:"declined",children:"Can't go"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm font-medium mb-2 block",children:Fe?"Update Note":"Add Note (Optional)"}),d.jsx(zl,{placeholder:"Add a note to your RSVP...",value:g,onChange:Xe=>S(Xe.target.value),className:"min-h-[100px]"}),Fe&&d.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Current note: ",Fe]})]}),d.jsx(Pt,{onClick:X,disabled:k,className:"w-full",children:k?"Submitting...":Be?"Update RSVP":"Submit RSVP"})]})]}),Q&&d.jsxs("div",{className:"border-t pt-4",children:[d.jsx("h3",{className:"font-semibold mb-2",children:"Ticket Information"}),d.jsxs("p",{className:"text-muted-foreground mb-4",children:["Price: ",md(parseInt(me))]}),c?d.jsx(QZ,{pubkey:te.pubkey,displayName:((cr=te.tags.find(Xe=>Xe[0]==="title"))==null?void 0:cr[1])||"Event",lightningAddress:de||"",eventId:te.id,eventKind:te.kind,eventIdentifier:K,fixedAmount:parseInt(me),buttonText:"Purchase Ticket",className:"w-full"}):d.jsx("p",{className:"text-muted-foreground",children:"Please log in to purchase a ticket"})]}),J&&d.jsx(wG,{event:te,isHost:J,participants:ge}),te&&d.jsxs("div",{className:"space-y-8",children:[J&&d.jsx(XZ,{eventId:te.id,eventPubkey:te.pubkey}),d.jsx(iQ,{eventId:te.id,eventTitle:((zn=te.tags.find(Xe=>Xe[0]==="title"))==null?void 0:zn[1])||"Event",eventKind:te.kind,eventPubkey:te.pubkey,eventIdentifier:K})]})]})]}),c&&c.pubkey===te.pubkey&&d.jsxs("div",{className:"mt-4 flex gap-2",children:[d.jsx(KZ,{event:te,onEventUpdated:Y}),d.jsx(fZ,{eventId:te.id,eventKind:te.kind,onDeleted:()=>z("/")})]})]})}const pQ=["UTC","America/New_York","America/Chicago","America/Denver","America/Los_Angeles","Europe/London","Europe/Paris","Europe/Berlin","Asia/Tokyo","Asia/Shanghai","Australia/Sydney","Pacific/Auckland"];function mQ(){const e=O_(),{user:t}=lr(),{mutate:n}=Ed(),[r,s]=_.useState(!1),[i,c]=_.useState({title:"",description:"",location:"",locationDetails:{name:"",address:"",placeId:"",lat:0,lng:0},startDate:"",startTime:"",endDate:"",endTime:"",imageUrl:"",categories:[],ticketInfo:{enabled:!1,price:0,lightningAddress:""},timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}),u=async p=>{if(p.preventDefault(),!!t){if(!i.title.trim()){It.error("Title is required");return}if(!i.startDate){It.error("Start date is required");return}if(!i.endDate){It.error("End date is required");return}if(i.endDate<i.startDate){It.error("End date must be after start date");return}console.log("Form data at submission:",{imageUrl:i.imageUrl}),s(!0);try{const m=i.startTime||i.endTime,y=m?31923:31922;let g,S;if(m){const T=new Date(i.startDate);if(i.startTime){const[N,O]=i.startTime.split(":").map(Number);T.setHours(N,O)}const E=new Date(i.endDate);if(i.endTime){const[N,O]=i.endTime.split(":").map(Number);E.setHours(N,O)}g=Math.floor(T.getTime()/1e3).toString(),S=Math.floor(E.getTime()/1e3).toString()}else g=i.startDate,S=i.endDate;const k=[["d",i.title.toLowerCase().replace(/\s+/g,"-")],["title",i.title],["description",i.description],["location",i.location]];if(i.locationDetails.placeId&&k.push(["g",`${i.locationDetails.lat},${i.locationDetails.lng}`],["place_id",i.locationDetails.placeId]),k.push(["start",g]),S&&k.push(["end",S]),m&&(k.push(["start_tzid",i.timezone]),S&&k.push(["end_tzid",i.timezone])),i.imageUrl&&(console.log("Adding image to event:",{imageUrl:i.imageUrl}),k.push(["image",i.imageUrl])),i.categories.length>0)for(const T of i.categories)k.push(["t",T]);i.ticketInfo.enabled&&k.push(["price",i.ticketInfo.price.toString()],["lud16",i.ticketInfo.lightningAddress]),await n({kind:y,content:i.description,tags:k}),It.success("Event created successfully!"),e("/")}catch(m){It.error("Failed to create event"),console.error("Error creating event:",m)}finally{s(!1)}}};return t?d.jsxs("div",{className:"container px-0 sm:px-4 py-2 sm:py-6 space-y-3 sm:space-y-6",children:[d.jsxs("div",{className:"px-3 sm:px-0",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight mb-2",children:"Create Event"}),d.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:"Share your event with the community"})]}),d.jsxs("form",{onSubmit:u,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx(Ln,{htmlFor:"title",children:"Event Title"}),d.jsx(Rs,{id:"title",value:i.title,onChange:p=>c(m=>({...m,title:p.target.value})),required:!0})]}),d.jsxs("div",{children:[d.jsx(Ln,{htmlFor:"description",children:"Description"}),d.jsx(zl,{id:"description",value:i.description,onChange:p=>c(m=>({...m,description:p.target.value})),required:!0})]}),d.jsx(LD,{value:i.location,onChange:p=>c(m=>({...m,location:p})),onLocationSelect:p=>c(m=>({...m,location:p.address,locationDetails:p}))}),d.jsx(FD,{value:i.imageUrl,onChange:p=>{console.log("Setting image URL in form data:",p),c(m=>({...m,imageUrl:p}))}}),d.jsx($D,{selectedCategories:i.categories,onCategoriesChange:p=>c(m=>({...m,categories:p}))}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ln,{htmlFor:"startDate",className:"text-sm font-medium",children:"Start Date"}),d.jsx(Cm,{id:"startDate",mode:"single",selected:i.startDate?new Date(i.startDate+"T12:00:00Z"):void 0,onSelect:p=>{if(p){const m=new Date(Date.UTC(p.getFullYear(),p.getMonth(),p.getDate(),12,0,0,0));c(y=>({...y,startDate:m.toISOString().split("T")[0]}))}},disabled:p=>{const m=new Date;return m.setUTCHours(0,0,0,0),p<m},className:"rounded-md border"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Ln,{htmlFor:"endDate",className:"text-sm font-medium",children:"End Date"}),d.jsx(Cm,{id:"endDate",mode:"single",selected:i.endDate?new Date(i.endDate+"T12:00:00Z"):void 0,onSelect:p=>{if(p){const m=new Date(Date.UTC(p.getFullYear(),p.getMonth(),p.getDate(),12,0,0,0));c(y=>({...y,endDate:m.toISOString().split("T")[0]}))}},disabled:p=>{const m=i.startDate?new Date(i.startDate+"T12:00:00Z"):new Date;return m.setUTCHours(0,0,0,0),p<m},className:"rounded-md border"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx(Ln,{children:"Start Time (Optional)"}),d.jsx(Sx,{value:i.startTime,onChange:p=>c(m=>({...m,startTime:p}))})]}),d.jsxs("div",{children:[d.jsx(Ln,{children:"End Time (Optional)"}),d.jsx(Sx,{value:i.endTime,onChange:p=>c(m=>({...m,endTime:p}))})]})]}),(i.startTime||i.endTime)&&d.jsxs("div",{children:[d.jsx(Ln,{children:"Timezone"}),d.jsxs(yE,{value:i.timezone,onValueChange:p=>c(m=>({...m,timezone:p})),children:[d.jsx(Tw,{children:d.jsx(xE,{placeholder:"Select timezone"})}),d.jsx(Aw,{className:"max-h-[300px]",children:pQ.map(p=>d.jsx(Zp,{value:p,children:p},p))})]})]}),d.jsx(BD,{onTicketInfoChange:p=>c(m=>({...m,ticketInfo:p}))}),d.jsx(Pt,{type:"submit",disabled:r,children:r?"Creating...":"Create Event"})]})]}):d.jsx("div",{className:"container px-0 sm:px-4 py-2 sm:py-6",children:d.jsxs("div",{className:"px-3 sm:px-0",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight mb-4",children:"Create Event"}),d.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:"Please log in to create an event."})]})})}const gQ=[21,100,500,1e3,5e3],VD=_.forwardRef(({className:e,onClick:t,children:n,...r},s)=>d.jsx("button",{ref:s,onClick:t,className:ze("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2","border border-input bg-background hover:bg-accent hover:text-accent-foreground","font-mono cursor-pointer hover:bg-yellow-50 hover:border-yellow-300 dark:hover:bg-yellow-950 dark:hover:border-yellow-700 transition-colors",e),...r,children:n}));VD.displayName="ClickableBadge";function vQ({lightningAddress:e,pubkey:t,displayName:n,eventId:r="",eventKind:s=0,eventIdentifier:i="",className:c=""}){const{zap:u}=UD(),[p,m]=_.useState(!1),[y,g]=_.useState(!1),[S,k]=_.useState("21"),T=async N=>{if(!e){It.error("Lightning address not available");return}m(!0);try{await u({amount:N,eventId:r,eventPubkey:t,eventKind:s,eventIdentifier:i,eventName:`Zap to ${n}`,comment:`Zapped ${n}`,lightningAddress:e})}catch(O){console.error("Error zapping:",O),It.error(O instanceof Error?O.message:"Failed to zap")}finally{m(!1)}},E=async()=>{const N=parseInt(S);if(isNaN(N)||N<1){It.error("Please enter a valid amount");return}await T(N),g(!1),k("21")};return e?d.jsxs(d.Fragment,{children:[d.jsxs(zm,{children:[d.jsx(Wm,{asChild:!0,children:d.jsxs(VD,{className:ze(p&&"opacity-50 cursor-not-allowed",c),children:["⚡ ",e]})}),d.jsxs(mh,{align:"start",className:"w-48",children:[d.jsx("div",{className:"px-2 py-1.5 text-sm font-medium text-muted-foreground",children:"Quick Zap Amounts"}),gQ.map(N=>d.jsxs(vs,{onClick:()=>T(N),disabled:p,className:"flex items-center justify-between",children:[d.jsx("span",{children:md(N)}),d.jsx($f,{className:"h-3 w-3"})]},N)),d.jsx(pd,{}),d.jsxs(vs,{onClick:()=>g(!0),disabled:p,className:"flex items-center gap-2",children:[d.jsx(Gj,{className:"h-4 w-4"}),"Custom Amount"]})]})]}),d.jsx(jd,{open:y,onOpenChange:g,children:d.jsxs(eu,{children:[d.jsxs(tu,{children:[d.jsxs(nu,{children:["Zap ",n]}),d.jsxs(hh,{children:["Send a custom zap amount to ",n," via Lightning."]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx(Ln,{htmlFor:"amount",children:"Amount (sats)"}),d.jsx(Rs,{id:"amount",type:"number",value:S,onChange:N=>k(N.target.value),placeholder:"21",min:"1"})]}),d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Lightning Address: ",e]})]}),d.jsxs(rw,{children:[d.jsx(Pt,{variant:"outline",onClick:()=>g(!1),children:"Cancel"}),d.jsxs(Pt,{onClick:E,disabled:p,className:"bg-yellow-600 hover:bg-yellow-700",children:[d.jsx($f,{className:"h-4 w-4 mr-2"}),p?"Zapping...":`Zap ${md(parseInt(S)||0)}`]})]})]})})]}):null}var xy=e=>e.type==="checkbox",Bf=e=>e instanceof Date,po=e=>e==null;const HD=e=>typeof e=="object";var $r=e=>!po(e)&&!Array.isArray(e)&&HD(e)&&!Bf(e),qD=e=>$r(e)&&e.target?xy(e.target)?e.target.checked:e.target.value:e,yQ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,KD=(e,t)=>e.has(yQ(t)),xQ=e=>{const t=e.constructor&&e.constructor.prototype;return $r(t)&&t.hasOwnProperty("isPrototypeOf")},_E=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ts(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(_E&&(e instanceof Blob||r))&&(n||$r(e)))if(t=n?[]:{},!n&&!xQ(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Ts(e[s]));else return e;return t}var Ow=e=>Array.isArray(e)?e.filter(Boolean):[],Ir=e=>e===void 0,pt=(e,t,n)=>{if(!t||!$r(e))return n;const r=Ow(t.split(/[,[\].]+?/)).reduce((s,i)=>po(s)?s:s[i],e);return Ir(r)||r===e?Ir(e[t])?n:e[t]:r},hi=e=>typeof e=="boolean",SE=e=>/^\w*$/.test(e),YD=e=>Ow(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Bn=(e,t,n)=>{let r=-1;const s=SE(t)?[t]:YD(t),i=s.length,c=i-1;for(;++r<i;){const u=s[r];let p=n;if(r!==c){const m=e[u];p=$r(m)||Array.isArray(m)?m:isNaN(+s[r+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=p,e=e[u]}};const Ex={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ea={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Rc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},GD=Ve.createContext(null),Dw=()=>Ve.useContext(GD),wQ=e=>{const{children:t,...n}=e;return Ve.createElement(GD.Provider,{value:n},t)};var ZD=(e,t,n,r=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const c=i;return t._proxyFormState[c]!==Ea.all&&(t._proxyFormState[c]=!r||Ea.all),n&&(n[c]=!0),e[c]}});return s},E_=e=>po(e)||!HD(e);function Bc(e,t){if(E_(e)||E_(t))return e===t;if(Bf(e)&&Bf(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const s of n){const i=e[s];if(!r.includes(s))return!1;if(s!=="ref"){const c=t[s];if(Bf(i)&&Bf(c)||$r(i)&&$r(c)||Array.isArray(i)&&Array.isArray(c)?!Bc(i,c):i!==c)return!1}}return!0}const QD=(e,t)=>{const n=_.useRef(t);Bc(t,n.current)||(n.current=t),_.useEffect(e,n.current)};function bQ(e){const t=Dw(),{control:n=t.control,disabled:r,name:s,exact:i}=e||{},[c,u]=Ve.useState(n._formState),p=Ve.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return QD(()=>n._subscribe({name:s,formState:p.current,exact:i,callback:m=>{!r&&u({...n._formState,...m})}}),[s,r,i]),Ve.useEffect(()=>{p.current.isValid&&n._setValid(!0)},[n]),Ve.useMemo(()=>ZD(c,n,p.current,!1),[c,n])}var Rl=e=>typeof e=="string",XD=(e,t,n,r,s)=>Rl(e)?(r&&t.watch.add(e),pt(n,e,s)):Array.isArray(e)?e.map(i=>(r&&t.watch.add(i),pt(n,i))):(r&&(t.watchAll=!0),n);function _Q(e){const t=Dw(),{control:n=t.control,name:r,defaultValue:s,disabled:i,exact:c}=e||{},[u,p]=Ve.useState(n._getWatch(r,s));return QD(()=>n._subscribe({name:r,formState:{values:!0},exact:c,callback:m=>!i&&p(XD(r,n._names,m.values||n._formValues,!1,s))}),[r,s,i,c]),Ve.useEffect(()=>n._removeUnmounted()),u}function SQ(e){const t=Dw(),{name:n,disabled:r,control:s=t.control,shouldUnregister:i}=e,c=KD(s._names.array,n),u=_Q({control:s,name:n,defaultValue:pt(s._formValues,n,pt(s._defaultValues,n,e.defaultValue)),exact:!0}),p=bQ({control:s,name:n,exact:!0}),m=Ve.useRef(e),y=Ve.useRef(s.register(n,{...e.rules,value:u,...hi(e.disabled)?{disabled:e.disabled}:{}})),g=Ve.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!pt(p.errors,n)},isDirty:{enumerable:!0,get:()=>!!pt(p.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!pt(p.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!pt(p.validatingFields,n)},error:{enumerable:!0,get:()=>pt(p.errors,n)}}),[p,n]),S=Ve.useCallback(N=>y.current.onChange({target:{value:qD(N),name:n},type:Ex.CHANGE}),[n]),k=Ve.useCallback(()=>y.current.onBlur({target:{value:pt(s._formValues,n),name:n},type:Ex.BLUR}),[n,s._formValues]),T=Ve.useCallback(N=>{const O=pt(s._fields,n);O&&N&&(O._f.ref={focus:()=>N.focus(),select:()=>N.select(),setCustomValidity:D=>N.setCustomValidity(D),reportValidity:()=>N.reportValidity()})},[s._fields,n]),E=Ve.useMemo(()=>({name:n,value:u,...hi(r)||p.disabled?{disabled:p.disabled||r}:{},onChange:S,onBlur:k,ref:T}),[n,r,p.disabled,S,k,T,u]);return Ve.useEffect(()=>{const N=s._options.shouldUnregister||i;s.register(n,{...m.current.rules,...hi(m.current.disabled)?{disabled:m.current.disabled}:{}});const O=(D,M)=>{const z=pt(s._fields,D);z&&z._f&&(z._f.mount=M)};if(O(n,!0),N){const D=Ts(pt(s._options.defaultValues,n));Bn(s._defaultValues,n,D),Ir(pt(s._formValues,n))&&Bn(s._formValues,n,D)}return!c&&s.register(n),()=>{(c?N&&!s._state.action:N)?s.unregister(n):O(n,!1)}},[n,s,c,i]),Ve.useEffect(()=>{s._setDisabledField({disabled:r,name:n})},[r,n,s]),Ve.useMemo(()=>({field:E,formState:p,fieldState:g}),[E,p,g])}const EQ=e=>e.render(SQ(e));var JD=(e,t,n,r,s)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:s||!0}}:{},gv=e=>Array.isArray(e)?e:[e],VC=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},uo=e=>$r(e)&&!Object.keys(e).length,EE=e=>e.type==="file",ka=e=>typeof e=="function",kx=e=>{if(!_E)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},eM=e=>e.type==="select-multiple",kE=e=>e.type==="radio",kQ=e=>kE(e)||xy(e),d1=e=>kx(e)&&e.isConnected;function CQ(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Ir(e)?r++:e[t[r++]];return e}function NQ(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ir(e[t]))return!1;return!0}function ns(e,t){const n=Array.isArray(t)?t:SE(t)?[t]:YD(t),r=n.length===1?e:CQ(e,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&($r(r)&&uo(r)||Array.isArray(r)&&NQ(r))&&ns(e,n.slice(0,-1)),e}var tM=e=>{for(const t in e)if(ka(e[t]))return!0;return!1};function Cx(e,t={}){const n=Array.isArray(e);if($r(e)||n)for(const r in e)Array.isArray(e[r])||$r(e[r])&&!tM(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Cx(e[r],t[r])):po(e[r])||(t[r]=!0);return t}function nM(e,t,n){const r=Array.isArray(e);if($r(e)||r)for(const s in e)Array.isArray(e[s])||$r(e[s])&&!tM(e[s])?Ir(t)||E_(n[s])?n[s]=Array.isArray(e[s])?Cx(e[s],[]):{...Cx(e[s])}:nM(e[s],po(t)?{}:t[s],n[s]):n[s]=!Bc(e[s],t[s]);return n}var ov=(e,t)=>nM(e,t,Cx(t));const HC={value:!1,isValid:!1},qC={value:!0,isValid:!0};var rM=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ir(e[0].attributes.value)?Ir(e[0].value)||e[0].value===""?qC:{value:e[0].value,isValid:!0}:qC:HC}return HC},sM=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Ir(e)?e:t?e===""?NaN:e&&+e:n&&Rl(e)?new Date(e):r?r(e):e;const KC={isValid:!1,value:null};var oM=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,KC):KC;function YC(e){const t=e.ref;return EE(t)?t.files:kE(t)?oM(e.refs).value:eM(t)?[...t.selectedOptions].map(({value:n})=>n):xy(t)?rM(e.refs).value:sM(Ir(t.value)?e.ref.value:t.value,e)}var jQ=(e,t,n,r)=>{const s={};for(const i of e){const c=pt(t,i);c&&Bn(s,i,c._f)}return{criteriaMode:n,names:[...e],fields:s,shouldUseNativeValidation:r}},Nx=e=>e instanceof RegExp,iv=e=>Ir(e)?e:Nx(e)?e.source:$r(e)?Nx(e.value)?e.value.source:e.value:e,GC=e=>({isOnSubmit:!e||e===Ea.onSubmit,isOnBlur:e===Ea.onBlur,isOnChange:e===Ea.onChange,isOnAll:e===Ea.all,isOnTouch:e===Ea.onTouched});const ZC="AsyncFunction";var TQ=e=>!!e&&!!e.validate&&!!(ka(e.validate)&&e.validate.constructor.name===ZC||$r(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ZC)),AQ=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),QC=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const vv=(e,t,n,r)=>{for(const s of n||Object.keys(e)){const i=pt(e,s);if(i){const{_f:c,...u}=i;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],s)&&!r)return!0;if(c.ref&&t(c.ref,c.name)&&!r)return!0;if(vv(u,t))break}else if($r(u)&&vv(u,t))break}}};function XC(e,t,n){const r=pt(e,n);if(r||SE(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),c=pt(t,i),u=pt(e,i);if(c&&!Array.isArray(c)&&n!==i)return{name:n};if(u&&u.type)return{name:i,error:u};s.pop()}return{name:n}}var RQ=(e,t,n,r)=>{n(e);const{name:s,...i}=e;return uo(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(c=>t[c]===(!r||Ea.all))},PQ=(e,t,n)=>!e||!t||e===t||gv(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),OQ=(e,t,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(t||e):(n?r.isOnBlur:s.isOnBlur)?!e:(n?r.isOnChange:s.isOnChange)?e:!0,DQ=(e,t)=>!Ow(pt(e,t)).length&&ns(e,t),MQ=(e,t,n)=>{const r=gv(pt(e,n));return Bn(r,"root",t[n]),Bn(e,n,r),e},$0=e=>Rl(e);function JC(e,t,n="validate"){if($0(e)||Array.isArray(e)&&e.every($0)||hi(e)&&!e)return{type:n,message:$0(e)?e:"",ref:t}}var Ip=e=>$r(e)&&!Nx(e)?e:{value:e,message:""},eN=async(e,t,n,r,s,i)=>{const{ref:c,refs:u,required:p,maxLength:m,minLength:y,min:g,max:S,pattern:k,validate:T,name:E,valueAsNumber:N,mount:O}=e._f,D=pt(n,E);if(!O||t.has(E))return{};const M=u?u[0]:c,z=Se=>{s&&M.reportValidity&&(M.setCustomValidity(hi(Se)?"":Se||""),M.reportValidity())},q={},Y=kE(c),Z=xy(c),ae=Y||Z,te=(N||EE(c))&&Ir(c.value)&&Ir(D)||kx(c)&&c.value===""||D===""||Array.isArray(D)&&!D.length,ye=JD.bind(null,E,r,q),Te=(Se,_e,Le,ge=Rc.maxLength,me=Rc.minLength)=>{const de=Se?_e:Le;q[E]={type:Se?ge:me,message:de,ref:c,...ye(Se?ge:me,de)}};if(i?!Array.isArray(D)||!D.length:p&&(!ae&&(te||po(D))||hi(D)&&!D||Z&&!rM(u).isValid||Y&&!oM(u).isValid)){const{value:Se,message:_e}=$0(p)?{value:!!p,message:p}:Ip(p);if(Se&&(q[E]={type:Rc.required,message:_e,ref:M,...ye(Rc.required,_e)},!r))return z(_e),q}if(!te&&(!po(g)||!po(S))){let Se,_e;const Le=Ip(S),ge=Ip(g);if(!po(D)&&!isNaN(D)){const me=c.valueAsNumber||D&&+D;po(Le.value)||(Se=me>Le.value),po(ge.value)||(_e=me<ge.value)}else{const me=c.valueAsDate||new Date(D),de=xe=>new Date(new Date().toDateString()+" "+xe),Q=c.type=="time",J=c.type=="week";Rl(Le.value)&&D&&(Se=Q?de(D)>de(Le.value):J?D>Le.value:me>new Date(Le.value)),Rl(ge.value)&&D&&(_e=Q?de(D)<de(ge.value):J?D<ge.value:me<new Date(ge.value))}if((Se||_e)&&(Te(!!Se,Le.message,ge.message,Rc.max,Rc.min),!r))return z(q[E].message),q}if((m||y)&&!te&&(Rl(D)||i&&Array.isArray(D))){const Se=Ip(m),_e=Ip(y),Le=!po(Se.value)&&D.length>+Se.value,ge=!po(_e.value)&&D.length<+_e.value;if((Le||ge)&&(Te(Le,Se.message,_e.message),!r))return z(q[E].message),q}if(k&&!te&&Rl(D)){const{value:Se,message:_e}=Ip(k);if(Nx(Se)&&!D.match(Se)&&(q[E]={type:Rc.pattern,message:_e,ref:c,...ye(Rc.pattern,_e)},!r))return z(_e),q}if(T){if(ka(T)){const Se=await T(D,n),_e=JC(Se,M);if(_e&&(q[E]={..._e,...ye(Rc.validate,_e.message)},!r))return z(_e.message),q}else if($r(T)){let Se={};for(const _e in T){if(!uo(Se)&&!r)break;const Le=JC(await T[_e](D,n),M,_e);Le&&(Se={...Le,...ye(_e,Le.message)},z(Le.message),r&&(q[E]=Se))}if(!uo(Se)&&(q[E]={ref:M,...Se},!r))return q}}return z(!0),q};const IQ={mode:Ea.onSubmit,reValidateMode:Ea.onChange,shouldFocusError:!0};function LQ(e={}){let t={...IQ,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ka(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let s=$r(t.defaultValues)||$r(t.values)?Ts(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:Ts(s),c={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,m=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...y};const S={array:VC(),state:VC()},k=GC(t.mode),T=GC(t.reValidateMode),E=t.criteriaMode===Ea.all,N=ie=>ve=>{clearTimeout(m),m=setTimeout(ie,ve)},O=async ie=>{if(!t.disabled&&(y.isValid||g.isValid||ie)){const ve=t.resolver?uo((await te()).errors):await Te(r,!0);ve!==n.isValid&&S.state.next({isValid:ve})}},D=(ie,ve)=>{!t.disabled&&(y.isValidating||y.validatingFields||g.isValidating||g.validatingFields)&&((ie||Array.from(u.mount)).forEach(Ie=>{Ie&&(ve?Bn(n.validatingFields,Ie,ve):ns(n.validatingFields,Ie))}),S.state.next({validatingFields:n.validatingFields,isValidating:!uo(n.validatingFields)}))},M=(ie,ve=[],Ie,Je,He=!0,Ue=!0)=>{if(Je&&Ie&&!t.disabled){if(c.action=!0,Ue&&Array.isArray(pt(r,ie))){const ct=Ie(pt(r,ie),Je.argA,Je.argB);He&&Bn(r,ie,ct)}if(Ue&&Array.isArray(pt(n.errors,ie))){const ct=Ie(pt(n.errors,ie),Je.argA,Je.argB);He&&Bn(n.errors,ie,ct),DQ(n.errors,ie)}if((y.touchedFields||g.touchedFields)&&Ue&&Array.isArray(pt(n.touchedFields,ie))){const ct=Ie(pt(n.touchedFields,ie),Je.argA,Je.argB);He&&Bn(n.touchedFields,ie,ct)}(y.dirtyFields||g.dirtyFields)&&(n.dirtyFields=ov(s,i)),S.state.next({name:ie,isDirty:_e(ie,ve),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Bn(i,ie,ve)},z=(ie,ve)=>{Bn(n.errors,ie,ve),S.state.next({errors:n.errors})},q=ie=>{n.errors=ie,S.state.next({errors:n.errors,isValid:!1})},Y=(ie,ve,Ie,Je)=>{const He=pt(r,ie);if(He){const Ue=pt(i,ie,Ir(Ie)?pt(s,ie):Ie);Ir(Ue)||Je&&Je.defaultChecked||ve?Bn(i,ie,ve?Ue:YC(He._f)):me(ie,Ue),c.mount&&O()}},Z=(ie,ve,Ie,Je,He)=>{let Ue=!1,ct=!1;const Nt={name:ie};if(!t.disabled){if(!Ie||Je){(y.isDirty||g.isDirty)&&(ct=n.isDirty,n.isDirty=Nt.isDirty=_e(),Ue=ct!==Nt.isDirty);const rn=Bc(pt(s,ie),ve);ct=!!pt(n.dirtyFields,ie),rn?ns(n.dirtyFields,ie):Bn(n.dirtyFields,ie,!0),Nt.dirtyFields=n.dirtyFields,Ue=Ue||(y.dirtyFields||g.dirtyFields)&&ct!==!rn}if(Ie){const rn=pt(n.touchedFields,ie);rn||(Bn(n.touchedFields,ie,Ie),Nt.touchedFields=n.touchedFields,Ue=Ue||(y.touchedFields||g.touchedFields)&&rn!==Ie)}Ue&&He&&S.state.next(Nt)}return Ue?Nt:{}},ae=(ie,ve,Ie,Je)=>{const He=pt(n.errors,ie),Ue=(y.isValid||g.isValid)&&hi(ve)&&n.isValid!==ve;if(t.delayError&&Ie?(p=N(()=>z(ie,Ie)),p(t.delayError)):(clearTimeout(m),p=null,Ie?Bn(n.errors,ie,Ie):ns(n.errors,ie)),(Ie?!Bc(He,Ie):He)||!uo(Je)||Ue){const ct={...Je,...Ue&&hi(ve)?{isValid:ve}:{},errors:n.errors,name:ie};n={...n,...ct},S.state.next(ct)}},te=async ie=>{D(ie,!0);const ve=await t.resolver(i,t.context,jQ(ie||u.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return D(ie),ve},ye=async ie=>{const{errors:ve}=await te(ie);if(ie)for(const Ie of ie){const Je=pt(ve,Ie);Je?Bn(n.errors,Ie,Je):ns(n.errors,Ie)}else n.errors=ve;return ve},Te=async(ie,ve,Ie={valid:!0})=>{for(const Je in ie){const He=ie[Je];if(He){const{_f:Ue,...ct}=He;if(Ue){const Nt=u.array.has(Ue.name),rn=He._f&&TQ(He._f);rn&&y.validatingFields&&D([Je],!0);const fn=await eN(He,u.disabled,i,E,t.shouldUseNativeValidation&&!ve,Nt);if(rn&&y.validatingFields&&D([Je]),fn[Ue.name]&&(Ie.valid=!1,ve))break;!ve&&(pt(fn,Ue.name)?Nt?MQ(n.errors,fn,Ue.name):Bn(n.errors,Ue.name,fn[Ue.name]):ns(n.errors,Ue.name))}!uo(ct)&&await Te(ct,ve,Ie)}}return Ie.valid},Se=()=>{for(const ie of u.unMount){const ve=pt(r,ie);ve&&(ve._f.refs?ve._f.refs.every(Ie=>!d1(Ie)):!d1(ve._f.ref))&&Oe(ie)}u.unMount=new Set},_e=(ie,ve)=>!t.disabled&&(ie&&ve&&Bn(i,ie,ve),!Bc(X(),s)),Le=(ie,ve,Ie)=>XD(ie,u,{...c.mount?i:Ir(ve)?s:Rl(ie)?{[ie]:ve}:ve},Ie,ve),ge=ie=>Ow(pt(c.mount?i:s,ie,t.shouldUnregister?pt(s,ie,[]):[])),me=(ie,ve,Ie={})=>{const Je=pt(r,ie);let He=ve;if(Je){const Ue=Je._f;Ue&&(!Ue.disabled&&Bn(i,ie,sM(ve,Ue)),He=kx(Ue.ref)&&po(ve)?"":ve,eM(Ue.ref)?[...Ue.ref.options].forEach(ct=>ct.selected=He.includes(ct.value)):Ue.refs?xy(Ue.ref)?Ue.refs.length>1?Ue.refs.forEach(ct=>(!ct.defaultChecked||!ct.disabled)&&(ct.checked=Array.isArray(He)?!!He.find(Nt=>Nt===ct.value):He===ct.value)):Ue.refs[0]&&(Ue.refs[0].checked=!!He):Ue.refs.forEach(ct=>ct.checked=ct.value===He):EE(Ue.ref)?Ue.ref.value="":(Ue.ref.value=He,Ue.ref.type||S.state.next({name:ie,values:Ts(i)})))}(Ie.shouldDirty||Ie.shouldTouch)&&Z(ie,He,Ie.shouldTouch,Ie.shouldDirty,!0),Ie.shouldValidate&&K(ie)},de=(ie,ve,Ie)=>{for(const Je in ve){const He=ve[Je],Ue=`${ie}.${Je}`,ct=pt(r,Ue);(u.array.has(ie)||$r(He)||ct&&!ct._f)&&!Bf(He)?de(Ue,He,Ie):me(Ue,He,Ie)}},Q=(ie,ve,Ie={})=>{const Je=pt(r,ie),He=u.array.has(ie),Ue=Ts(ve);Bn(i,ie,Ue),He?(S.array.next({name:ie,values:Ts(i)}),(y.isDirty||y.dirtyFields||g.isDirty||g.dirtyFields)&&Ie.shouldDirty&&S.state.next({name:ie,dirtyFields:ov(s,i),isDirty:_e(ie,Ue)})):Je&&!Je._f&&!po(Ue)?de(ie,Ue,Ie):me(ie,Ue,Ie),QC(ie,u)&&S.state.next({...n}),S.state.next({name:c.mount?ie:void 0,values:Ts(i)})},J=async ie=>{c.mount=!0;const ve=ie.target;let Ie=ve.name,Je=!0;const He=pt(r,Ie),Ue=ct=>{Je=Number.isNaN(ct)||Bf(ct)&&isNaN(ct.getTime())||Bc(ct,pt(i,Ie,ct))};if(He){let ct,Nt;const rn=ve.type?YC(He._f):qD(ie),fn=ie.type===Ex.BLUR||ie.type===Ex.FOCUS_OUT,mr=!AQ(He._f)&&!t.resolver&&!pt(n.errors,Ie)&&!He._f.deps||OQ(fn,pt(n.touchedFields,Ie),n.isSubmitted,T,k),Qn=QC(Ie,u,fn);Bn(i,Ie,rn),fn?(He._f.onBlur&&He._f.onBlur(ie),p&&p(0)):He._f.onChange&&He._f.onChange(ie);const sr=Z(Ie,rn,fn),Tr=!uo(sr)||Qn;if(!fn&&S.state.next({name:Ie,type:ie.type,values:Ts(i)}),mr)return(y.isValid||g.isValid)&&(t.mode==="onBlur"?fn&&O():fn||O()),Tr&&S.state.next({name:Ie,...Qn?{}:sr});if(!fn&&Qn&&S.state.next({...n}),t.resolver){const{errors:ht}=await te([Ie]);if(Ue(rn),Je){const ws=XC(n.errors,r,Ie),os=XC(ht,r,ws.name||Ie);ct=os.error,Ie=os.name,Nt=uo(ht)}}else D([Ie],!0),ct=(await eN(He,u.disabled,i,E,t.shouldUseNativeValidation))[Ie],D([Ie]),Ue(rn),Je&&(ct?Nt=!1:(y.isValid||g.isValid)&&(Nt=await Te(r,!0)));Je&&(He._f.deps&&K(He._f.deps),ae(Ie,Nt,ct,sr))}},xe=(ie,ve)=>{if(pt(n.errors,ve)&&ie.focus)return ie.focus(),1},K=async(ie,ve={})=>{let Ie,Je;const He=gv(ie);if(t.resolver){const Ue=await ye(Ir(ie)?ie:He);Ie=uo(Ue),Je=ie?!He.some(ct=>pt(Ue,ct)):Ie}else ie?(Je=(await Promise.all(He.map(async Ue=>{const ct=pt(r,Ue);return await Te(ct&&ct._f?{[Ue]:ct}:ct)}))).every(Boolean),!(!Je&&!n.isValid)&&O()):Je=Ie=await Te(r);return S.state.next({...!Rl(ie)||(y.isValid||g.isValid)&&Ie!==n.isValid?{}:{name:ie},...t.resolver||!ie?{isValid:Ie}:{},errors:n.errors}),ve.shouldFocus&&!Je&&vv(r,xe,ie?He:u.mount),Je},X=ie=>{const ve={...c.mount?i:s};return Ir(ie)?ve:Rl(ie)?pt(ve,ie):ie.map(Ie=>pt(ve,Ie))},Pe=(ie,ve)=>({invalid:!!pt((ve||n).errors,ie),isDirty:!!pt((ve||n).dirtyFields,ie),error:pt((ve||n).errors,ie),isValidating:!!pt(n.validatingFields,ie),isTouched:!!pt((ve||n).touchedFields,ie)}),Be=ie=>{ie&&gv(ie).forEach(ve=>ns(n.errors,ve)),S.state.next({errors:ie?n.errors:{}})},Fe=(ie,ve,Ie)=>{const Je=(pt(r,ie,{_f:{}})._f||{}).ref,He=pt(n.errors,ie)||{},{ref:Ue,message:ct,type:Nt,...rn}=He;Bn(n.errors,ie,{...rn,...ve,ref:Je}),S.state.next({name:ie,errors:n.errors,isValid:!1}),Ie&&Ie.shouldFocus&&Je&&Je.focus&&Je.focus()},Ze=(ie,ve)=>ka(ie)?S.state.subscribe({next:Ie=>ie(Le(void 0,ve),Ie)}):Le(ie,ve,!0),Me=ie=>S.state.subscribe({next:ve=>{PQ(ie.name,ve.name,ie.exact)&&RQ(ve,ie.formState||y,Ft,ie.reRenderRoot)&&ie.callback({values:{...i},...n,...ve})}}).unsubscribe,at=ie=>(c.mount=!0,g={...g,...ie.formState},Me({...ie,formState:g})),Oe=(ie,ve={})=>{for(const Ie of ie?gv(ie):u.mount)u.mount.delete(Ie),u.array.delete(Ie),ve.keepValue||(ns(r,Ie),ns(i,Ie)),!ve.keepError&&ns(n.errors,Ie),!ve.keepDirty&&ns(n.dirtyFields,Ie),!ve.keepTouched&&ns(n.touchedFields,Ie),!ve.keepIsValidating&&ns(n.validatingFields,Ie),!t.shouldUnregister&&!ve.keepDefaultValue&&ns(s,Ie);S.state.next({values:Ts(i)}),S.state.next({...n,...ve.keepDirty?{isDirty:_e()}:{}}),!ve.keepIsValid&&O()},wt=({disabled:ie,name:ve})=>{(hi(ie)&&c.mount||ie||u.disabled.has(ve))&&(ie?u.disabled.add(ve):u.disabled.delete(ve))},At=(ie,ve={})=>{let Ie=pt(r,ie);const Je=hi(ve.disabled)||hi(t.disabled);return Bn(r,ie,{...Ie||{},_f:{...Ie&&Ie._f?Ie._f:{ref:{name:ie}},name:ie,mount:!0,...ve}}),u.mount.add(ie),Ie?wt({disabled:hi(ve.disabled)?ve.disabled:t.disabled,name:ie}):Y(ie,!0,ve.value),{...Je?{disabled:ve.disabled||t.disabled}:{},...t.progressive?{required:!!ve.required,min:iv(ve.min),max:iv(ve.max),minLength:iv(ve.minLength),maxLength:iv(ve.maxLength),pattern:iv(ve.pattern)}:{},name:ie,onChange:J,onBlur:J,ref:He=>{if(He){At(ie,ve),Ie=pt(r,ie);const Ue=Ir(He.value)&&He.querySelectorAll&&He.querySelectorAll("input,select,textarea")[0]||He,ct=kQ(Ue),Nt=Ie._f.refs||[];if(ct?Nt.find(rn=>rn===Ue):Ue===Ie._f.ref)return;Bn(r,ie,{_f:{...Ie._f,...ct?{refs:[...Nt.filter(d1),Ue,...Array.isArray(pt(s,ie))?[{}]:[]],ref:{type:Ue.type,name:ie}}:{ref:Ue}}}),Y(ie,!1,void 0,Ue)}else Ie=pt(r,ie,{}),Ie._f&&(Ie._f.mount=!1),(t.shouldUnregister||ve.shouldUnregister)&&!(KD(u.array,ie)&&c.action)&&u.unMount.add(ie)}}},ut=()=>t.shouldFocusError&&vv(r,xe,u.mount),Gt=ie=>{hi(ie)&&(S.state.next({disabled:ie}),vv(r,(ve,Ie)=>{const Je=pt(r,Ie);Je&&(ve.disabled=Je._f.disabled||ie,Array.isArray(Je._f.refs)&&Je._f.refs.forEach(He=>{He.disabled=Je._f.disabled||ie}))},0,!1))},nn=(ie,ve)=>async Ie=>{let Je;Ie&&(Ie.preventDefault&&Ie.preventDefault(),Ie.persist&&Ie.persist());let He=Ts(i);if(S.state.next({isSubmitting:!0}),t.resolver){const{errors:Ue,values:ct}=await te();n.errors=Ue,He=ct}else await Te(r);if(u.disabled.size)for(const Ue of u.disabled)Bn(He,Ue,void 0);if(ns(n.errors,"root"),uo(n.errors)){S.state.next({errors:{}});try{await ie(He,Ie)}catch(Ue){Je=Ue}}else ve&&await ve({...n.errors},Ie),ut(),setTimeout(ut);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:uo(n.errors)&&!Je,submitCount:n.submitCount+1,errors:n.errors}),Je)throw Je},On=(ie,ve={})=>{pt(r,ie)&&(Ir(ve.defaultValue)?Q(ie,Ts(pt(s,ie))):(Q(ie,ve.defaultValue),Bn(s,ie,Ts(ve.defaultValue))),ve.keepTouched||ns(n.touchedFields,ie),ve.keepDirty||(ns(n.dirtyFields,ie),n.isDirty=ve.defaultValue?_e(ie,Ts(pt(s,ie))):_e()),ve.keepError||(ns(n.errors,ie),y.isValid&&O()),S.state.next({...n}))},cr=(ie,ve={})=>{const Ie=ie?Ts(ie):s,Je=Ts(Ie),He=uo(ie),Ue=He?s:Je;if(ve.keepDefaultValues||(s=Ie),!ve.keepValues){if(ve.keepDirtyValues){const ct=new Set([...u.mount,...Object.keys(ov(s,i))]);for(const Nt of Array.from(ct))pt(n.dirtyFields,Nt)?Bn(Ue,Nt,pt(i,Nt)):Q(Nt,pt(Ue,Nt))}else{if(_E&&Ir(ie))for(const ct of u.mount){const Nt=pt(r,ct);if(Nt&&Nt._f){const rn=Array.isArray(Nt._f.refs)?Nt._f.refs[0]:Nt._f.ref;if(kx(rn)){const fn=rn.closest("form");if(fn){fn.reset();break}}}}for(const ct of u.mount)Q(ct,pt(Ue,ct))}i=Ts(Ue),S.array.next({values:{...Ue}}),S.state.next({values:{...Ue}})}u={mount:ve.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!y.isValid||!!ve.keepIsValid||!!ve.keepDirtyValues,c.watch=!!t.shouldUnregister,S.state.next({submitCount:ve.keepSubmitCount?n.submitCount:0,isDirty:He?!1:ve.keepDirty?n.isDirty:!!(ve.keepDefaultValues&&!Bc(ie,s)),isSubmitted:ve.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:He?{}:ve.keepDirtyValues?ve.keepDefaultValues&&i?ov(s,i):n.dirtyFields:ve.keepDefaultValues&&ie?ov(s,ie):ve.keepDirty?n.dirtyFields:{},touchedFields:ve.keepTouched?n.touchedFields:{},errors:ve.keepErrors?n.errors:{},isSubmitSuccessful:ve.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},zn=(ie,ve)=>cr(ka(ie)?ie(i):ie,ve),Xe=(ie,ve={})=>{const Ie=pt(r,ie),Je=Ie&&Ie._f;if(Je){const He=Je.refs?Je.refs[0]:Je.ref;He.focus&&(He.focus(),ve.shouldSelect&&ka(He.select)&&He.select())}},Ft=ie=>{n={...n,...ie}},Vt={control:{register:At,unregister:Oe,getFieldState:Pe,handleSubmit:nn,setError:Fe,_subscribe:Me,_runSchema:te,_getWatch:Le,_getDirty:_e,_setValid:O,_setFieldArray:M,_setDisabledField:wt,_setErrors:q,_getFieldArray:ge,_reset:cr,_resetDefaultValues:()=>ka(t.defaultValues)&&t.defaultValues().then(ie=>{zn(ie,t.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:Se,_disableForm:Gt,_subjects:S,_proxyFormState:y,get _fields(){return r},get _formValues(){return i},get _state(){return c},set _state(ie){c=ie},get _defaultValues(){return s},get _names(){return u},set _names(ie){u=ie},get _formState(){return n},get _options(){return t},set _options(ie){t={...t,...ie}}},subscribe:at,trigger:K,register:At,handleSubmit:nn,watch:Ze,setValue:Q,getValues:X,reset:zn,resetField:On,clearErrors:Be,unregister:Oe,setError:Fe,setFocus:Xe,getFieldState:Pe};return{...Vt,formControl:Vt}}const FQ=typeof window<"u"?Ve.useLayoutEffect:Ve.useEffect;function $Q(e={}){const t=Ve.useRef(void 0),n=Ve.useRef(void 0),[r,s]=Ve.useState({isDirty:!1,isValidating:!1,isLoading:ka(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ka(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:LQ(e),formState:r},e.formControl&&e.defaultValues&&!ka(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,FQ(()=>{const c=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(u=>({...u,isReady:!0})),i._formState.isReady=!0,c},[i]),Ve.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Ve.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode),e.errors&&!uo(e.errors)&&i._setErrors(e.errors)},[i,e.errors,e.mode,e.reValidateMode]),Ve.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),Ve.useEffect(()=>{if(i._proxyFormState.isDirty){const c=i._getDirty();c!==r.isDirty&&i._subjects.state.next({isDirty:c})}},[i,r.isDirty]),Ve.useEffect(()=>{e.values&&!Bc(e.values,n.current)?(i._reset(e.values,i._options.resetOptions),n.current=e.values,s(c=>({...c}))):i._resetDefaultValues()},[i,e.values]),Ve.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=ZD(r,i),t.current}const tN=(e,t,n)=>{if(e&&"reportValidity"in e){const r=pt(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},iM=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?tN(r.ref,n,e):r.refs&&r.refs.forEach(s=>tN(s,n,e))}},BQ=(e,t)=>{t.shouldUseNativeValidation&&iM(e,t);const n={};for(const r in e){const s=pt(t.fields,r),i=Object.assign(e[r]||{},{ref:s&&s.ref});if(UQ(t.names||Object.keys(e),r)){const c=Object.assign({},pt(n,r));Bn(c,"root",i),Bn(n,r,c)}else Bn(n,r,i)}return n},UQ=(e,t)=>e.some(n=>n.startsWith(t+"."));var zQ=function(e,t){for(var n={};e.length;){var r=e[0],s=r.code,i=r.message,c=r.path.join(".");if(!n[c])if("unionErrors"in r){var u=r.unionErrors[0].errors[0];n[c]={message:u.message,type:u.code}}else n[c]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(y){return y.errors.forEach(function(g){return e.push(g)})}),t){var p=n[c].types,m=p&&p[r.code];n[c]=JD(c,t,n,s,m?[].concat(m,r.message):r.message)}e.shift()}return n},WQ=function(e,t,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(c,u){try{var p=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(m){return i.shouldUseNativeValidation&&iM({},i),{errors:{},values:n.raw?r:m}})}catch(m){return u(m)}return p&&p.then?p.then(void 0,u):p}(0,function(c){if(function(u){return Array.isArray(u==null?void 0:u.errors)}(c))return{values:{},errors:BQ(zQ(c.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw c}))}catch(c){return Promise.reject(c)}}};function VQ(){const{nostr:e}=Os(),{user:t}=lr();return xs({queryKey:["userRelays",t==null?void 0:t.pubkey],queryFn:async({signal:n})=>{if(!(t!=null&&t.pubkey))return[];const r=await e.query([{kinds:[10002],authors:[t.pubkey],limit:1}],{signal:AbortSignal.any([n,AbortSignal.timeout(3e3)])});if(!r.length)return[];const s=r.sort((c,u)=>u.created_at-c.created_at)[0],i=[];try{if(s.content){const c=JSON.parse(s.content);for(const[u,p]of Object.entries(c))p.write!==!1&&i.push(u)}for(const c of s.tags)if(c[0]==="r"&&c[1]){const u=c[1],p=c[2];(!p||p==="write")&&(i.includes(u)||i.push(u))}}catch(c){console.warn("Failed to parse relay list:",c)}return i},enabled:!!(t!=null&&t.pubkey),staleTime:5*60*1e3,retry:1})}const nN=["wss://relay.damus.io","wss://relay.primal.net","wss://nos.lol","wss://relay.nostr.band","wss://ditto.pub/relay"];function HQ(){const{user:e}=lr(),{data:t=[]}=VQ();return A_({mutationFn:async n=>{if(!e)throw new Error("User is not logged in");const r=n.tags??[];r.some(m=>m[0]==="client")||r.push(["client","Plektos"]);const s=await e.signer.signEvent({kind:n.kind,content:n.content??"",tags:r,created_at:n.created_at??Math.floor(Date.now()/1e3)}),i=[...new Set([...t,...nN])];console.log(`Publishing event to ${i.length} relays:`,{eventId:s.id,kind:s.kind,userRelays:t.length,bootstrapRelays:nN.length,totalRelays:i.length,relays:i});const c=await Promise.allSettled(i.map(async m=>{const y=new Hj(m);try{return await y.event(s,{signal:AbortSignal.timeout(8e3)}),y.close(),{relay:m,status:"success"}}catch(g){return y.close(),{relay:m,status:"failed",error:g instanceof Error?g.message:String(g)}}})),u=c.filter(m=>m.status==="fulfilled"&&m.value.status==="success"),p=c.filter(m=>m.status==="rejected"||m.status==="fulfilled"&&m.value.status==="failed");if(console.log("Event publishing completed:",{eventId:s.id,successful:u.length,failed:p.length,total:i.length,successfulRelays:u.map(m=>m.status==="fulfilled"?m.value.relay:null).filter(Boolean)}),p.length>0&&console.debug("Some relays failed to publish:",p.map(m=>m.status==="rejected"?m.reason:m.status==="fulfilled"?`${m.value.relay}: ${m.value.error}`:m)),u.length===0)throw new Error(`Failed to publish to any relays. Attempted ${i.length} relays.`);return s},onError:n=>{console.error("Failed to publish event:",n)},onSuccess:n=>{console.log("Event published successfully:",n)}})}const aM=_.createContext({}),lM=_.createContext({}),Mw=()=>{const e=_.useContext(aM),t=_.useContext(lM),{getFieldState:n,formState:r}=Dw(),s=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},qQ=wQ,Nf=({...e})=>d.jsx(aM.Provider,{value:{name:e.name},children:d.jsx(EQ,{...e})}),Of=_.forwardRef(({className:e,...t},n)=>{const r=_.useId();return d.jsx(lM.Provider,{value:{id:r},children:d.jsx("div",{ref:n,className:ze("space-y-2",e),...t})})});Of.displayName="FormItem";const Df=_.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:s}=Mw();return d.jsx(Ln,{ref:n,className:ze(r&&"text-destructive",e),htmlFor:s,...t})});Df.displayName="FormLabel";const Mf=_.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=Mw();return d.jsx(fh,{ref:t,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...e})});Mf.displayName="FormControl";const If=_.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=Mw();return d.jsx("p",{ref:n,id:r,className:ze("text-sm text-muted-foreground",e),...t})});If.displayName="FormDescription";const Lf=_.forwardRef(({className:e,children:t,...n},r)=>{const{error:s,formMessageId:i}=Mw(),c=s?String(s==null?void 0:s.message):t;return c?d.jsx("p",{ref:r,id:i,className:ze("text-sm font-medium text-destructive",e),...n,children:c}):null});Lf.displayName="FormMessage";function KQ(){const{user:e}=lr();return A_({mutationFn:async t=>{if(!e)throw new Error("Must be logged in to upload files");return await new Pw({servers:["https://blossom.primal.net/"],signer:e.signer}).upload(t)}})}const YQ=()=>{const e=uh(),{user:t,metadata:n}=lr(),{mutateAsync:r,isPending:s}=HQ(),{mutateAsync:i,isPending:c}=KQ(),{toast:u}=Kz(),p=$Q({resolver:WQ(Pn.metadata()),defaultValues:{name:"",about:"",picture:"",banner:"",website:"",nip05:"",lud16:""}});_.useEffect(()=>{n&&p.reset({name:n.name||"",about:n.about||"",picture:n.picture||"",banner:n.banner||"",website:n.website||"",nip05:n.nip05||"",lud16:n.lud16||""})},[n,p]);const m=async(g,S)=>{try{const[[k,T]]=await i(g);p.setValue(S,T),u({title:"Success",description:`${S==="picture"?"Profile picture":"Banner"} uploaded successfully`})}catch(k){console.error(`Failed to upload ${S}:`,k),u({title:"Error",description:`Failed to upload ${S==="picture"?"profile picture":"banner"}. Please try again.`,variant:"destructive"})}},y=async g=>{if(!t){u({title:"Error",description:"You must be logged in to update your profile",variant:"destructive"});return}try{const S={...n,...g};for(const k in S)S[k]===""&&delete S[k];await r({kind:0,content:JSON.stringify(S)}),e.invalidateQueries({queryKey:["logins"]}),e.invalidateQueries({queryKey:["author",t.pubkey]}),e.invalidateQueries({queryKey:["userRelays",t.pubkey]}),u({title:"Success",description:"Your profile has been updated and broadcasted to your home relays"})}catch(S){console.error("Failed to update profile:",S),u({title:"Error",description:"Failed to update your profile. Please try again.",variant:"destructive"})}};return d.jsx(qQ,{...p,children:d.jsxs("form",{onSubmit:p.handleSubmit(y),className:"space-y-6",children:[d.jsx(Nf,{control:p.control,name:"name",render:({field:g})=>d.jsxs(Of,{children:[d.jsx(Df,{children:"Name"}),d.jsx(Mf,{children:d.jsx(Rs,{placeholder:"Your name",...g})}),d.jsx(If,{children:"This is your display name that will be displayed to others."}),d.jsx(Lf,{})]})}),d.jsx(Nf,{control:p.control,name:"about",render:({field:g})=>d.jsxs(Of,{children:[d.jsx(Df,{children:"Bio"}),d.jsx(Mf,{children:d.jsx(zl,{placeholder:"Tell others about yourself",className:"resize-none",...g})}),d.jsx(If,{children:"A short description about yourself."}),d.jsx(Lf,{})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(Nf,{control:p.control,name:"picture",render:({field:g})=>d.jsx(rN,{field:g,label:"Profile Picture",placeholder:"https://example.com/profile.jpg",description:"URL to your profile picture. You can upload an image or provide a URL.",previewType:"square",onUpload:S=>m(S,"picture")})}),d.jsx(Nf,{control:p.control,name:"banner",render:({field:g})=>d.jsx(rN,{field:g,label:"Banner Image",placeholder:"https://example.com/banner.jpg",description:"URL to a wide banner image for your profile. You can upload an image or provide a URL.",previewType:"wide",onUpload:S=>m(S,"banner")})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(Nf,{control:p.control,name:"website",render:({field:g})=>d.jsxs(Of,{children:[d.jsx(Df,{children:"Website"}),d.jsx(Mf,{children:d.jsx(Rs,{placeholder:"https://yourwebsite.com",...g})}),d.jsx(If,{children:"Your personal website or social media link."}),d.jsx(Lf,{})]})}),d.jsx(Nf,{control:p.control,name:"nip05",render:({field:g})=>d.jsxs(Of,{children:[d.jsx(Df,{children:"Nostr Address"}),d.jsx(Mf,{children:d.jsx(Rs,{placeholder:"you@example.com",...g})}),d.jsx(If,{children:"Your verified NIP-05 identifier."}),d.jsx(Lf,{})]})})]}),d.jsx(Nf,{control:p.control,name:"lud16",render:({field:g})=>d.jsxs(Of,{children:[d.jsx(Df,{children:"Lightning Address"}),d.jsx(Mf,{children:d.jsx(Rs,{placeholder:"you@example.com",...g})}),d.jsx(If,{children:"Your Lightning address for receiving payments."}),d.jsx(Lf,{})]})}),d.jsxs(Pt,{type:"submit",className:"w-full md:w-auto",disabled:s||c,children:[(s||c)&&d.jsx(qp,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Profile"]})]})})},rN=({field:e,label:t,placeholder:n,description:r,previewType:s,onUpload:i})=>{const c=_.useRef(null);return d.jsxs(Of,{children:[d.jsx(Df,{children:t}),d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx(Mf,{children:d.jsx(Rs,{placeholder:n,name:e.name,value:e.value??"",onChange:u=>e.onChange(u.target.value),onBlur:e.onBlur})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"file",ref:c,accept:"image/*",className:"hidden",onChange:u=>{var m;const p=(m=u.target.files)==null?void 0:m[0];p&&i(p)}}),d.jsxs(Pt,{type:"button",variant:"outline",size:"sm",onClick:()=>{var u;return(u=c.current)==null?void 0:u.click()},children:[d.jsx(Qj,{className:"h-4 w-4 mr-2"}),"Upload Image"]}),e.value&&d.jsx("div",{className:`h-10 ${s==="square"?"w-10":"w-24"} rounded overflow-hidden`,children:d.jsx("img",{src:e.value,alt:`${t} preview`,className:"h-full w-full object-cover"})})]})]}),d.jsx(If,{children:r}),d.jsx(Lf,{})]})};function GQ(){var Z;const{npub:e}=WN(),{nostr:t}=Os(),{user:n}=lr(),[r,s]=_.useState(void 0);_.useEffect(()=>{try{if(e){const ae=Ps.decode(e);ae.type==="npub"&&s(ae.data)}}catch(ae){console.error("Error decoding npub:",ae)}},[e]);const i=Jc(r),{data:c=[],isLoading:u,error:p}=xs({queryKey:["createdEvents",r],queryFn:async({signal:ae})=>r?await t.query([{kinds:[31922,31923],authors:[r]}],{signal:AbortSignal.any([ae,AbortSignal.timeout(3e3)])}):[],enabled:!!r,retry:1,staleTime:3e4}),{data:m=[],isLoading:y,error:g}=xs({queryKey:["rsvps",r],queryFn:async({signal:ae})=>r?await t.query([{kinds:[31925],authors:[r]}],{signal:AbortSignal.any([ae,AbortSignal.timeout(3e3)])}):[],enabled:!!r,retry:1,staleTime:3e4}),{data:S=[],isLoading:k,error:T}=xs({queryKey:["rsvpEvents",m],queryFn:async({signal:ae})=>{if(!m.length)return[];const te=m.map(Te=>{var Se;return(Se=Te.tags.find(_e=>_e[0]==="e"))==null?void 0:Se[1]}).filter(Te=>Te!==void 0);return te.length?await t.query([{kinds:[31922,31923],ids:te}],{signal:AbortSignal.any([ae,AbortSignal.timeout(3e3)])}):[]},enabled:!!m.length,retry:1,staleTime:3e4}),E=(Z=i.data)==null?void 0:Z.metadata,N=(E==null?void 0:E.name)||(E==null?void 0:E.display_name)||(r==null?void 0:r.slice(0,8))||"",O=E==null?void 0:E.picture,D=E==null?void 0:E.about,M=E==null?void 0:E.website,z=E==null?void 0:E.nip05,q=(E==null?void 0:E.lud16)||(E==null?void 0:E.lud06),Y=(n==null?void 0:n.pubkey)===r;return r?d.jsx("div",{className:"container px-0 sm:px-4 py-2 sm:py-6 space-y-3 sm:space-y-6",children:d.jsxs(qr,{className:"rounded-none sm:rounded-lg",children:[d.jsxs(gh,{className:"relative p-3 sm:p-6",children:[n&&!Y&&r&&d.jsx("div",{className:"absolute top-3 right-3 sm:top-6 sm:right-6 z-10",children:d.jsx(bE,{pubkey:r,authorName:N})}),n&&Y&&d.jsx("div",{className:"absolute top-3 right-3 sm:top-6 sm:right-6 z-10",children:d.jsxs(jd,{children:[d.jsx(nw,{asChild:!0,children:d.jsx(Pt,{variant:"outline",size:"sm",children:d.jsx(mU,{className:"h-4 w-4"})})}),d.jsxs(eu,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[d.jsxs(tu,{children:[d.jsx(nu,{children:"Edit Profile"}),d.jsx(hh,{children:"Update your profile information and broadcast changes to the Nostr network."})]}),d.jsx(YQ,{})]})]})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx(ja,{className:"h-16 w-16 sm:h-20 sm:w-20",children:i.isLoading?d.jsx("div",{className:"w-full h-full bg-muted animate-pulse rounded-full"}):d.jsxs(d.Fragment,{children:[d.jsx(Ta,{src:O,alt:N}),d.jsx(Aa,{className:"text-lg",children:N.slice(0,2).toUpperCase()||"?"})]})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx(Hm,{className:"text-xl sm:text-2xl pr-12 sm:pr-0",children:i.isLoading?d.jsx("div",{className:"h-6 w-32 bg-muted animate-pulse rounded"}):N||"Unknown User"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:i.isLoading?d.jsx("div",{className:"h-5 w-24 bg-muted animate-pulse rounded"}):d.jsxs(d.Fragment,{children:[z&&d.jsxs(Vi,{variant:"secondary",className:"font-mono text-xs",children:["✓ ",z]}),q&&n&&!Y?d.jsx(vQ,{lightningAddress:q,pubkey:r,displayName:N,eventKind:0}):q?d.jsxs(Vi,{variant:"outline",className:"font-mono text-xs",children:["⚡ ",q]}):null]})})]})]})]}),d.jsxs(Kr,{className:"p-3 sm:p-6 space-y-3 sm:space-y-6",children:[i.isLoading?d.jsxs("div",{className:"space-y-2",children:[d.jsx("div",{className:"h-4 w-16 bg-muted animate-pulse rounded"}),d.jsx("div",{className:"h-4 w-full bg-muted animate-pulse rounded"}),d.jsx("div",{className:"h-4 w-3/4 bg-muted animate-pulse rounded"})]}):D?d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-2",children:"About"}),d.jsx("p",{className:"text-muted-foreground",children:D})]}):null,!i.isLoading&&M&&d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-2",children:"Website"}),d.jsxs("a",{href:M.startsWith("http")?M:`https://${M}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[M,d.jsx(aU,{className:"h-3 w-3"})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Created Events"}),d.jsx("div",{className:"space-y-4",children:u?d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[d.jsx(qp,{className:"h-4 w-4 animate-spin"}),d.jsx("span",{children:"Loading events..."})]}):p?d.jsx("p",{className:"text-muted-foreground",children:"Unable to load created events"}):c.length===0?d.jsx("p",{className:"text-muted-foreground",children:"No events created yet"}):c.map(ae=>{var Te;const te=((Te=ae.tags.find(Se=>Se[0]==="title"))==null?void 0:Te[1])||"Untitled",ye=zv(ae);return d.jsx(qr,{className:"rounded-none sm:rounded-lg",children:d.jsx(Kr,{className:"p-3 sm:p-6",children:d.jsxs(Pl,{to:`/event/${ye}`,className:"block hover:opacity-80 transition-opacity",children:[d.jsx("h4",{className:"font-medium mb-2",children:te}),d.jsx("p",{className:"text-muted-foreground text-sm",children:ae.content})]})})},ae.id)})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold mb-4",children:"RSVP'd Events"}),d.jsx("div",{className:"space-y-4",children:y?d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[d.jsx(qp,{className:"h-4 w-4 animate-spin"}),d.jsx("span",{children:"Loading RSVPs..."})]}):g?d.jsx("p",{className:"text-muted-foreground",children:"Unable to load RSVPs"}):m.length===0?d.jsx("p",{className:"text-muted-foreground",children:"No RSVPs yet"}):k?d.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[d.jsx(qp,{className:"h-4 w-4 animate-spin"}),d.jsx("span",{children:"Loading RSVP event details..."})]}):T?d.jsx("p",{className:"text-muted-foreground",children:"Unable to load RSVP event details"}):m.map(ae=>{var ge,me,de,Q;const te=(ge=ae.tags.find(J=>J[0]==="e"))==null?void 0:ge[1],ye=(me=ae.tags.find(J=>J[0]==="status"))==null?void 0:me[1],Te=S.find(J=>J.id===te);if(!te||!Te)return null;const Se=((de=Te.tags.find(J=>J[0]==="title"))==null?void 0:de[1])||"Untitled",_e=(Q=Te.tags.find(J=>J[0]==="start"))==null?void 0:Q[1],Le=zv(Te);return d.jsx(qr,{className:"rounded-none sm:rounded-lg",children:d.jsxs(Kr,{className:"p-3 sm:p-6",children:[d.jsx("div",{className:"flex items-center justify-between mb-2",children:d.jsx(Vi,{variant:"outline",className:ye==="accepted"?"bg-green-500/10 text-green-500":ye==="tentative"?"bg-yellow-500/10 text-yellow-500":"bg-red-500/10 text-red-500",children:ye==="accepted"?"Going":ye==="tentative"?"Maybe":"Can't Go"})}),d.jsxs(Pl,{to:`/event/${Le}`,className:"block hover:opacity-80 transition-opacity",children:[d.jsx("h4",{className:"font-medium mb-2",children:Se}),_e&&d.jsx("p",{className:"text-muted-foreground text-sm",children:Te.kind===31922?new Date(_e+"T00:00:00Z").toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):new Date(parseInt(_e)*1e3).toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})}),d.jsx("p",{className:"text-muted-foreground text-sm mt-2",children:Te.content})]}),ae.content&&d.jsxs("p",{className:"text-muted-foreground text-sm mt-2",children:["Your note: ",ae.content]})]})},ae.id)})})]})]})]})}):d.jsx("div",{className:"container px-0 sm:px-4 py-2 sm:py-6",children:d.jsx(qr,{className:"rounded-none sm:rounded-lg",children:d.jsx(Kr,{className:"p-6 text-center",children:d.jsx("p",{className:"text-destructive",children:"Invalid profile address"})})})})}function ZQ(){const{nostr:e}=Os(),{user:t}=lr(),{data:n=[],isLoading:r}=xs({queryKey:["userRSVPs",t==null?void 0:t.pubkey],queryFn:async({signal:u})=>t!=null&&t.pubkey?await e.query([{kinds:[31925],authors:[t.pubkey]}],{signal:AbortSignal.any([u,AbortSignal.timeout(3e3)])}):[],enabled:!!(t!=null&&t.pubkey),retry:1,staleTime:3e4}),{data:s=[],isLoading:i}=xs({queryKey:["userRSVPEvents",n],queryFn:async({signal:u})=>{if(!n.length)return[];const p=n.map(y=>{var g;return(g=y.tags.find(S=>S[0]==="e"))==null?void 0:g[1]}).filter(y=>y!==void 0);return p.length?await e.query([{kinds:[31922,31923],ids:p}],{signal:AbortSignal.any([u,AbortSignal.timeout(3e3)])}):[]},enabled:!!n.length,retry:1,staleTime:3e4}),c=xs({queryKey:["processedUserRSVPs",n,s],queryFn:async()=>{var g,S,k,T;if(!n.length||!s.length)return{upcoming:[],past:[]};const u=[],p=new Date;for(const E of n){const N=(g=E.tags.find(Y=>Y[0]==="e"))==null?void 0:g[1],O=((S=E.tags.find(Y=>Y[0]==="status"))==null?void 0:S[1])||"accepted",D=s.find(Y=>Y.id===N);if(!N||!D)continue;const M=((k=D.tags.find(Y=>Y[0]==="title"))==null?void 0:k[1])||"Untitled",z=(T=D.tags.find(Y=>Y[0]==="start"))==null?void 0:T[1];if(!z)continue;let q;D.kind===31922?q=new Date(z+"T00:00:00Z"):q=new Date(parseInt(z)*1e3),u.push({rsvp:E,event:D,status:O,eventTitle:M,eventDate:q,eventStartTime:z})}const m=u.filter(E=>E.eventDate>=p).sort((E,N)=>E.eventDate.getTime()-N.eventDate.getTime()),y=u.filter(E=>E.eventDate<p).sort((E,N)=>N.eventDate.getTime()-E.eventDate.getTime());return{upcoming:m,past:y}},enabled:!!n.length&&!!s.length,staleTime:3e4});return{data:c.data,isLoading:r||i||c.isLoading,error:c.error}}function sN({rsvpData:e}){var u;const{event:t,status:n,eventTitle:r,eventDate:s}=e,i=(u=t.tags.find(p=>p[0]==="location"))==null?void 0:u[1],c=zv(t);return d.jsxs(qr,{className:"mb-4",children:[d.jsx(gh,{children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx(Hm,{className:"text-lg",children:d.jsx(Pl,{to:`/event/${c}`,className:"hover:text-primary transition-colors",children:r})}),d.jsx(eE,{className:"mt-1",children:t.content})]}),d.jsx("div",{className:"flex gap-2 flex-col items-end",children:d.jsx(Vi,{variant:"outline",className:n==="accepted"?"bg-green-500/10 text-green-500":n==="tentative"?"bg-yellow-500/10 text-yellow-500":"bg-red-500/10 text-red-500",children:n==="accepted"?"Going":n==="tentative"?"Maybe":"Can't Go"})})]})}),d.jsx(Kr,{children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[d.jsx(pS,{className:"h-4 w-4"}),d.jsx("span",{children:t.kind===31922?s.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}):s.toLocaleString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})})]}),t.kind===31923&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[d.jsx(Yj,{className:"h-4 w-4"}),d.jsx("span",{children:s.toLocaleTimeString(void 0,{hour:"numeric",minute:"numeric"})})]}),i&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[d.jsx(Z1,{className:"h-4 w-4"}),d.jsx("span",{children:i})]}),e.rsvp.content&&d.jsx("div",{className:"mt-3 p-2 bg-muted/50 rounded-md",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.jsx("strong",{children:"Your note:"})," ",e.rsvp.content]})})]})})]})}function oN(){return d.jsx("div",{className:"space-y-4",children:[...Array(3)].map((e,t)=>d.jsxs(qr,{className:"mb-4",children:[d.jsx(gh,{children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(Pf,{className:"h-5 w-3/4"}),d.jsx(Pf,{className:"h-4 w-full"})]})}),d.jsx(Kr,{children:d.jsxs("div",{className:"space-y-2",children:[d.jsx(Pf,{className:"h-4 w-1/2"}),d.jsx(Pf,{className:"h-4 w-1/3"}),d.jsx(Pf,{className:"h-4 w-2/3"})]})})]},t))})}function QQ(){const{user:e}=lr(),[t,n]=_.useState("upcoming"),{data:r,isLoading:s,error:i}=ZQ();return e?d.jsxs("div",{className:"container px-0 sm:px-4 py-2 sm:py-6 space-y-3 sm:space-y-6",children:[d.jsxs("div",{className:"px-3 sm:px-0",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight mb-2",children:"My Tickets"}),d.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:"View your upcoming events and past event history"})]}),d.jsxs(SS,{value:t,onValueChange:n,className:"w-full",children:[d.jsxs(iw,{className:"grid w-full grid-cols-2",children:[d.jsx(fd,{value:"upcoming",children:"Upcoming"}),d.jsx(fd,{value:"past",children:"Past"})]}),d.jsx(hd,{value:"upcoming",className:"mt-6",children:s?d.jsx(oN,{}):i?d.jsx(qr,{className:"p-8 text-center",children:d.jsxs(Kr,{className:"pt-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error Loading Events"}),d.jsx("p",{className:"text-muted-foreground",children:"There was an error loading your events. Please try again."})]})}):d.jsx("div",{className:"space-y-4",children:r!=null&&r.upcoming&&r.upcoming.length>0?r.upcoming.map(c=>d.jsx(sN,{rsvpData:c},c.rsvp.id)):d.jsx(qr,{className:"p-8 text-center",children:d.jsxs(Kr,{className:"pt-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Upcoming Events"}),d.jsx("p",{className:"text-muted-foreground",children:"You haven't RSVPed to any upcoming events yet. Browse events to find something interesting!"})]})})})}),d.jsx(hd,{value:"past",className:"mt-6",children:s?d.jsx(oN,{}):i?d.jsx(qr,{className:"p-8 text-center",children:d.jsxs(Kr,{className:"pt-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error Loading Events"}),d.jsx("p",{className:"text-muted-foreground",children:"There was an error loading your events. Please try again."})]})}):d.jsx("div",{className:"space-y-4",children:r!=null&&r.past&&r.past.length>0?r.past.map(c=>d.jsx(sN,{rsvpData:c},c.rsvp.id)):d.jsx(qr,{className:"p-8 text-center",children:d.jsxs(Kr,{className:"pt-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Past Events"}),d.jsx("p",{className:"text-muted-foreground",children:"You haven't attended any events yet. Start exploring and joining events!"})]})})})})]})]}):d.jsx("div",{className:"container px-0 sm:px-4 py-2 sm:py-6",children:d.jsxs("div",{className:"px-3 sm:px-0 text-center",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight mb-4",children:"My Tickets"}),d.jsx("p",{className:"text-sm md:text-base text-muted-foreground mb-6",children:"Please log in to view your event tickets and RSVPs."}),d.jsx("div",{className:"flex justify-center",children:d.jsx(a_,{className:"max-w-60"})})]})})}function XQ(){const{addNotification:e}=qS(),t=()=>{const s={id:`rsvp-${Date.now()}`,type:"rsvp",timestamp:Date.now(),read:!1,eventId:"test-event-123",eventTitle:"Test Event RSVP",fromPubkey:"npub1test123456789",status:"accepted"};e(s)},n=()=>{const s={id:`comment-${Date.now()}`,type:"comment",timestamp:Date.now(),read:!1,eventId:"test-event-456",eventTitle:"Test Event Comment",fromPubkey:"npub1test987654321",commentContent:"This is a test comment on your awesome event!",commentId:`comment-${Date.now()}`};e(s)},r=()=>{const s={id:`zap-${Date.now()}`,type:"zap",timestamp:Date.now(),read:!1,eventId:"test-event-789",eventTitle:"Test Event Zap",fromPubkey:"npub1test111222333",amount:1e3,comment:"Great event! ⚡"};e(s)};return d.jsx("div",{className:"container mx-auto py-8",children:d.jsxs(qr,{className:"max-w-md mx-auto",children:[d.jsx(gh,{children:d.jsx(Hm,{children:"Notification Test"})}),d.jsxs(Kr,{className:"space-y-4",children:[d.jsx(Pt,{onClick:t,className:"w-full",children:"Add Test RSVP Notification"}),d.jsx(Pt,{onClick:n,className:"w-full",children:"Add Test Comment Notification"}),d.jsx(Pt,{onClick:r,className:"w-full",children:"Add Test Zap Notification"}),d.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Click the bell icon in the header to view notifications"})]})]})})}function JQ(){return d.jsxs(uL,{children:[d.jsx(jf,{path:"/",element:d.jsx(vG,{})}),d.jsx(jf,{path:"/event/:eventId",element:d.jsx(hQ,{})}),d.jsx(jf,{path:"/create",element:d.jsx(mQ,{})}),d.jsx(jf,{path:"/profile/:npub",element:d.jsx(GQ,{})}),d.jsx(jf,{path:"/tickets",element:d.jsx(QQ,{})}),d.jsx(jf,{path:"/test-notifications",element:d.jsx(XQ,{})})]})}function eX(){const{theme:e}=LR();return _.useEffect(()=>{const t=document.documentElement,r=getComputedStyle(t).getPropertyValue("--background").trim(),[s,i,c]=r.split(" ").map(Number),u=tX(s,i,c),p=document.querySelector('meta[name="theme-color"]');p&&p.setAttribute("content",u)},[e]),null}function tX(e,t,n){t=t/100,n=n/100;const r=(1-Math.abs(2*n-1))*t,s=r*(1-Math.abs(e/60%2-1)),i=n-r/2;let c=0,u=0,p=0;return e>=0&&e<60?(c=r,u=s,p=0):e>=60&&e<120?(c=s,u=r,p=0):e>=120&&e<180?(c=0,u=r,p=s):e>=180&&e<240?(c=0,u=s,p=r):e>=240&&e<300?(c=s,u=0,p=r):(c=r,u=0,p=s),c=Math.round((c+i)*255),u=Math.round((u+i)*255),p=Math.round((p+i)*255),`rgb(${c}, ${u}, ${p})`}function nX(){const{nostr:e}=Os(),{user:t}=lr(),{addNotification:n}=qS(),r=_.useRef(new Set),{data:s=[]}=xs({queryKey:["userEvents",t==null?void 0:t.pubkey],queryFn:async({signal:c})=>t!=null&&t.pubkey?await e.query([{kinds:[31922,31923],authors:[t.pubkey],limit:100}],{signal:AbortSignal.any([c,AbortSignal.timeout(5e3)])}):[],enabled:!!(t!=null&&t.pubkey),staleTime:6e4}),i=async c=>{var p,m,y,g;if(r.current.has(c.id)||(r.current.add(c.id),c.pubkey===(t==null?void 0:t.pubkey)))return;const u=Math.floor(Date.now()/1e3)-60*60;if(!(c.created_at<u))try{let S=null;if(c.kind===31925){const k=c.tags.find(E=>E[0]==="e"),T=c.tags.find(E=>E[0]==="status");if(k&&T){const E=k[1],N=T[1],O=s.find(D=>D.id===E);if(O){const D=((p=O.tags.find(M=>M[0]==="title"))==null?void 0:p[1])||"Untitled Event";S={id:c.id,type:"rsvp",timestamp:c.created_at*1e3,read:!1,eventId:E,eventTitle:D,fromPubkey:c.pubkey,status:N}}}}else if(c.kind===1111){const k=c.tags.find(T=>T[0]==="e");if(k){const T=k[1],E=s.find(N=>N.id===T);if(E){const N=((m=E.tags.find(O=>O[0]==="title"))==null?void 0:m[1])||"Untitled Event";S={id:c.id,type:"comment",timestamp:c.created_at*1e3,read:!1,eventId:T,eventTitle:N,fromPubkey:c.pubkey,commentContent:c.content,commentId:c.id}}}}else if(c.kind===9735){const k=c.tags.find(E=>E[0]==="e"),T=c.tags.find(E=>E[0]==="description");if(k&&T)try{const E=JSON.parse(T[1]),N=(y=E.tags)==null?void 0:y.find(O=>O[0]==="amount");if(N){const O=k[1],D=s.find(M=>M.id===O);if(D){const M=parseInt(N[1]),z=Math.floor(M/1e3),q=((g=D.tags.find(Y=>Y[0]==="title"))==null?void 0:g[1])||"Untitled Event";S={id:c.id,type:"zap",timestamp:c.created_at*1e3,read:!1,eventId:O,eventTitle:q,fromPubkey:c.pubkey,amount:z,comment:E.content||void 0}}}}catch(E){console.error("Failed to parse zap request:",E)}}S&&n(S)}catch(S){console.error("Error processing notification event:",S)}};xs({queryKey:["recentNotifications",t==null?void 0:t.pubkey,s],queryFn:async({signal:c})=>{if(!(t!=null&&t.pubkey)||!s.length)return[];const u=s.map(g=>g.id),p=Math.floor(Date.now()/1e3)-24*60*60,m=[{kinds:[31925],"#e":u,since:p},{kinds:[1111],"#e":u,since:p},{kinds:[9735],"#e":u,since:p}],y=await e.query(m,{signal:AbortSignal.any([c,AbortSignal.timeout(1e4)])});for(const g of y)await i(g);return y},enabled:!!(t!=null&&t.pubkey)&&!!s.length,staleTime:3e4,refetchInterval:6e4})}function rX({children:e}){return nX(),d.jsx(d.Fragment,{children:e})}const sX=new jN;function oX(){return d.jsx(EV,{defaultTheme:"system",storageKey:"plektos-theme",children:d.jsx(RN,{client:sX,children:d.jsx(BV,{children:d.jsxs(rX,{children:[d.jsx(eX,{}),d.jsx(rK,{children:d.jsx(JQ,{})}),d.jsx(QB,{})]})})})})}const iX=new jN({defaultOptions:{queries:{refetchOnWindowFocus:!0,staleTime:0,gcTime:0,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}}});W3.createRoot(document.getElementById("root")).render(d.jsx(Ve.StrictMode,{children:d.jsx(RN,{client:iX,children:d.jsx(vL,{children:d.jsx(bB,{storageKey:"plektos-login",children:d.jsx(EB,{relays:["wss://relay.damus.io","wss://relay.primal.net","wss://nos.lol","wss://relay.nostr.band","wss://ditto.pub/relay"],children:d.jsx(oX,{})})})})})}));
//# sourceMappingURL=index-DPvLYybl.js.map
